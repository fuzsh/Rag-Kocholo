{
    "id": "correct_subsidiary_00128_3",
    "rank": 46,
    "data": {
        "url": "https://docs.oracle.com/cd/E37115_01/admin.1112/e60558/otp.htm",
        "read_more_link": "",
        "language": "en",
        "title": "Setting Up OTP Anywhere",
        "top_image": "",
        "meta_img": "",
        "images": [
            "https://docs.oracle.com/cd/E37115_01/admin.1112/e60558/img/aamad_jd_079.gif",
            "https://docs.oracle.com/cd/E37115_01/admin.1112/e60558/img/ums.gif"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": "2015-02-09T11:59:08+00:00",
        "summary": "",
        "meta_description": "Documentation for administrators that describes how to use Oracle Adaptive Access Manager to effectively create static policies, patterns, and predictive policies to perform risk analysis. It also contains instructions to set up risk-based authentication methods.",
        "meta_lang": "en",
        "meta_favicon": "",
        "meta_site_name": "",
        "canonical_link": null,
        "text": "8.1 Introduction and Concepts\n\nThis section introduces you to the concept of one-time password (OTP) and how it is used in Oracle Adaptive Access Manager.\n\n8.1.1 What is a One-Time Password?\n\nA one-time password is a randomly generated, single-use authentication credential. OTP is a form of secondary authentication that is used in addition to standard user name and password credentials to strengthen the existing authentication and authorization process, thereby providing additional security for users. When the user is OTP-challenged, a one-time password is generated and delivered to the user through one of the configured channels. The user must retrieve the one-time password and enter it when prompted, before the one-time password expires.\n\nThe one-time password may be either numeric or alphanumeric and any configured length and the randomization algorithm is pluggable.\n\nThe following are major benefits of using out-of-band OTP:\n\nThe OTP is delivered to the valid user through one of the configured channels. These can include SMS, Instant Messaging (IM), and e-mail.\n\nThe user does not require any proprietary hardware or client software of any kind.\n\n8.1.2 About Out-of-Band OTP Delivery\n\nOracle Adaptive Access Manager 11g contains OTP authentication capabilities that support delivery of the OTP via the following three out-of-band channels:\n\ne-mail\n\nShort Message Service (SMS)\n\ninstant messaging\n\nBy default, only cell phone registration is displayed on the OTP Registration page.\n\n8.1.3 How Does OTP Work?\n\nDuring the Registration process in OAAM, the user is asked to register for questions, image, phrase and OTP (e-mail, phone, and so on) if the deployment supports OTP. Once successfully registered, OTP can be used as a secondary authentication to challenge the user.\n\nThe administrator can enable the OTP if the deployment supports OTP. The login process begins with entering standard user name and password credentials. During a session, for example, when the user is making a large transaction, if the user is OTP-challenged, the password is delivered to the user through the configured delivery channel. The user retrieves the one-time password, then enters it.\n\nIf the correct answer is provided, the user is directed to continue with the operation. If the user answers incorrectly, he is allowed other attempts until he either answers correctly or is locked out of his account after a certain number of failures. By default, the user is allowed three attempts to provide the correct answer.\n\n8.1.4 OTP Failure Counters\n\nThe failure counter is incremented when the user supplies an incorrect answer during a challenge.\n\nOTP failure counters consolidate failures from different channels. For example, if multiple channels are used, the OTP status displays Locked if the combined OTP counters are above the threshold. So, if user failed SMS twice and e-mail once and threshold is 3, the user is locked.\n\nThe Reset Action resets all challenge failure counters:\n\nReset KBA: Re-register KBA; KBA and OTP counters are reset to zero\n\nCSR KBA reset: Re-register KBA; KBA and OTP counters are reset to zero\n\nReset OTP: Re-register OTP; KBA and OTP counters are reset to zero\n\nThe Unlock action unlocks the user account for both KBA and OTP:\n\nUnlock KBA: KBA and OTP counters are reset to zero\n\nUnlock OTP: KBA and OTP counters are reset to zero.\n\n8.1.5 Challenge Type\n\nThe challenge type is the delivery channel used to send an OTP to challenge the user. For example, policies can challenge using OTP via the challenge type (e-mail, SMS, or IM).\n\nTable 8-1 OTP Challenge Types\n\nChallenge Type Description\n\nChallengeEmail\n\nOTP challenge via e-mail\n\nChallengeSMS\n\nOTP challenge via Short Message Service (SMS)\n\nChallengeIM\n\nOTP challenge via instant messaging\n\nAn integrator can create or configure a challenge type to handle a challenge that is required, such as generating the \"secret\" used for the challenge to delivering the \"secret\" to the user and finally validating the user's input.\n\nThe challenge type properties are used to associate a challenge type with a Challenge Processor, the java code needed to perform any work for challenges.\n\n8.1.6 KBA vs. OTP\n\nOracle Adaptive Access Manager deployments may choose to use both KBA and OTP or each separately or no challenge mechanisms at all. If both KBA and OTP are being used in a deployment, the security team may choose to use OTP first for high risk situations and then KBA.\n\nFor example, a user logging in from a new IP addresses in a city he often logs in from is relatively low risk on its own, so a KBA challenge is a good option to gain additional verification that this is the valid user. If, however, a user is attempting a funds transfer of more than $1000 using a device and location he has never accessed from previously and the user has never performed a transfer, a stronger measure such as OTP Anywhere would be warranted.\n\nIf a customer has both KBA and OTP enabled, the priority is configurable through properties. The default is to OTP challenge first and then KBA challenge for high risk situations.\n\nFor information on KBA and OTP Anywhere priority, see Table 10-33, \"OAAM Challenge Trigger Combinations\".\n\n8.4 Prerequisites for Configuring OTP\n\nEnsure that the following prerequisites are met before configuring OTP for your application:\n\nInstall SOA Suite\n\nConfigure the Delivery Channels\n\nFigure 8-2 shows an OTP implementation.\n\nFigure 8-1 An OTP Implementation\n\nDescription of \"Figure 8-1 An OTP Implementation\"\n\n8.4.1 Install SOA Suite\n\nThe Oracle SOA Suite contains the User Messaging Service (UMS). Before you can configure the Oracle User Messaging Service (UMS) driver and OTP, you must have installed the SOA Suite 11g, configured the SOA Domain and have the Admin Server and the SOA Server running. You also need access to the Oracle Enterprise Manager Fusion Middleware Control Console.\n\nFor information, refer to the Oracle Fusion Middleware Installation Guide for Oracle SOA Suite and Oracle Business Process Management Suite.\n\n8.4.2 Configure the Delivery Channels\n\nIn addition to the components that comprise the User Messaging Service (UMS) itself, the other key entities in a messaging environment are the external gateways required for each messaging channel. These gateways are not a part of the User Messaging Service (UMS) or Oracle WebLogic Server. Since UMS drivers support widely-adopted messaging protocols, UMS can be integrated with existing infrastructures such as an e-mail servers or XMPP servers. Alternatively, UMS can connect to outside providers of SMS service that support SMPP.\n\nFigure 8-2 Oracle User Messaging Service\n\nDescription of \"Figure 8-2 Oracle User Messaging Service \"\n\nUMS must be configured for appropriate delivery gateways on the SOA that the OAAM Server is configured to send messages through.\n\nUMS Drivers connect UMS to the messaging gateways. The drivers handle traffic for a specific channel. They need to be configured with the properties of the appropriate delivery server, protocol, and so on from which messages are sent. The OAAM Server will be set up for the channels. To configure drivers, follow the steps in \"Configuring User Messaging Service Drivers\" in Oracle Fusion Middleware Administrator's Guide for Oracle SOA Suite and Oracle Business Process Management Suite.\n\n8.4.2.1 Email Driver\n\nConfigure the Email driver to a SMTP server as described in \"Configuring the Email Driver\" in Oracle Fusion Middleware Administrator's Guide for Oracle SOA Suite and Oracle Business Process Management Suite. You will need to provide parameter values for connecting to the remote gateway.\n\nTable 8-4 Connecting to the SMTP Server\n\nParameter Description\n\nPress Apply. To have these settings take effect, the driver has to be restarted.\n\n8.4.2.2 SMPP Driver\n\nShort Message Peer-to-Peer (SMPP) is one of the most popular GSM SMS protocols. User Messaging Service includes a prebuilt implementation of the SMPP protocol as a driver that is capable of both sending and receiving short messages.\n\nNote:\n\nFor SMS, unlike the Email driver that is deployed as standard, you must deploy the SMPP driver first before modifying the configurations.\n\nConfigure the SMPP driver as described in the \"Configuring the SMPP Driver\" section of the Oracle Fusion Middleware Administrator's Guide for Oracle SOA Suite. You will need to provide parameter values for connecting to the driver gateway vendor.\n\nTable 8-5 Connecting to the Vendor\n\nParameter Description\n\nAfter providing the parameter values, press Apply. To have these settings take effect, the driver must be restarted.\n\n8.9 Configuring Your Policies and Rules to Use OTP Challenge\n\nPolicies in the Challenge checkpoint determine the type of challenge to present the user. For more information, refer to Section 10.5.6.1, \"OAAM Challenge.\"\n\nTo configure a policy with a rule that OTP-challenge users for specific scenarios, perform the following steps:\n\nLog in to the OAAM Administration Console.\n\nDouble-click Policies in the Navigation pane.\n\nThe Policies Search page displays.\n\nIn the Policies Search page, click the New Policy button.\n\nThe New Policy page appears. In the Summary tab, create a post-authentication security policy:\n\nFor Policy Name, enter OTP Challenge for Many Failures.\n\nFor Description, enter a description for the policy.\n\nFor Checkpoint, select Post-Authentication.\n\nModify the policy status, scoring engine, and weight according to your requirements.\n\nClick Apply.\n\nClick OK to dismiss the confirmation dialog.\n\nClick the Rules tab to select it.\n\nAdd general summary information about the rule.\n\nOn the conditions tab, add User: Check OTP failures condition or other OTP-related conditions.\n\nOn the Results tab, specify OAAM challenge as the Action group.\n\nLink the policy to all users.\n\nIn default policies, if OTP is enabled, KBA challenges occurs after a user is OTP blocked.\n\nHigh risk user are OTP challenged. The user is presented with the appropriate virtual authentication device and receives the OTP through the proper channel. If the user fails the OTP challenge, he is KBA-challenged.\n\n8.10 Customizing OTP Registration Text and Messaging\n\nThe registration page text, the challenge type message subject, the body of the message, and the message itself could be fully customized by specifying the custom values in resource bundle files and deploying the changes via OAAM extension shared libraries.\n\nTo customize content and messaging of the registration pages you will add properties, described in the sections following, to the client_resource_locale.properties file.\n\nCreate a work folder called oaam_extensions. (The folder can be created anywhere as long as it is outside the installation folder.)\n\nLocate oracle.oaam.extensions.war, which is located in the IAM_Home/oaam/oaam_extensions/generic directory.\n\nExplode oracle.oaam.extensions.war into the oaam_extensions folder.\n\nCreate a client_resource_locale.properties in IAM_Home\\oaam\\oaam_extensions\\generic\\WEB-INF\\classes.\n\nShut down the OAAM Admin and OAAM Server managed servers.\n\nStart the WebLogic Server where Oracle Adaptive Access Manager is deployed and log in to the WebLogic Administration Console.\n\nNavigate to Domain Environment, and select Deployments and lock the console.\n\nClick the Install button.\n\nBrowse to the location of the oracle.oaam.extensions.war file and select it by clicking the radio button next to the WAR file and clicking Next.\n\nEnsure Install this deployment as a library is selected and click Next.\n\nSelect deployment targets, OAAM Admin and OAAM Server.\n\nClick Next again to accept the defaults in this next page and then click Finish.\n\nClick the Save button and then Activate Changes.\n\nStart the OAAM Admin and OAAM managed servers.\n\n8.10.1 Customizing Terms and Conditions\n\nTo customize the Terms and Condition text, add the following properties to the resource bundle, client_resource_locale.properties:\n\nTable 8-16 Messaging of Terms and Conditions\n\nProperty Descriptions\n\nThe value for bharosa.uio.default.userinfo.inputs.enum.terms.name includes placeholder links that use OAAM Server pop up screen messaging for \"Terms & Conditions\" and \"Privacy Policy\". The property and resource keys for the contents of the pop up screens are listed as follows.\n\nTable 8-17 Terms & Conditions and Privacy Policy Pop Up Screen Messaging\n\nProperty Descriptions\n\nbharosa.uio.default.messages.enum.terms.name\n\nTerms and Conditions\n\nbharosa.uio.default.messages.enum.terms.description\n\nPLACEHOLDER TEXT FOR TERMS AND CONDITIONS\n\nbharosa.uio.default.messages.enum.privacy.name\n\nPrivacy Policy\n\nbharosa.uio.default.messages.enum.privacy.description\n\nPLACEHOLDER TEXT FOR PRIVACY POLICY\n\n8.10.2 Customizing Mobile Input Registration Fields\n\nTo customize mobile input fields, these properties can be added to the resource bundle, client_resource_locale.properties:\n\nTable 8-18 Mobile Input - Resource Bundle\n\nProperty Default Value Description\n\nbharosa.uio.default.userinfo.inputs.enum.mobile.name\n\nMobile Phone\n\nName for mobile phone field\n\nbharosa.uio.default.userinfo.inputs.enum.mobile.description\n\nMobile Phone\n\nDescription for mobile phone field\n\n8.10.3 Customizing Registration Page Messaging\n\nTo customize the registration page messaging, add the following registration properties to client_resource_locale.properties:\n\nTable 8-19 Registration Resource Bundle\n\nProperty Default Value\n\n8.10.4 Customizing Challenge Messaging\n\nTo customize the challenge type fields, add the following properties to the resource bundle, client_resource_locale.properties:\n\nTable 8-20 Challenge Type Resource Bundle Items\n\nProperty Default Value\n\n8.10.5 Customizing the OTP Messaging\n\nTo customize the OTP messaging, add these properties to the resource bundle, client_resource_locale.properties:\n\nNote:\n\nUser facing strings need to be duplicated into resource bundle. Resource bundle values can be customized by adding them to the client_resource_locale.properties and deploying the file in OAAM Extensions Shared Library.\n\nTable 8-21 Challenge Type Resource Bundle Items\n\nProperty Default Value\n\n8.11 Other Configuration Tasks\n\nIf you want to change the defaults for expiry time, password generation, failure counter, and challenge type devices for OTP, the procedures are provided in this section for your reference.\n\n8.11.1 Configuring One-Time Password Expiry Time\n\nNote:\n\nThis property works for the OTP API, but as of now OAAM Server does not use the API. Hence, by default, OAAM Server OTP is valid for the session or until used.\n\nTo set up OTP SMS password expiry time, add the following property:\n\nbharosa.uio.default.challenge.type.enum.ChallengeSMS.otpexpirytimeMs\n\nTo set up OTP e-mail password expiry time, add the following property:\n\nbharosa.uio.default.challenge.type.enum.ChallengeEmail.otpexpirytimeMs to oaam_custom.properties.\n\nThe time is in milliseconds. If the value is not in milliseconds, you will have to perform a conversion. For example, if you want to set the expiration time for OTP to be 5 minutes, then you must set the property to 300000 ms (5 minutes).\n\n8.11.2 Configure One-Time Password Generation\n\nYou can configure the one-time password through properties edits. The following properties are used to generate the OTP:\n\n# OTP pin generation config bharosa.uio.default.otp.generate.code.length = 5 bharosa.uio.default.otp.generate.code.characters = 1234567890\n\nThe default OTP codes will be 5 characters made up of the numbers 0-9 (for example: 44569).\n\nbharosa.uio.default.otp.generate.code.length designates the length of the OTP.\n\nbharosa.uio.default.otp.generate.code.characters designates the characters to use when generating the OTP.\n\nAn example is shown below for generating a 4 character OTP code with numbers 0-9 and letters a-d (for example: 0c6a):\n\nbharosa.uio.default.otp.generate.code.length = 4 bharosa.uio.default.otp.generate.code.characters = 1234567890abcd\n\n8.11.3 Configuring Failure Counter\n\nWhen a user fails the OTP challenge, a counter is updated to indicate that user has had a failure.\n\nThe failure counter is set by default in the OAAM Challenge Policy, but you can customize it by following these instructions:\n\nOpen the OAAM Challenge Policy.\n\nOpen the appropriate maximum failed OTP rule and edit the appropriate properties. For information, refer to the table below.\n\nTable 8-22 OAAM Maximum OTP Failed Rule Details\n\nRule Rule Condition and Parameters Results\n\n8.11.4 Configuring Challenge Type Devices for OTP\n\nIf you want to change the default challenge type devices used for challenges, proceed as follows:\n\nLog in to the OAAM Administration Console.\n\nIn the Navigation pane, double-click Properties under the Environment node. The Properties Search page is displayed.\n\nEnter bharosa.uio.default.use.authentipad.checkpoint in the Name field and click Search.Click to select the property in the Search Results section, change the value to false, and click Save. in the Name field and click Search.\n\nClick the New Property button to add a new property:\n\nbharosa.uio.default.ChallengeType.authenticator.device=Device\n\nThen click Save to save the property.\n\nExamples of configuring SMS and Email challenges to use the device textpad are shown below:\n\nbharosa.uio.default.ChallengeSMS.authenticator.device=DeviceTextPad bharosa.uio.default.ChallengeEmail.authenticator.device=DeviceTextPad\n\nTable 8-23 shows the properties for the various authentication device types. In the example, the SMS and e-mail authenticators will be the device text pad since the value, DeviceTextPad, was specified. If DeviceKeyPadAlpha was specified as the value, an alphanumeric KeyPad would be displayed.\n\nTable 8-23 Authentication Device Type\n\nProperty Description\n\nAfter configuration, the OTP device will be displayed at the next log in to the application."
    }
}