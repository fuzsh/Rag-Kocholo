{
    "id": "correct_subsidiary_00128_3",
    "rank": 60,
    "data": {
        "url": "https://docs.oracle.com/cd/E52734_01/oim/IDMIG/app_aam.htm",
        "read_more_link": "",
        "language": "en",
        "title": "Integrating Oracle Adaptive Access Manager with Access Manager",
        "top_image": "",
        "meta_img": "",
        "images": [
            "https://docs.oracle.com/cd/E52734_01/oim/IDMIG/img/oaam_login01.gif",
            "https://docs.oracle.com/cd/E52734_01/oim/IDMIG/img/oaam_login02.gif",
            "https://docs.oracle.com/cd/E52734_01/oim/IDMIG/img/oaam_cont1.gif",
            "https://docs.oracle.com/cd/E52734_01/oim/IDMIG/img/oaam_login03.gif",
            "https://docs.oracle.com/cd/E52734_01/oim/IDMIG/img/oaam_login04.gif",
            "https://docs.oracle.com/cd/E52734_01/oim/IDMIG/img/oaam_login05.gif",
            "https://docs.oracle.com/cd/E52734_01/oim/IDMIG/img/oaam_step01.gif",
            "https://docs.oracle.com/cd/E52734_01/oim/IDMIG/img/oaam_step03.gif",
            "https://docs.oracle.com/cd/E52734_01/oim/IDMIG/img/oaam_step04.gif",
            "https://docs.oracle.com/cd/E52734_01/oim/IDMIG/img/oaam_tb05.gif"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": "2016-10-19T10:39:56+00:00",
        "summary": "",
        "meta_description": "Integrating Oracle Adaptive Access Manager (OAAM) with Oracle Access Management Access Manager (Access Manager) enables fine control over the authentication process and provides full capabilities of pre- and post-authentication checking against Oracle Adaptive Access Manager policies.",
        "meta_lang": "en",
        "meta_favicon": "",
        "meta_site_name": "",
        "canonical_link": null,
        "text": "C.3 OAAM Basic Integration with Access Manager\n\nOAAM Basic integration with Access Manager, which is a native integration, requires the OAM Server (which is embedded in Access Manager) and OAAM Admin Server in the Identity Management Middleware WebLogic Domain and a functional OAAM database. Knowledge-based Authentication (KBA) is the only challenge mechanism available in this integration.\n\nThe OAAM Admin Server is used by Access Manager Administrators to import and export policies, create new policies, view sessions, and configure Oracle Adaptive Access Manager functionality. When policies are imported, exported, or configured, the changes are saved to the OAAM database.\n\nOracle Adaptive Access Manager is integrated with Access Manager through the extension libraries and uses them directly. The OAAM Server is not needed in this deployment since the rules engine and the runtime functionality of Oracle Adaptive Access Manager are provided using these libraries. When a user enters the registration flow, Access Manager shows the user the virtual authentication devices and runs the pre-authentication policies by using the OAAM libraries to make API calls. The OAAM libraries internally make JDBC calls to save the data related to the user to the OAAM database.\n\nThis section explains how to configure OAAM Basic integration with Access Manager.\n\nThe following topics explain how this type of integration is implemented:\n\nPrerequisites for OAAM Basic Integration with Access Manager\n\nConfiguring OAAM Basic Integration with Access Manager\n\nC.3.1 Prerequisites for OAAM Basic Integration with Access Manager\n\nPrior to integrating Oracle Adaptive Access Manager with Access Manager, you must have installed all the required components, including any dependencies, and configured the environment in preparation for the integration tasks that follow.\n\nNote:\n\nKey installation and configuration information is provided in this section. However, not all component prerequisite, dependency, and installation instruction is duplicated here. Adapt information as required for your environment.\n\nFor complete installation information, follow the instructions in Installation Guide for Oracle Identity and Access Management.\n\nTable C-3 lists the required components that must be installed and configured before the integration tasks are performed.\n\nTable C-3 Required Components for Integration\n\nComponent Information\n\nAccess Manager\n\nAccess Manager is installed and configured.\n\nFor information on the installation and configuration Access Manager, see \"Installing and Configuring Oracle Identity and Access Management (11.1.2)\" and \"Configuring Oracle Access Management\" in Installation Guide for Oracle Identity and Access Management.\n\nOracle Adaptive Access Manager\n\nOracle Adaptive Access Manager is installed and configured.\n\nFor information on the installation and configuration of Oracle Adaptive Access Manager, see \"Installing and Configuring Oracle Identity and Access Management (11.1.2)\" and \"Configuring Oracle Adaptive Access Manager\" in Installation Guide for Oracle Identity and Access Management.\n\nC.3.2 Starting the Administration Server and Access Manager Managed Server\n\nStart the Administration Server and Access Manager Managed Server.\n\nStart the WebLogic Administration Server:\n\nDOMAIN_HOME/bin/startWeblogic.sh\n\nStart the managed server hosting the OAM Server:\n\nDOMAIN_HOME/bin/startManagedWeblogic.sh oam_server1\n\nFor information on starting the Administration Server and Managed Servers, see \"Starting the Stack\" in Installation Guide for Oracle Identity and Access Management.\n\nC.3.3 Configuring OAAM Basic Integration with Access Manager\n\nFollow the steps in this section to implement the Access Manager and Oracle Adaptive Access Manager integration.\n\nCreating a Resource in Access Manager\n\nLog in to the Oracle Access Management Console:\n\nhttp://oam_adminserver_host:oam_adminserver_port/oamconsole\n\nIn the Oracle Access Management Console, click Application Security at the top of the window.\n\nIn the Application Security console, click Application Domains in the Access Manager section.\n\nIn the Search Application Domains page that appears, enter IAM Suite in the Name field.\n\nClick the Search button to initiate the search.\n\nClick IAM Suite in the Search Results table and click Edit.\n\nIn the IAM Suite Application Domain, click the Resources tab, then click Create in the Search Results toolbar.\n\nIn the Create Resource page, create the protected resource.\n\nFor example, provide the following information for the resource:\n\nHost Identifier: IDMDomain\n\nResource URL:/higherriskresource\n\nClick Apply to add this resource to the Application Domain.\n\nFor information on creating a resource see \"Adding and Managing Policy Resource Definitions\" in Administrator's Guide for Oracle Access Management.\n\nCreate a New Authentication Policy\n\nCreate a new Authentication Policy under IAMSuiteAgent and make sure to set the Authentication Scheme to OAAMBasic.\n\nIn this step, you are associating the protected resource with the OAAMBasic Authentication Scheme.\n\nIn the Oracle Access Management Console, click Application Security at the top of the window.\n\nIn the Application Security console, click Application Domains in the Access Manager section.\n\nIn the Search Application Domains page that appears, enter IAM Suite in the Name field.\n\nClick the Search button to initiate the search.\n\nChoose IAM Suite in the Search Results table and click Edit.\n\nIn the IAM Suite Application Domain page, click the Authentication Policies tab, then click the Create button in the Search Results toolbar to open the Create Authentication Policy page.\n\nIn the Create Authentication Policy page, add the required elements for the policy you are creating:\n\nName: A unique name used as an identifier. For example, HighPolicy.\n\nDescription (optional): Optional unique text that describes this authentication policy.\n\nAuthentication Scheme: OAAMBasic\n\nSuccess URL: The redirect URL to be used upon successful authentication.\n\nFailure URL: The redirect URL to be used if authentication fails.\n\nIn the Create Authentication Policy page, add the resource you have created:\n\nClick the Resources tab.\n\nClick the Add button in the Resources tab.\n\nClick the Search button to display all the resources available.\n\nChoose the URL of the resource you created in the IDMDomain. For example, /higherriskresource.\n\nThe listed URLs were added to this application domain earlier. You can add one or more resources to protect with this authentication policy. The resource definition must exist within the application domain before you can include it in a policy.\n\nClick Add Selected.\n\nClick Apply to save changes.\n\nIn the Create Authentication Policy page, click the Responses tab to add responses.\n\nResponses are the obligations (post authentication actions) to be carried out by the Web agent. After successful authentication, the application server hosting the protected application can assert the user identity based on these responses. After a failed authentication, the browser redirects the request to a pre-configured URL\n\nFor information on responses, see \"Adding and Managing Policy Responses for SSO\" in Administrator's Guide for Oracle Access Management.\n\nClose the page when you finish.\n\nFor information on creating an authentication policy for a particular resource, see \"Defining Authentication Policies for Specific Resources\" in Administrator's Guide for Oracle Access Management.\n\nCreate a New Authorization Policy\n\nCreate a new authorization policy.\n\nIn the Oracle Access Management Console, click Application Security at the top of the window.\n\nIn the Application Security console, click Application Domains in the Access Manager section.\n\nIn the Search Application Domains page that appears, enter IAM Suite in the Name field.\n\nClick the Search button to initiate the search.\n\nClick IAM Suite in the Search Results table and click Edit.\n\nIn the IAM Suite Application Domain page, click the Authorization Policies tab, then click the Create button in the Search Results toolbar. to open the Create Authorization Policy page.\n\nClick the Summary tab and enter a unique name for this authorization policy.\n\nClick the Resources tab and click the Add button.\n\nClick the Search button to display all the resources available.\n\nFrom the Results table, click the resource URL in the IDMDomain.\n\nResource URL: /higherriskresource\n\nClick Add Selected.\n\nClick Apply to save changes and close the confirmation window.\n\nFor information on creating an authorization policy for a specific resource, see \"Defining Authorization Policies for Specific Resources\" in Administrator's Guide for Oracle Access Management.\n\nCreate User with Privileges to Log into the OAAM Administration Console\n\nCreate an OAAM user that has the correct privileges to log in to the OAAM Administration Console and then grant the necessary groups to the user.\n\nFor information on creating OAAM users and assigning them to groups, see Section C.4.4, \"Creating the OAAM Users and OAAM Groups.\"\n\nModify oam-config.xml\n\nLocate and modify the oam-config.xml file manually using a text editor.\n\nThe oam-config.xml file contains all Access Manager-related system configuration data and is located in the DOMAIN_HOME/config/fmwconfig directory.\n\nLocate the following line and set the OAAMEnabled property to true as shown:\n\n<Setting Name=\"OAAMEnabled\" Type=\"xsd:boolean\">true</Setting>\n\nNote:\n\nIn the oam-config.xml file, you must increment the version number given in the file for this integration to work. For example, if the version number is 1 in the file, change it to 2.\n\nIf you prefer to use the configureOAAM WLST command to create the data source, associate it as a target with the OAM Server, and enable the property in the oam-config.xml, refer to \"Using ConfigureOAAM WLST Command to Create the Data Source in OAAM Basic Integration with Access Manager\".\n\nFor information on the oam-config.xml file, see \"About the Oracle Access Management Configuration Data File: oam-config.xml\" in Administrator's Guide for Oracle Access Management.\n\nStart the OAAM Admin Server\n\nStart the OAAM Admin Server, oaam_admin_server1.\n\nDOMAIN_HOME/bin/startManagedWeblogic.sh oaam_admin_server1\n\nImport the OAAM Snapshot\n\nA full snapshot of policies, rules, challenge questions, dependent components, and configurations is shipped with Oracle Adaptive Access Manager. This snapshot is required for the minimum configuration of OAAM. Import the snapshot into the system by following the instructions in Section C.4.5, \"Importing the Oracle Adaptive Access Manager Snapshot.\"\n\nShut down the OAAM Administration Server\n\nShut down the OAAM Administration Server, oaam_admin_server1:\n\nDOMAIN_HOME/bin/stopManagedWeblogic.sh oaam_admin_server1\n\nCreate a Data Source\n\nLog in to the Oracle WebLogic Administration Console:\n\nhttp://weblogic_admin_server:7001/console\n\nSince Oracle Adaptive Access Manager is not installed in the same WebLogic Domain as Access Manager, perform the following steps for Access Manager:\n\nCreate a data source with the following JNDI name:\n\njdbc/OAAM_SERVER_DB_DS\n\nNote:\n\nThe name of the data source can be any valid string, but the JNDI name should be as shown above.\n\nTo the schema you created as part of the Oracle Adaptive Access Manager configuration, provide the connection details for the OAAM Database.\n\nClick Services and then Database Resources and locate the OAAM_SERVER_DB_DS resource.\n\nLock the environment by clicking the Lock button in the upper left corner of the WebLogic Administration Console.\n\nOpen the OAAM_SERVER_DB_DS resource and click the Target tab. Once there, you are presented a list of WebLogic Servers that are available.\n\nAssociate Administration Server and oam_server1 as targets with the data source.\n\nClick the Activate button in the upper left corner of the Oracle WebLogic Administration Console.\n\nFor information on configuring JDBC data sources, see \"Configuring JDBC Data Sources\" in Oracle Fusion Middleware Configuring and Managing JDBC Data Sources for Oracle WebLogic Server.\n\nTest the Configuration\n\nTo verify the configuration, remote register two agents, each protecting a resource.\n\nUse the Oracle Access Management Console to associate the first resource with the OAAMBasic policy for the authentication flow. Associate the second resource with the LDAPScheme.\n\nAccess the protected resource configured earlier to verify the configuration.\n\nYou are prompted to enter a user name. Then, on a separate screen you are prompted for the password.\n\nOnce the user name and password are validated you are asked to select and answer three challenge questions. Once completed you are taken to the protected application.\n\nC.4 OAAM Advanced Integration with Access Manager\n\nIntegrating Oracle Adaptive Access Manager with Access Manager provides an enterprise with advanced access security features that greatly improve the level of protection for applications. Features including anti-phishing, anti-malware, device fingerprinting, behavioral profiling, geolocation mapping, real-time risk analysis and multiple risk-based challenge mechanisms such as one-time password and knowledge based authentication questions provide an increased level of access security.\n\nThis section explains how to integrate Oracle Adaptive Access Manager with Access Manager in \"OAAM Advanced using TAP.\"\n\nIn OAAM Advanced Integration using TAP, OAAM Server acts as a trusted partner application. The OAAM Server uses the Trusted authentication protocol (TAP) to communicate the authenticated username to OAM Server after it performs strong authentication and risk and fraud analysis. The OAM Server then redirects the user to the protected resource.\n\nOAAM Advanced integration with Access Manager can involve scenarios with or without Oracle Identity Manager.\n\nWith Oracle Identity Manager\n\nIntegration with Oracle Identity Manager provides users with richer password management functionality, including secure \"Forgot Password\" and \"Change Password\" flows.\n\nFor integration details, see Chapter 3, \"Integrating Access Manager, OAAM, and OIM\".\n\nWithout Oracle Identity Manager\n\nIf Oracle Identity Manager is not part of your environment, follow the integration procedure described in this chapter.\n\nC.4.1 Roadmap for OAAM Advanced Integration with Access Manager\n\nTable C-4 lists the high-level tasks for integrating Oracle Adaptive Access Manager with Access Manager.\n\nThe configuration instructions assume Oracle Adaptive Access Manager is integrated with Access Manager using the out-of-the box integration.\n\nTable C-4 Roadmap for OAAM Advanced Integration with Access Manager\n\nC.4.2 Prerequisites for OAAM Advanced Integration with Access Manager\n\nPrior to configuring Oracle Adaptive Access Manager with Access Manager, you must have installed all the required components, including any dependencies, and configured the environment in preparation of the integration tasks that follow.\n\nNote:\n\nKey installation and configuration information is provided in this section. However, not all component prerequisite, dependency, and installation instruction is duplicated here. Adapt information as required for your environment.\n\nFor complete installation information, follow the instructions in Installation Guide for Oracle Identity and Access Management.\n\nTable C-5 lists the required components that must be installed and configured before the integration tasks are performed.\n\nTable C-5 Required Components for Integration\n\nComponent Information\n\nC.4.3 Restarting the Servers\n\nBefore you can perform tasks in this section, ensure that the Oracle Access Management Console and OAAM Administration Console and managed servers are running. To restart the servers, perform these steps:\n\nStart the WebLogic Administration Server:\n\nOAM_DOMAIN_HOME/bin/startWeblogic.sh\n\nSince OAAM is installed and configured in a different WebLogic Domain from Access Manager, you must also start the WebLogic Administration Server located in OAAM_Domain_Home:\n\nOAAM_DOMAIN_HOME/bin/startWeblogic.sh\n\nOAM_DOMAIN_HOME is the WebLogic Domain which contains Access Manager and OAAM_DOMAIN_HOME is the WebLogic Domain which contains OAAM.\n\nStart the managed server hosting the OAM Server:\n\nOAM_DOMAIN_HOME/bin/startManagedWeblogic.sh oam_server1\n\nStart the managed server hosting OAAM Admin Server:\n\nOAAM_DOMAIN_HOME/bin/startManagedWeblogic.sh oaam_admin_server1\n\nStart the managed server hosting the Oracle Adaptive Access Manager runtime server:\n\nOAAM_DOMAIN_HOME/bin/startManagedWeblogic.sh oaam_server_server1\n\nFor information on starting the Administration Server and Managed Servers, see \"Starting the Stack\" in Installation Guide for Oracle Identity and Access Management.\n\nC.4.4 Creating the OAAM Users and OAAM Groups\n\nNote:\n\nSkip this step if you have already created OAAM users and OAAM groups during post-installation.\n\nBefore integrating Oracle Adaptive Access Manager with Access Manager, you must take into account whether the OAAM Administration Console is being protected. In order to access the OAAM Administration Console, you must create administration users.\n\nIf you are protecting the OAAM Administration Console, you must create users and groups in the external LDAP store using the idmConfigTool. For details, see Section D.4.2.3, \"prepareIDStore mode=OAAM\"\n\nOR\n\nIf you are not protecting the OAAM Administration Console, create the administration user using the WebLogic Administration Console.\n\nTo disable OAAM Administration Console protection, refer to Section C.6.5, \"Disabling OAAM Administration Console Protection.\"\n\nThe following are instructions to create an administration user using the WebLogic Administration Console and associate that user to an OAAM group:\n\nCreate groups in the external LDAP store using the idmConfigTool. For details, see Section D.4.2.3, \"prepareIDStore mode=OAAM\"\n\nLog in to the Oracle WebLogic Administration Console for your WebLogic Domain.\n\nUnder Domain Structure in the left pane, select Security Realms.\n\nIn the Summary of Security Realms page, select the realm that you are configuring (for example, myrealm).\n\nIn the Settings for Realm Name page select Users and Groups and then Users.\n\nClick New and provide the required information to create a user, such as user1, in the security realm:\n\nName: oaam_admin_username\n\nDescription: optional\n\nProvider: DefaultAuthenticator\n\nPassword: Enter a password for the administrator\n\nConfirmation: Re-enter the password for the administrator\n\nImportant: User names must not include tabs or any of the following characters: semicolons, commas, plus signs, equal signs, and single backslash characters. In addition, it may not start with a pound sign or double quotations. If a user is created with any of the invalid characters, the WebLogic domain can become corrupted.\n\nClick OK to save your changes.\n\nuser1 appears in the User table.\n\nIn the Users table, select the newly created user, user1.\n\nIn the Settings for User Name page, click the Groups tab.\n\nSelect a group or groups from the Available list box with the OAAM keyword to the user, user1.\n\nTo add a user1 to a group, click the right arrow to move the selection to the Chosen list box.\n\nYou must set up the OAAM groups in the external LDAP store prior to associating users to the groups; otherwise, they will not be available.\n\nClick Save.\n\nFor information on creating users and assigning them to groups, see Oracle Fusion Middleware Oracle WebLogic Server Administration Console Online Help.\n\nC.4.5 Importing the Oracle Adaptive Access Manager Snapshot\n\nNote:\n\nSkip this step if you have already imported the OAAM Snapshot during post-installation.\n\nA full snapshot of policies, rules, challenge questions, dependent components, and configurations is shipped with Oracle Adaptive Access Manager. This snapshot is required for the minimum configuration of Oracle Adaptive Access Manager. Import the snapshot into the system by following these instructions:\n\nLog in to the OAAM Administration Console with the newly created user.\n\nhttp://oaam_managed_server_host:oaam_admin_managed_server_port/oaam_admin\n\nOpen System Snapshot under Environment in the Navigation tree.\n\nThe System Snapshots Search page is displayed.\n\nClick the Load from File button in the upper right.\n\nA Load and Restore Snapshot screen appears.\n\nDeselect Back up current system now and click Continue.\n\nWhen the dialog appears with the message that you have not chosen to back up the current system, and do you want to continue, click Continue.\n\nClick the Choose File button.\n\nNow that you are ready to load the snapshot, click the Browse button in the dialog in which you can enter the filename of the snapshot you want to load. A screen appears for you to navigate to the directory where the snapshot file is located. Click Open. Then, click the Load button to load the snapshot into the system.\n\nThe snapshot file, oaam_base_snapshot.zip is located in the Oracle_IDM1/oaam/init directory where the OAAM base content is shipped.\n\nClick OK.\n\nYou have loaded the snapshot into memory, but the items in the snapshot are not effective yet. Unless you click the Restore button, the items in the snapshot have not been applied.\n\nTo apply the snapshot, click Restore.\n\nOnce you have applied the snapshot, make sure it appears in the System Snapshots page.\n\nTo ensure correct operation, make sure that the default base policies and challenge questions shipped with Oracle Adaptive Access Manager have been imported into your system. You may encounter a non-working URL if policies and challenge questions are not available as expected in your Oracle Adaptive Access Manager environment.\n\nFor information on searching for OAAM policies, see \"Searching for a Policy\" in Oracle Fusion Middleware Administrator's Guide for Oracle Adaptive Access Manager.\n\nFor information on searching for challenge questions, see \"Searching for a Challenge Question\" in Administering Oracle Adaptive Access Manager.\n\nFor information on the location of the base policies and default question zip files shipped with Oracle Adaptive Access Manager, see \"Importing the OAAM Snapshot\" in Administering Oracle Adaptive Access Manager.\n\nC.4.6 Validating Initial Configuration of Access Manager\n\nVerify that Access Manager is set up correctly by accessing the Welcome to Oracle Access Management page.\n\nLog in to the Oracle Access Management Console:\n\nhttp://oam_adminserver_host:oam_adminserver_port/oamconsole\n\nYou should be redirected to the OAM Server for login.\n\nProvide the WebLogic Admin user name and password.\n\nIf the login is successful, the Welcome to Oracle Access Management page is displayed.\n\nC.4.7 Validating Initial Configuration of Oracle Adaptive Access Manager\n\nVerify that Oracle Adaptive Access Manager is set up correctly by accessing the OAAM Server.\n\nLog in to the OAAM Server:\n\nhttp://host:port/oaam_server\n\nProvide any user name and click Continue.\n\nProvide the password as test because the Access Manager and Oracle Adaptive Access Manager integration has not yet been performed. You must change the password immediately after the integration.\n\nComplete the registration.\n\nA successful login indicates that you have configured the initial configuration correctly.\n\nNote:\n\nThe test login URL /oaam_server is used to verify that the OAAM configuration is working before proceeding with the integration of Access Manager. This URL is not intended for use after the integration of Access Manager and OAAM. For information, see Section C.8.2.5, \"OAAM Test Login URL /oaam_server Fails After Access Manager and Oracle Adaptive Access Manager Integration.\"\n\nC.4.8 Registering the WebGate with Access Manager 11g Using the Oracle Access Management Console\n\nRegister the WebGate agent with Access Manager 11g to set up the required trust mechanism between the Agent and OAM Server. After registration, the Agent collaborates communication between the OAM Server and its services and acts as a filter for HTTP/HTTPS requests. The Agent intercepts requests for resources protected by Access Manager and works with Access Manager to fulfill access requirements.\n\nPrior to installing the WebGate with Access Manager, review Oracle Fusion Middleware Supported System Configurations from the Oracle Technology Network to locate the certification information for the 10g or 11g WebGate you want to use for your deployment. This section provides information on registering the 11g WebGate with Access Manager 11g. For information on installing and registering 10g WebGates to use with Access Manager 11g, see \"Registering and Managing 10g WebGates with Access Manager 11g\" in Administrator's Guide for Oracle Access Management.\n\nC.4.8.1 Prerequisites for WebGate Registration\n\nTo register WebGate with Access Manager, ensure that the following required components, including any dependencies, are installed and configured:\n\nWebLogic Server for Oracle HTTP Server.\n\nOracle HTTP Server installed and configured using the Oracle Web Tier installer. The following is an example of the OHS_Home location:\n\nMW_Home/Oracle_WT1\n\nOracle HTTP Server provides a listener for Oracle WebLogic Server and the framework for hosting static pages, dynamic pages, and applications over the Web.\n\nFor information about installing and configuring Oracle HTTP Server 11g, see the Oracle Fusion Middleware Installation Guide for Oracle Web Tier.\n\nOracle HTTP Server WebGate for Access Manager installed. The following is an example of the WebGate_Home location:\n\nMW_Home/Oracle_OAMWebGate1\n\nOracle HTTP Server WebGate installation packages are found on media and virtual media that is separate from the core components. You can download the Oracle HTTP Server WebGate software from the Oracle Technology Network (OTN):\n\nhttp://www.oracle.com/technetwork/index.html\n\nFor detailed information on installing the Oracle HTTP Server WebGate, see \"Installing and Configuring Oracle HTTP Server 11g WebGate for OAM\" in Oracle Fusion Middleware Installing Webgates for Oracle Access Manager.\n\nIf you are using Windows 2003 or Windows 2008 64-bit operating systems, you must install Microsoft Visual C++ 2005 libraries on the machine hosting the Oracle HTTP Server 11g WebGate for Access Manager. These libraries are required for the WebGate.\n\nJava runtime environment (JRE) 1.6 or higher installed.\n\nC.4.8.2 Configure Oracle HTTP Server with WebGate\n\nAfter installing the Oracle HTTP Server 11g WebGate for Access Manager, you must create an instance of WebGate which has the same instance home as the Oracle HTTP Server and update the Oracle HTTP Server configuration file with the WebGate configuration. For detailed instructions, see \"Post-Installation Steps for Oracle HTTP Server 11g WebGate\" in Oracle Fusion Middleware Installing Webgates for Oracle Access Manager.\n\nFollowing the directions in \"Post-Installation Steps for Oracle HTTP Server 11g WebGate,\" you will:\n\nCreate a WebGate instance and copy the Agent configuration files from the WebGate_Home directory to the WebGate instance location.\n\nWebGate_Home is the directory where you have installed Oracle HTTP Server WebGate and defined it as the Oracle Home for WebGate, as in the following example:\n\nMW_HOME/Oracle_OAMWebGate1\n\nThe WebGate Instance Home must be the Instance Home of Oracle HTTP Server, as in the following example:\n\nMW_HOME/Oracle_WT1/instances/instance1/config/OHS/ohs1\n\nUpdate httpd.conf with the WebGate configuration.\n\nC.4.8.3 Register the WebGate as a Partner with Access Manager 11g Using the Oracle Access Management Console\n\nTo register the WebGate as a partner with Access Manager 11g:\n\nLog in to the Oracle Access Management Console:\n\nhttp://oam_adminserver_host:oam_adminserver_port/oamconsole\n\nRegister the new WebGate agent with Access Manager by using the Oracle Access Management Console. For information, see \"Registering an OAM Agent Using the Console\" in the Administrator's Guide for Oracle Access Management.\n\nClick the Edit button in the tool bar to display the configuration page.\n\nSet the Access Client Password and click Apply. Note the Artifacts location in the confirmation message.\n\nThe Access Client Password is the unique password for Agent. When the Agent connects to an OAM Server, it uses the password to authenticate itself to the server. This prevents unauthorized agents from connecting and obtaining policy information.\n\nIn the Artifacts Location, locate the ObAccessClient.xml configuration file and cwallet.sso file and copy them to the following directory:\n\nOHS_Home/instances/instance/config/OHS/component/webgate/config\n\nC.4.8.4 Restarting the Oracle HTTP Server WebGate\n\nRestart Oracle HTTP Server for the changes to take effect.\n\nNavigate to the OHS_HOME/instances/instance/bin directory.\n\nRestart the Oracle HTTP Server instance by using the following command:\n\nopmnctl stopall opmnctl startall\n\nC.4.8.5 Validating the WebGate Setup\n\nOnce the setup of WebGate is complete, validate the registration as follows:\n\nVerify the WebGate configuration by accessing the protected URL:\n\nhttp://ohs_host:ohs_port/\n\nYou should be redirected to Access Manager single sign-on (SSO) login page for authentication.\n\nEnter user name and password.\n\nThe Oracle HTTP Server Welcome page is displayed.\n\nThis is the partner that will be protected using Oracle Adaptive Access Manager.\n\nC.4.9 Registering the OAAM Server as a Partner Application to Access Manager\n\nA partner application is any application that delegates the authentication function to Access Manager 11g. After registering with Access Manager as a partner application, OAAM can communicate with Access Manager using Trusted Authentication Protocol (TAP) and validate user authentications with Access Manager so Access Manager can create the required cookies and continue the normal single-sign on flow in which it redirects the user to the protected resource.\n\nTo register the OAAM Server as a trusted partner, follow these steps:\n\nEnsure that the OAM Administration Server is running.\n\nCreate a keystore directory to hold the OAAM Keystore by executing the following:\n\nmkdir IAM_ORACLE_HOME/TAP/TapKeyStore\n\nSet up the environment for the Oracle WebLogic Scripting Tool (WLST).\n\nNavigate to the IAM_ORACLE_HOME/common/bin directory:\n\ncd IAM_ORACLE_HOME/common/bin\n\nEnter the WLST shell environment by executing:\n\n./wlst.sh\n\nEnter Connect to connect to the WebLogic Administration Server.\n\nEnter username. For example, admin_username.\n\nEnter password. For example, admin_password.\n\nEnter t3://hostname:port\n\nFor example:\n\nt3://AdminHostname:7001\n\nUsing the WLST shell, run the registerThirdPartyTAPPartner command:\n\nregisterThirdPartyTAPPartner(partnerName = \"partnerName\", keystoreLocation= \"path to keystore\", password=\"keystore password\", tapTokenVersion=\"v2.0\", tapScheme=\"TAPScheme\", tapRedirectUrl=\"OAAM login URL\")\n\nAn example is provided below.\n\nregisterThirdPartyTAPPartner(partnerName = \"OAAMTAPPartner\", keystoreLocation= \"IAM_ORACLE_HOME/TAP/TapKeyStore/mykeystore.jks\" , password=\"password\", tapTokenVersion=\"v2.0\", tapScheme=\"TAPScheme\", tapRedirectUrl=\"http://OAAM_ Managed_server_host:14300/oaam_server/oamLoginPage.jsp\")\n\nTable C-6 TAP Partner Registration Parameters\n\nParameters Descriptions\n\nC.4.10 Adding an Agent Password to the IAMSuiteAgent Profile\n\nWhen Access Manager is installed, the IAMSuiteAgent (Security Provider in WebLogic and corresponding 10g Webgate Profile in Access Manager) is created. By default there is no password set. In OAAM and Access Manager integration using TAP, when OAAM connects to Access Manager, it uses the IAMSuiteAgent profile (configured while setting up TAP integration in OAAM using the OAAM CLI) and that connection requires an agent password.\n\nYou must set an agent password for the IAMSuiteAgent profile in Access Manager. It is a required step for Access Manager and Oracle Adaptive Access Manager integration since the password is used in multiple places. To set the password, proceed as follows:\n\nLog in to the Oracle Access Management Console:\n\nhttp://oam_adminserver_host:oam_adminserver_port/oamconsole\n\nIn the Oracle Access Management Console, click Application Security at the top of the window.\n\nIn the Application Security console, click Agents in the Agents section.\n\nThe Search SSO Agents page opens with the WebGates tab active.\n\nIn the Search SSO Agents page that appears, enter IAMSuiteAgent as the name of the agent you want to find.\n\nClick the Search button to initiate the search.\n\nChoose IAMSuiteAgent in the Search Results table and click Edit.\n\nIn the IAMSuiteAgent Webgate page, specify the password in the Access Client Password field and click Apply to save the changes.\n\nC.4.11 Updating the Domain Agent Definition If Using Domain Agent for IDM Domain Consoles\n\nIAMSuiteAgent is implemented directly on the WebLogic Server and preconfigured to provide Single-Sign On (using IAMSuiteAgent Webgate Profile in Access Manager) for the IDM domain consoles\n\nIf the IAMSuiteAgent provider in WebLogic is not disabled/deleted and the IAMSuiteAgent profile in Access Manager is working in Open mode, after completing the steps in Section C.4.10, \"Adding an Agent Password to the IAMSuiteAgent Profile,\" you must update the IAMSuiteAgent provider configuration in WebLogic with the password if you want to continue using the IAMSuiteAgent for the IDM domain consoles.\n\nNote: The IAMSuiteAgent is now in Open Mode with password authentication.\n\nTo update the domain agent definition, proceed as follows:\n\nLog in to WebLogic Administration Console:\n\nhttp:oam_adminserver_host:port/console\n\nSelect Security Realms from the Domain Structure menu.\n\nClick myrealm.\n\nClick the Providers tab.\n\nSelect IAMSuiteAgent from the list of authentication providers.\n\nClick Provider Specific.\n\nEnter the agent password and confirm the password.\n\nThis is a required step.\n\nClick Save.\n\nClick Activate Change in the top left corner.\n\nRestart the WebLogic Administration Server, OAAM Admin and managed servers, and OAM Server.\n\nC.4.12 Verifying TAP Partner Registration\n\nTo verify the TAP partner registration, follow the instructions below.\n\nC.4.12.1 Verifying the Challenge URL\n\nTo validate the Access Manager configuration, perform the following steps:\n\nLog in to the Oracle Access Management Console:\n\nhttp://oam_adminserver_host:oam_adminserver_port/oamconsole\n\nIn the Oracle Access Management Console, click Application Security at the top of the window.\n\nIn the Application Security Console, click Authentication Schemes in the Access Manager section.\n\nIn the Search Authentication Schemes page, enter TAPScheme in the Name field.\n\nClick the Search button to initiate the search.\n\nChoose TAPScheme in the Search Results table and click Edit.\n\nFor specific details on the TAPScheme, see \"Pre-configured Authentication Schemes\" in Administrator's Guide for Oracle Access Management.\n\nIn the TAPScheme Authentication Scheme page, verify that the Challenge Method is DAP and the Authentication Module is DAP.\n\nFor information on the DAP challenge method, see \"About Challenge Methods\" in Administrator's Guide for Oracle Access Management.\n\nIf the tapRedirectUrl is, for example, http://OAAM_Managed_server_host:14300/oaam_server/oamLoginPage.jsp, verify that the Challenge URL is set to:\n\n/oaam_server/oamLoginPage.jsp\n\nThe Challenge URL shows the tapRedirectUrl that had been specified when OAAM was registered with Access Manager as a partner application. The host and port part of the URL is parameterized in Challenge Parameter.\n\nThe parameters TAPPartnerId=OAAMTAPPartner and SERVER_HOST_ALIAS=OAMSERVER should already be listed as Challenge Parameters.\n\nServer host alias is a logical hostname generated for the given OAAM server host name and port in the registerThirdPartyPartner WLST command. The physical hostname and port is stored under $DOMAIN_HOME/config/fmwconfig/oam-config.xml in\n\n/NGAMConfiguration/DeployedComponent/Server/NGAMServer/Profile/OAMServerProfile/HostAlias/HOST_ALIAS_<NUMBER> path\n\nCheck that the challenge parameters are set correctly.\n\nFor information on Authentication Scheme elements, see \"About Authentication Schemes and Pages\" in the Administrator's Guide for Oracle Access Management.\n\nC.4.12.2 Adding the MatchLDAPAttribute Challenge Parameter in the TAPScheme\n\nYou must add the MatchLDAPAttribute challenge parameter and set it to the User Name Attribute as specified in the LDAP Identity Store.\n\nIn the Authentication Scheme page, position your cursor in the Challenge Parameter field and press Enter using your keyboard.\n\nIn the new line, add an entry for the challenge parameter.\n\nFor example, MatchLDAPAttribute=uid\n\nMatchLDAPAttribute must be set to the User Name Attribute as specified in the LDAP Identity Store. For example, uid, mail, cn, and so on.\n\nNote:\n\nThe challenge parameter is case-sensitive.\n\nFor information, see \"Managing User Identity Stores\" in Administrator's Guide for Oracle Access Management.\n\nClick Apply to submit the change.\n\nClose the confirmation window.\n\nC.4.12.3 Validating the IAMSuiteAgent Setup\n\nTo test the IAMSuiteAgent profile in Access Manager, proceed as follows:\n\nRestart the managed server hosting the OAM Server.\n\nStop the managed server hosting the OAM Server:\n\nOAM_DOMAIN_HOME/bin/stopManagedWeblogic.sh oam_server1\n\nStart the managed server hosting the OAM Server:\n\nOAM_DOMAIN_HOME/bin/startManagedWeblogic.sh oam_server1\n\nEnsure that JAVA_HOME is set in your environment.\n\nAdd JAVA_HOME/bin to your PATH, for example:\n\nexport PATH=$JAVA_HOME/bin:$PATH\n\nChange the directory to:\n\nIAM_ORACLE_HOME/oam/server/tester\n\nLaunch Oracle Access Management tester:\n\njava -jar oamtest.jar\n\nThe Oracle Access Management Tester Console appears.\n\nIn the Server Connection section provide server connection details as follows:\n\nIP Address: Access Manager Managed Server Host\n\nPort: Oracle Access Management Oracle Access Protocol (OAP) Port\n\nAgent ID: IAMSuiteAgent\n\nAgent Password: Password provided in Section C.4.10, \"Adding an Agent Password to the IAMSuiteAgent Profile.\"\n\nThe Server Connection section provides fields for the information required to establish a connection to the OAM Server.\n\nClick Connect.\n\nIf you can connect to the server, the next section, Protected Resource URI, will be enabled.\n\nThe Protected Resource URI section provides information about a resource whose protected status needs to be validated.\n\nIn this section, provide the protected resource URI as follows:\n\nHost: IAMSuiteAgent\n\nPort: 80\n\nResource: /oamTAPAuthenticate\n\nNote:\n\nYou can test any other resource protected using TAPScheme other than oamTAPAuthenticate.\n\nClick Validate.\n\nThe Validate button is used to submit the Validate Resource server request. If the validation is successful, the next section for User Identity will be enabled.\n\nIn the User Identity section, provide User Identity and click Authenticate. If the authentication is successful, the setup is successful.\n\nFor information on the Oracle Access Management Tester, see \"Validating Connectivity and Policies Using the Access Tester\" in Administrator's Guide for Oracle Access Management.\n\nC.4.13 Setting Up Access Manager TAP Integration Properties in OAAM\n\nIn OAAM and Access Manager integration using TAP, when OAAM connects to Access Manager, it uses the IAMSuiteAgent profile, which is configured while setting up TAP integration in OAAM.\n\nTo run setupOAMTapIntegration.sh to configure Access Manager for TAP Integration, proceed as follows:\n\nNote:\n\nIf the OAAM command line script fails to run, then execute it as follows:\n\nbash script_name\n\nEnsure that the OAAM managed server is running.\n\nCopy the OAAM cli folder to a temporary directory:\n\ncp -r OAAM_HOME/oaam/cli /temp/oaam_cli\n\nOpen the oaam_cli.properties located in temp/oaam_cli/conf/bharosa_properties.\n\nUsing a text editor, set the properties as described in Table C-7.\n\nTable C-7 OAAM CLI Properties\n\nParameter Details\n\nSave the changes and quit the editor.\n\nSet Middleware and Java Home environment variables.\n\nFor bash:\n\nexport ORACLE_MW_HOME=Location_of_WebLogic_installation_where_Oracle_Adaptive_ Access_Manager_is_installed export JAVA_HOME=Location_of_JDK_used_for_the_WebLogic_installation\n\nor\n\nFor csh:\n\nsetenv ORACLE_MW_HOME Location_of_WebLogic_installation_where_Oracle_Adaptive_ Access_Manager_is_installed setenv JAVA_HOME Location_of_JDK_used_for_the_WebLogic_installation\n\nChange directory to temp/oaam_cli/.\n\nRun the OAAM setup integration script using the following command:\n\n./setupOAMTapIntegration.sh conf/bharosa_properties/oaam_cli.properties\n\nThis script sets the properties required for the integration in OAAM.\n\nWhen the command runs, it prompts you for the following information:\n\nWeblogic Server Home Directory: Usually $ORACLE_MW_HOME/wlserver_10.3\n\nOAAM Admin server username: This is the Admin Server user name of the WebLogic Server Domain (WebLogic Admin user name).\n\nOAAM Admin server password: This is the password for the Administration Server user (WebLogic Admin password).\n\nOAAM database username: OAAM database user.\n\nOAAM database password: Password for the OAAM database user.\n\nAccess Manager WebGate Credentials to be stored in CSF: Enter WebGate password.\n\nAccess Manager TAP Key store file password: The password you assigned when you registered the TAP partner. For information, see Registering the OAAM Server as a Partner Application to Access Manager.\n\nNote:\n\nYou must provide the WebLogic Admin user name and password when running the setupOAMTAPIntegration script. If you provide the OAAM Admin user name and password, the script fails because the OAAM Admin user does not have the permissions required to run the script.\n\nWhen you set up Access Manager and Oracle Adaptive Access Manager integration in simple or Cert mode, the additional inputs you will have to provide are as follows:\n\nAccess Manager Private Key certificate Keystore file password: The Simple Mode Pass Phrase. You can obtain it by executing the WLST command displaySimpleModeGlobalPassphrase.\n\nOracle Access Management Global Pass phrase: The Simple Mode Pass Phrase. You can obtain it by executing the WLST command displaySimpleModeGlobalPassphrase.\n\nFor information, refer to \"Retrieving the Global Passphrase for Simple Mode\" in the Administrator's Guide for Oracle Access Management.\n\nC.4.14 Configuring the Integration to Use TAPScheme to Protect Identity Management Resources in the IAMSuiteAgent Application Domain\n\nNote:\n\nThe instructions in this section should only be performed if you want to use TAPscheme in the IAMSuiteAgent application domain.\n\nIf you want to protect Identity Management resources in the IAM Suite domain with TAPscheme, proceed as follows:\n\nLog in to the Oracle Access Management Console:\n\nhttp://oam_adminserver_host:oam_adminserver_port/oamconsole\n\nIn the Oracle Access Management Console, click Application Security at the top of the window.\n\nIn the Application Security console, click Application Domains in the Access Manager section.\n\nIn the Search Application Domains page that appears, enter IAM Suite in the Name field.\n\nClick the Search button to initiate the search.\n\nClick IAM Suite in the Search Results table and click Edit.\n\nIn the IAM Suite Application Domain page, click the Authentication Policies tab.\n\nClick Protected HigherLevel Policy to display its configuration.\n\nIn the Resources tab, click /oamTAPAuthenticate in the Resources table.\n\nClick the Delete button in the table.\n\nClick Apply to submit changes and close the confirmation window.\n\nIn the IAM Suite Application Domain page, click the Authentication Policies tab, then click the Create button to open the Create Authentication Policy page.\n\nEnter a unique name in the Name field.\n\nFor authentication scheme, choose LDAPScheme.\n\nClick the Resources tab.\n\nClick the Add button in the Resources tab.\n\nClick the Search button.\n\nClick /oamTAPAuthenticate in the Results table.\n\nClick Add Selected.\n\nClick Apply to save changes and close the confirmation window.\n\nFor Access Manager to be able to override the resource URL before handing it off to OAAM, you must set up the TAPOverrideResource challenge parameter in TAPScheme.\n\nIn the Oracle Access Management Console, click Application Security at the top of the window.\n\nIn the Application Security Console, click Authentication Schemes in the Access Manager section.\n\nIn the Search Authentication Schemes page, enter TAPScheme in the Name field.\n\nClick the Search button to initiate the search.\n\nChoose TAPScheme in the Search Results table and click Edit.\n\nFor specific details on the TAPScheme, see \"Pre-configured Authentication Schemes\" in Administrator's Guide for Oracle Access Management.\n\nIn the Authentication Scheme page, position your cursor in the Challenge Parameter field and press Enter using your keyboard.\n\nIn the new line, add TAPOverrideResource=http://IAMSuiteAgent:80/oamTAPAuthenticate for a challenge parameter of TAPScheme.\n\nClick Apply to save changes and close the confirmation window.\n\nC.4.15 Configuring a Resource to be Protected with TAPScheme\n\nTo protect a resource with the OAAM TAPScheme, proceed as follows:\n\nC.4.15.1 Creating a New Resource under the Application Domain\n\nTo create a new resource to protect, proceed as follows:\n\nIn the Oracle Access Management Console, click Application Security at the top of the window.\n\nIn the Application Security console, click Application Domains in the Access Manager section.\n\nIn the Search Application Domains page that appears, enter IAM Suite in the Name field.\n\nClick the Search button to initiate the search.\n\nChoose IAM Suite in the Search Results table and click Edit.\n\nIn the IAM Suite Application Domain page, click the Resources tab, then click Create in the Search Results toolbar.\n\nIn the Resource Definition page, add the following information:\n\nType: http. The HTTP type is the default; it covers resources that are accessed using either the HTTP or HTTPS protocol. Policies that govern a particular resource apply to all operations.\n\nDescription: An optional unique description for this resource.\n\nHost identifier: IAMSuiteAgent\n\nResource URL: The URL value must be expressed as a single relative URL string that represents a path component of a full URL composed of a series of hierarchical levels separated by the '/' character. The URL value of a resource must begin with / and must match a resource value for the chosen host identifier.\n\nFor example: /higherriskresource\n\nProtection Level: Protected\n\nClick Apply to add this resource to the Application Domain.\n\nFor information on creating a resource see \"Adding and Managing Policy Resource Definitions\" in Administrator's Guide for Oracle Access Management.\n\nC.4.15.2 Creating a New Authentication Policy that Uses TAPScheme to Protect the Resource\n\nTo create a new authentication policy that uses the TAPScheme authentication to protect the resource, proceed as follows:\n\nIn the Oracle Access Management Console, click Application Security at the top of the window.\n\nIn the Application Security console, click Application Domains.\n\nIn the Search Application Domains page that appears, enter IAM Suite in the Name field.\n\nClick the Search button to initiate the search.\n\nChoose IAM Suite in the Search Results table and click Edit.\n\nIn the IAM Suite Application Domain page, click the Authentication Policies tab, and then click the Create button to open the Create Authentication Policy page.\n\nIn the Create Authentication Policy page, add the required elements for the policy you are creating:\n\nName: A unique name used as an identifier. For example, HighPolicy.\n\nDescription (optional): Optional unique text that describes this authentication policy.\n\nAuthentication Scheme: TAPScheme\n\nSuccess URL: The redirect URL to be used upon successful authentication.\n\nFailure URL: The redirect URL to be used if authentication fails.\n\nOn the same page, add the resource you have created:\n\nClick the Resources tab.\n\nClick the Add button in the Resources tab.\n\nClick the Search button to display all the resources available.\n\nChoose the URL of a resource from those listed. For example, /higherriskresource.\n\nThe listed URLs were added to this application domain earlier. You can add one or more resources to protect with this authentication policy. The resource definition must exist within the application domain before you can include it in a policy.\n\nClick Add Selected.\n\nClick Apply to save changes and close the confirmation window.\n\nIn the Create Authentication Policy page, click the Responses tab to add responses.\n\nResponses are the obligations (post authentication actions) to be carried out by the Web agent. After successful authentication, the application server hosting the protected application can assert the user identity based on these responses. After a failed authentication, the browser redirects the request to a pre-configured URL\n\nFor information on responses, see \"Adding and Managing Policy Responses for SSO\" in Administrator's Guide for Oracle Access Management.\n\nClose the page when you finish.\n\nFor information on creating an authentication policy for a particular resource, see \"Defining Authentication Policies for Specific Resources\" in Administrator's Guide for Oracle Access Management.\n\nC.4.16 Validating the Access Manager and Oracle Adaptive Access Manager Integration\n\nTry to access the protected resource. You should be redirected to OAAM for registration and challenge. The OAAM login page is shown instead of the Access Manager login page.\n\nC.6 Other Access Manager and OAAM Integration Configuration Tasks\n\nThis section describes other configuration procedures that you may need depending on your deployment.\n\nC.6.1 Changing the Authentication Level of the TAPScheme Authentication Scheme\n\nTo change the authentication level of the TAPScheme authentication scheme, proceed as follows:\n\nLog in to the Oracle Access Management Console:\n\nhttp://oam_adminserver_host:oam_adminserver_port/oamconsole\n\nIn the Oracle Access Management Console, click Application Security at the top of the window.\n\nIn the Application Security Console, click Authentication Schemes in the Access Manager section.\n\nIn the Search Authentication Schemes page, enter TAPScheme in the Name field.\n\nClick the Search button to initiate the search.\n\nChoose TAPScheme in the Search Results table and click Edit.\n\nFor specific details on the TAPScheme, see \"Pre-configured Authentication Schemes\" in Administrator's Guide for Oracle Access Management.\n\nChange the authentication level.\n\nClick Apply to save changes and close the confirmation window.\n\nC.6.2 Setting Up Oracle Adaptive Access Manager and Access Manager Integration When Access Manager is in Simple Mode\n\nTo set up Oracle Adaptive Access Manager and Access Manager integration in Simple mode, proceed as follows.\n\nC.6.2.1 Configuring Simple Mode Communication with Access Manager\n\nSecuring communication between OAM Servers and clients (WebGates) means defining the transport security mode for the OAP channel within the component registration page. The transport security communication mode is chosen during Access Manager installation. In Simple mode, the installer generates a random global passphrase initially, which can be edited as required later.\n\nSimple mode is used if you have some security concerns, such as not wanting to transmit passwords as plain text, but you do not manage your own Certificate Authority (CA). In this case, Access Manager 11g Servers and WebGates use the same certificates, issued and signed by Oracle CA.\n\nFor information on configuring Access Manager for Simple mode communication, see Administrator's Guide for Oracle Access Management.\n\nC.6.2.2 Setting OAAM Properties for Access Manager for Simple Mode\n\nFollow the steps in Section C.4.13, \"Setting Up Access Manager TAP Integration Properties in OAAM.\" When you edit the oaam_cli.properties file, set the following properties in addition to ones specified in Table C-7.\n\nTable C-10 Properties for Security Mode\n\nParameters Details\n\nC.6.3 Configuring Identity Context Claims in the Access Manager and OAAM TAP Integration\n\nIdentity Context allows organizations to meet growing security threats by leveraging the context-aware policy management and authorization capabilities built into the Oracle Access Management platform. Identity Context secures access to resources using traditional security controls (such as roles and groups) as well as dynamic data established during authentication and authorization (such as authentication strength, risk levels, device trust and the like).\n\nTo use identity context claims in the Access Manager and OAAM TAP integration, follow the below steps:\n\nIn Domain_Home/config/fmw-config/oam-config.xml, search for the setting with the TAP partner name. You would have specified the TAP Partner name while registering the TAP partner for Access Manager. For example, OAAMPartner. Change the OAAM partner's TapTokenVersion from v2.0 to v2.1.\n\nChange the version setting on the OAAM side from v2.0 to v2.1 by adding/editing a property through the OAAM Administration Console. To do this, proceed as follows:\n\nLog in to the OAAM Administration Console:\n\nhttp://oaam_managed_server_host:oaam_admin_managed_server_port/oaam_admin\n\nIn the left pane, click Environment and double-click Properties. The Properties search page is displayed.\n\nSearch for property with the name oaam.uio.oam.dap_token.version and set its value to v2.1.\n\nIn case the property does not exist, add a new property with the name oaam.uio.oam.dap_token.version and the value as v2.1.\n\nClick Save.\n\nIn the TAP Scheme of the Access Management policy, add the following challenge parameter: TAPOverrideResource=http://IAMSuiteAgent:80/oamTAPAuthenticate. To do that, proceed as follows:\n\nLog in to the Oracle Access Management Console:\n\nhttp://oam_adminserver_host:oam_adminserver_port/oamconsole\n\nIn the Oracle Access Management Console, click Application Security at the top of the window.\n\nIn the Application Security Console, click Authentication Schemes in the Access Manager section.\n\nIn the Search Authentication Schemes page, enter TAPScheme in the Name field.\n\nClick the Search button to initiate the search.\n\nChoose TAPScheme in the Search Results table and click Edit.\n\nFor specific details on the TAPScheme, see \"Pre-configured Authentication Schemes\" in Administrator's Guide for Oracle Access Management.\n\nIn the Authentication Scheme page, position your cursor in the Challenge Parameter field and press Enter using your keyboard.\n\nIn the new line, add TAPOverrideResource=http://IAMSuiteAgent:80/oamTAPAuthenticate for a challenge parameter of TAPScheme.\n\nClick Apply to save changes and close the confirmation window.\n\nC.6.4 Enabling Oracle Adaptive Access Manager to Transfer Data to Access Manager over HTTP Post-Based Front Channel\n\nThe Access Manager and Oracle Adaptive Access Manager integration flow involves transferring information required to perform authentication, preserving Access Manager context information, providing the TAP token, and so on.\n\nDuring this integration flow, Access Manager can preserve its context as a cookie. In cases where this context is large such as form data, Access Manager can send its context information through POST data to Oracle Adaptive Access Manager and Oracle Adaptive Access Manager can transfer this data back to Access Manager over an HTTP POST-based front channel message. The mechanism used in the Oracle Adaptive Access Manager side to preserve Access Manager context allows preserving at least 8K of data. This ensures that Access Manager can preserve the end application's form data during re-authentication so the end user does not have to retype it again.\n\nFor Oracle Adaptive Access Manager to be able to generate a POST-based response back to Access Manager and preserve at least 8K of Access Manager's context data, you must set oaam.uio.oam.dopost to true.\n\nTo change the setting, proceed as follows:\n\nLog in to the OAAM Administration Console:\n\nhttp://oaam_managed_server_host:oaam_admin_managed_server_port/oaam_admin\n\nIn the left pane, click Environment and double-click Properties. The Properties search page is displayed.\n\nSearch for property with the name oaam.uio.oam.dopost and set its value to true.\n\nIn case the property does not exist, add a new property with the name oaam.uio.oam.dopost and the value as true.\n\nClick Save.\n\nC.6.5 Disabling OAAM Administration Console Protection\n\nYou can disable OAAM Administration Console protection by disabling the IAMSuiteAgent that protects it.\n\nTo do so, either the WLSAGENT_DISABLED system property or environment variable must be set to true for the servers on which the agent should be disabled.\n\nFor instructions on disabling the IAMSuiteAgent, see \"Disabling IAMSuiteAgent\" in Administrator's Guide for Oracle Access Management.\n\nC.6.6 Disabling Step Up Authentication\n\nIf you want to disable the Step Up Authentication scenario, the following property has to be set to false:\n\noaam.uio.oam.integration.stepup.enabled\n\nBy default this property is set to true. To change the setting on the Oracle Adaptive Access Manager side by adding/editing a property through the OAAM Administration Console, proceed as follows:\n\nLog in to the OAAM Administration Console.\n\nhttp://oaam_managed_server_host:oaam_admin_managed_server_port/oaam_admin\n\nIn the left pane, click Environment and double-click Properties. The Properties search page is displayed.\n\nSearch for property with the name oaam.uio.oam.integration.stepup.enabled and set its value to false.\n\nIn case the property does not exist, add a new property.\n\nIf set to false, the user is prompted for credentials when he tries to access a higher protected resource after he had been authenticated for the lower protected resource.\n\nClick Save.\n\nC.6.7 Changing the Oracle Adaptive Access Manager Password Length Limit\n\nOracle Adaptive Access Manager accepts a limit of 25 characters for passwords. If users log in to OAAM Server for the first time and the password they enter is more than 25 bytes, they are returned to the user name page with an error that their password is invalid.\n\nTo change the character limit for passwords entered in to OAAM Server, you must update the following property using the OAAM Administration Console:\n\nbharosa.authentipad.textpad.datafield.maxLength\n\nInstructions to update the character limit using the OAAM Administration Console are as follows:\n\nLog in to the OAAM Administration Console:\n\nhttp://oaam_managed_server_host:oaam_admin_managed_server_port/oaam_admin\n\nIn the left pane, click Environment and double-click Properties. The Properties search page is displayed.\n\nSearch for property with the name bharosa.authentipad.textpad.datafield.maxLength and change its value.\n\nClick Save.\n\nC.6.8 Adding Customizations Using the OAAM Extensions Shared Library\n\nIf you are configuring integration with Access Manager 11g using the TAP scheme and adding customizations using the OAAM Extensions Shared Library, the property bharosa.uio.proxy.mode.flag must be set to false.\n\nIf the property is set to true, the Oracle Adaptive Access Manager and Access Manager integration using TAP will fail with the following message:\n\nSorry, the identification you entered was not recognized.\n\nIn cases where the property has been set to true, change the setting as follows:\n\nLog in to the OAAM Administration Console:\n\nhttp://oaam_managed_server_host:oaam_admin_managed_server_port/oaam_admin\n\nIn the left pane, click Environment and double-click Properties. The Properties search page is displayed.\n\nSearch for property with name bharosa.uio.proxy.mode.flag and set its value to false.\n\nIn cases where the property does not exist, add a new property with the name bharosa.uio.proxy.mode.flag and the value as false.\n\nClick Save.\n\nFor information on Oracle Adaptive Access Manager customization, see:\n\n\"Using the OAAM Extensions Shared Library to Customize OAAM\" in Developer's Guide for Oracle Adaptive Access Manager\n\n\"Customizing OAAM Web Application Pages\" in Developer's Guide for Oracle Adaptive Access Manager"
    }
}