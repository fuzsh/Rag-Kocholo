{
    "id": "dbpedia_8580_2",
    "rank": 2,
    "data": {
        "url": "https://www.geeksforgeeks.org/dynamic-memory-allocation-in-c-using-malloc-calloc-free-and-realloc/",
        "read_more_link": "",
        "language": "en",
        "title": "Dynamic Memory Allocation in C using malloc(), calloc(), free() and realloc()",
        "top_image": "https://media.geeksforgeeks.org/wp-content/cdn-uploads/gfg_200x200-min.png",
        "meta_img": "https://media.geeksforgeeks.org/wp-content/cdn-uploads/gfg_200x200-min.png",
        "images": [
            "https://media.geeksforgeeks.org/gfg-gg-logo.svg",
            "https://media.geeksforgeeks.org/auth-dashboard-uploads/Google-news.svg",
            "https://media.geeksforgeeks.org/wp-content/cdn-uploads/gq/2015/05/Arrays.png",
            "https://media.geeksforgeeks.org/wp-content/cdn-uploads/Malloc-function-in-c.png",
            "https://media.geeksforgeeks.org/wp-content/cdn-uploads/calloc-function-in-c.png",
            "https://media.geeksforgeeks.org/wp-content/cdn-uploads/Free-function-in-c.png",
            "https://media.geeksforgeeks.org/wp-content/cdn-uploads/realloc-function-in-c.png",
            "https://media.geeksforgeeks.org/wp-content/uploads/20210706233452/dmarealloc.png",
            "https://media.geeksforgeeks.org/auth-dashboard-uploads/Google-news.svg",
            "https://media.geeksforgeeks.org/auth-dashboard-uploads/new-premium-rbanner-us.png",
            "https://media.geeksforgeeks.org/auth-dashboard-uploads/gfgFooterLogo.png",
            "https://media.geeksforgeeks.org/auth-dashboard-uploads/googleplay.png",
            "https://media.geeksforgeeks.org/auth-dashboard-uploads/appstore.png",
            "https://media.geeksforgeeks.org/auth-dashboard-uploads/suggestChangeIcon.png",
            "https://media.geeksforgeeks.org/auth-dashboard-uploads/createImprovementIcon.png"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            "Data Structures",
            "Algorithms",
            "Python",
            "Java",
            "C",
            "C++",
            "JavaScript",
            "Android Development",
            "SQL",
            "Data Science",
            "Machine Learning",
            "PHP",
            "Web Development",
            "System Design",
            "Tutorial",
            "Technical Blogs",
            "Interview Experience",
            "Interview Preparation",
            "Programming",
            "Competitive Programming",
            "Jobs",
            "Coding Contests",
            "GATE CSE",
            "HTML",
            "CSS",
            "React",
            "NodeJS",
            "Placement",
            "Aptitude",
            "Quiz",
            "Computer Science",
            "Programming Examples",
            "GeeksforGeeks Courses",
            "Puzzles",
            "SSC",
            "Banking",
            "UPSC",
            "Commerce",
            "Finance",
            "CBSE",
            "School",
            "k12",
            "General Knowledge",
            "News",
            "Mathematics",
            "Exams"
        ],
        "tags": null,
        "authors": [
            "GeeksforGeeks"
        ],
        "publish_date": "2018-12-13T10:18:27",
        "summary": "",
        "meta_description": "A Computer Science portal for geeks. It contains well written, well thought and well explained computer science and programming articles, quizzes and practice/competitive programming/company interview Questions.",
        "meta_lang": "en",
        "meta_favicon": "https://media.geeksforgeeks.org/wp-content/cdn-uploads/gfg_favicon.png",
        "meta_site_name": "GeeksforGeeks",
        "canonical_link": "https://www.geeksforgeeks.org/dynamic-memory-allocation-in-c-using-malloc-calloc-free-and-realloc/",
        "text": "Since C is a structured language, it has some fixed rules for programming. One of them includes changing the size of an array. An array is a collection of items stored at contiguous memory locations.\n\nAs can be seen, the length (size) of the array above is 9. But what if there is a requirement to change this length (size)? For example,\n\nIf there is a situation where only 5 elements are needed to be entered in this array. In this case, the remaining 4 indices are just wasting memory in this array. So there is a requirement to lessen the length (size) of the array from 9 to 5.\n\nTake another situation. In this, there is an array of 9 elements with all 9 indices filled. But there is a need to enter 3 more elements in this array. In this case, 3 indices more are required. So the length (size) of the array needs to be changed from 9 to 12.\n\nThis procedure is referred to as Dynamic Memory Allocation in C.\n\nTherefore, C Dynamic Memory Allocation can be defined as a procedure in which the size of a data structure (like Array) is changed during the runtime.\n\nC provides some functions to achieve these tasks. There are 4 library functions provided by C defined under <stdlib.h> header file to facilitate dynamic memory allocation in C programming. They are:\n\nmalloc()\n\ncalloc()\n\nfree()\n\nrealloc()\n\nLet’s look at each of them in greater detail.\n\nC malloc() method\n\nThe “malloc” or “memory allocation” method in C is used to dynamically allocate a single large block of memory with the specified size. It returns a pointer of type void which can be cast into a pointer of any form. It doesn’t Initialize memory at execution time so that it has initialized each block with the default garbage value initially.\n\nSyntax of malloc() in C\n\nptr = (cast-type*) malloc(byte-size)\n\nFor Example:\n\nptr = (int*) malloc(100 * sizeof(int));\n\nSince the size of int is 4 bytes, this statement will allocate 400 bytes of memory. And, the pointer ptr holds the address of the first byte in the allocated memory.\n\nIf space is insufficient, allocation fails and returns a NULL pointer.\n\nExample of malloc() in C\n\nC\n\n#include<stdio.h> #include<stdlib.h> intmain() { // This pointer will hold the // base address of the block created int*ptr; intn,i; // Get the number of elements for the array printf(\"Enter number of elements:\"); scanf(\"%d\",&n); printf(\"Entered number of elements: %d\\n\",n); // Dynamically allocate memory using malloc() ptr=(int*)malloc(n*sizeof(int)); // Check if the memory has been successfully // allocated by malloc or not if(ptr==NULL){ printf(\"Memory not allocated.\\n\"); exit(0); } else{ // Memory has been successfully allocated printf(\"Memory successfully allocated using malloc.\\n\"); // Get the elements of the array for(i=0;i<n;++i){ ptr[i]=i+1; } // Print the elements of the array printf(\"The elements of the array are: \"); for(i=0;i<n;++i){ printf(\"%d, \",ptr[i]); } } return0; }\n\nOutput\n\nEnter number of elements:7\n\nEntered number of elements: 7\n\nMemory successfully allocated using malloc.\n\nThe elements of the array are: 1, 2, 3, 4, 5, 6, 7,\n\nC calloc() method\n\n“calloc” or “contiguous allocation” method in C is used to dynamically allocate the specified number of blocks of memory of the specified type. it is very much similar to malloc() but has two different points and these are:\n\nIt initializes each block with a default value ‘0’.\n\nIt has two parameters or arguments as compare to malloc().\n\nSyntax of calloc() in C\n\nptr = (cast-type*)calloc(n, element-size);\n\nhere, n is the no. of elements and element-size is the size of each element.\n\nFor Example:\n\nptr = (float*) calloc(25, sizeof(float));\n\nThis statement allocates contiguous space in memory for 25 elements each with the size of the float.\n\nIf space is insufficient, allocation fails and returns a NULL pointer.\n\nExample of calloc() in C\n\nC\n\n#include<stdio.h> #include<stdlib.h> intmain() { // This pointer will hold the // base address of the block created int*ptr; intn,i; // Get the number of elements for the array n=5; printf(\"Enter number of elements: %d\\n\",n); // Dynamically allocate memory using calloc() ptr=(int*)calloc(n,sizeof(int)); // Check if the memory has been successfully // allocated by calloc or not if(ptr==NULL){ printf(\"Memory not allocated.\\n\"); exit(0); } else{ // Memory has been successfully allocated printf(\"Memory successfully allocated using calloc.\\n\"); // Get the elements of the array for(i=0;i<n;++i){ ptr[i]=i+1; } // Print the elements of the array printf(\"The elements of the array are: \"); for(i=0;i<n;++i){ printf(\"%d, \",ptr[i]); } } return0; }\n\nOutput\n\nEnter number of elements: 5 Memory successfully allocated using calloc. The elements of the array are: 1, 2, 3, 4, 5,\n\nC free() method\n\n“free” method in C is used to dynamically de-allocate the memory. The memory allocated using functions malloc() and calloc() is not de-allocated on their own. Hence the free() method is used, whenever the dynamic memory allocation takes place. It helps to reduce wastage of memory by freeing it.\n\nSyntax of free() in C\n\nfree(ptr);\n\nExample of free() in C\n\nC\n\n#include<stdio.h> #include<stdlib.h> intmain() { // This pointer will hold the // base address of the block created int*ptr,*ptr1; intn,i; // Get the number of elements for the array n=5; printf(\"Enter number of elements: %d\\n\",n); // Dynamically allocate memory using malloc() ptr=(int*)malloc(n*sizeof(int)); // Dynamically allocate memory using calloc() ptr1=(int*)calloc(n,sizeof(int)); // Check if the memory has been successfully // allocated by malloc or not if(ptr==NULL||ptr1==NULL){ printf(\"Memory not allocated.\\n\"); exit(0); } else{ // Memory has been successfully allocated printf(\"Memory successfully allocated using malloc.\\n\"); // Free the memory free(ptr); printf(\"Malloc Memory successfully freed.\\n\"); // Memory has been successfully allocated printf(\"\\nMemory successfully allocated using calloc.\\n\"); // Free the memory free(ptr1); printf(\"Calloc Memory successfully freed.\\n\"); } return0; }\n\nOutput\n\nEnter number of elements: 5 Memory successfully allocated using malloc. Malloc Memory successfully freed. Memory successfully allocated using calloc. Calloc Memory successfully freed.\n\nC realloc() method\n\n“realloc” or “re-allocation” method in C is used to dynamically change the memory allocation of a previously allocated memory. In other words, if the memory previously allocated with the help of malloc or calloc is insufficient, realloc can be used to dynamically re-allocate memory. re-allocation of memory maintains the already present value and new blocks will be initialized with the default garbage value.\n\nSyntax of realloc() in C\n\nptr = realloc(ptr, newSize);\n\nwhere ptr is reallocated with new size 'newSize'.\n\nIf space is insufficient, allocation fails and returns a NULL pointer.\n\nExample of realloc() in C\n\nC\n\n#include<stdio.h> #include<stdlib.h> intmain() { // This pointer will hold the // base address of the block created int*ptr; intn,i; // Get the number of elements for the array n=5; printf(\"Enter number of elements: %d\\n\",n); // Dynamically allocate memory using calloc() ptr=(int*)calloc(n,sizeof(int)); // Check if the memory has been successfully // allocated by malloc or not if(ptr==NULL){ printf(\"Memory not allocated.\\n\"); exit(0); } else{ // Memory has been successfully allocated printf(\"Memory successfully allocated using calloc.\\n\"); // Get the elements of the array for(i=0;i<n;++i){ ptr[i]=i+1; } // Print the elements of the array printf(\"The elements of the array are: \"); for(i=0;i<n;++i){ printf(\"%d, \",ptr[i]); } // Get the new size for the array n=10; printf(\"\\n\\nEnter the new size of the array: %d\\n\",n); // Dynamically re-allocate memory using realloc() ptr=(int*)realloc(ptr,n*sizeof(int)); if(ptr==NULL){ printf(\"Reallocation Failed\\n\"); exit(0); } // Memory has been successfully allocated printf(\"Memory successfully re-allocated using realloc.\\n\"); // Get the new elements of the array for(i=5;i<n;++i){ ptr[i]=i+1; } // Print the elements of the array printf(\"The elements of the array are: \"); for(i=0;i<n;++i){ printf(\"%d, \",ptr[i]); } free(ptr); } return0; }\n\nOutput\n\nEnter number of elements: 5\n\nMemory successfully allocated using calloc.\n\nThe elements of the array are: 1, 2, 3, 4, 5,\n\nEnter the new size of the array: 10\n\nMemory successfully re-allocated using realloc.\n\nThe elements of the array are: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,\n\nOne another example for realloc() method is:\n\nC\n\n#include<stdio.h> #include<stdlib.h> intmain() { intindex=0,i=0,n, *marks;// this marks pointer hold the base address // of the block created intans; marks=(int*)malloc(sizeof( int));// dynamically allocate memory using malloc // check if the memory is successfully allocated by // malloc or not? if(marks==NULL){ printf(\"memory cannot be allocated\"); } else{ // memory has successfully allocated printf(\"Memory has been successfully allocated by \" \"using malloc\\n\"); printf(\"\\n marks = %pc\\n\", marks);// print the base or beginning // address of allocated memory do{ printf(\"\\n Enter Marks\\n\"); scanf(\"%d\",&marks[index]);// Get the marks printf(\"would you like to add more(1/0): \"); scanf(\"%d\",&ans); if(ans==1){ index++; marks=(int*)realloc( marks, (index+1) *sizeof( int));// Dynamically reallocate // memory by using realloc // check if the memory is successfully // allocated by realloc or not? if(marks==NULL){ printf(\"memory cannot be allocated\"); } else{ printf(\"Memory has been successfully \" \"reallocated using realloc:\\n\"); printf( \"\\n base address of marks are:%pc\", marks);////print the base or ///beginning address of ///allocated memory } } }while(ans==1); // print the marks of the students for(i=0;i<=index;i++){ printf(\"marks of students %d are: %d\\n \",i, marks[i]); } free(marks); } return0; }\n\nOutput"
    }
}