{
    "id": "correct_foundationPlace_00063_2",
    "rank": 71,
    "data": {
        "url": "https://stackoverflow.com/questions/43777106/program-made-with-pyinstaller-now-seen-as-a-trojan-horse-by-avg",
        "read_more_link": "",
        "language": "en",
        "title": "Program made with PyInstaller now seen as a Trojan Horse by AVG",
        "top_image": "https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded",
        "meta_img": "https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded",
        "images": [
            "https://i.sstatic.net/UIrGI.jpg?s=64",
            "https://www.gravatar.com/avatar/5a377e11486cd93bd1824c3d4b9a63bf?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://i.sstatic.net/UIrGI.jpg?s=64",
            "https://i.sstatic.net/djCm2.jpg?s=64",
            "https://www.gravatar.com/avatar/5a377e11486cd93bd1824c3d4b9a63bf?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://lh3.googleusercontent.com/a-/AOh14GgIjWxLl8ak8oMQ3QoFXNbdQSSQuCbb-iibDRvp_YQ=k-s64",
            "https://www.gravatar.com/avatar/61657bbee62fbd54cf9334e83e2dab93?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://www.gravatar.com/avatar/1425677d831f8a458be013c0fd044e54?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://www.gravatar.com/avatar/ca3f9c6a55373091df01651bac1ce755?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://i.sstatic.net/HF76A.jpg?s=64",
            "https://www.gravatar.com/avatar/7037984890844d167b50893adb314813?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://i.sstatic.net/drWqm.png?s=64",
            "https://www.gravatar.com/avatar/41b730d4390c5fe009bf768e50389166?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://i.sstatic.net/54DOb.png?s=64",
            "https://i.sstatic.net/OJqGE.jpg?s=64",
            "https://www.gravatar.com/avatar/e03e1201825435665b90495a653c4643?s=64&d=identicon&r=PG",
            "https://i.sstatic.net/JNte5.jpg?s=64",
            "https://www.gravatar.com/avatar/07992803be60cdf6c3193f438ca21164?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://lh3.googleusercontent.com/a/ACg8ocKvyLMCqfGAENNAocuWIEfxkTavkMnhUoMri_Cb0BFAJQ=k-s64",
            "https://stackoverflow.com/posts/43777106/ivc/e7c8?prg=faaad8e8-8c1b-4277-ac81-4be00938b1d4"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": "2017-05-04T07:59:11",
        "summary": "",
        "meta_description": "About a month ago, I used PyInstaller and Inno Setup to produce an installer for my Python 3 script. My AVG Business Edition AntiVirus just started complaining with today's update that the program ...",
        "meta_lang": "en",
        "meta_favicon": "https://cdn.sstatic.net/Sites/stackoverflow/Img/favicon.ico?v=ec617d715196",
        "meta_site_name": "Stack Overflow",
        "canonical_link": "https://stackoverflow.com/questions/43777106/program-made-with-pyinstaller-now-seen-as-a-trojan-horse-by-avg",
        "text": "I was always getting some false positives with PyInstaller from VirusTotal. This is how I fixed it:\n\nPyInstaller comes with pre-compiled bootloader binaries for different OSs. I suggest compile them by yourself on your machine. Make sure everything is consistent on your machine. For Windows 64-bit, install Python 64-bit. Download PyInstaller 64-bit for Windows. Make sure Visual Studio (VS) corresponding to your Python is installed, check below:\n\nhttps://wiki.python.org/moin/WindowsCompilers\n\nCompile the bootloader of PyInstaller on your machine with VS. It automatically updates the run.exe, runw.exe, run_d.exe, runw_d.exe in DownloadedPyinstallerFolder\\PyInstaller\\bootloader\\Windows-64bit. Check below for more info on how to compile the bootloader:\n\nhttps://pyinstaller.readthedocs.io/en/stable/bootloader-building.html\n\nAt the end, install PyInstaller. Within the PyInstaller directory, run\n\npython setup.py install\n\nI was able to submit the file in question to AVG's \"Report a false detection\" page, at https://secure.avg.com/submit-sample. I received a response back fairly quickly (I can't remember exactly how long, but it was less than a day) that they had analyzed my file and determined that it did not have a virus. They said that they had adjusted their virus definitions so that it would not trigger a false positive anymore. I updated my definitions and it was still triggering, so I contacted them again with my virus definition version, and I heard back that the version I had wasn't high enough - I think there was some delay on my definitions because I get them from a local server. But within a day I had the right version of the definitions and the false positive didn't trigger anymore.\n\nSo if you have a false positive with AVG, I would recommend this solution - fairly quick and easy to get a resolution to the problem.\n\nI faced same issue for my small document register project code.\n\nMy temporary solution was to allow the app in windows defender and\n\nother solution was to use the command pyinstaller filename.py instead of pyinstaller --onefile filename.py.\n\nI dont know if it is correct. But it worked for me.\n\nI searched many blogs for weeks. But I found nothing.. Today I found a way to convert py to exe without any virus errors.\n\nVirus Total Report\n\nSo in this method you do not need to send any reports.. Actually It is very simple.\n\nYou need to install a module named Nuitka.\n\npython -m pip install nuitka\n\nThen you need to open command from from the file path. And use the command; python -m nuitka --mingw64 filename.py\n\nAnd that's all.\n\nYou can use the command nuitka --help\n\nYou can find more at - Nuitka Guide\n\nI puzzled over this question for two days and finally found a problem with my application. The issue was with the application's icon.\n\nExample for tkinter:\n\nroot.iconbitmap('./icon.ico')\n\nWhen I removed this line of code, the false-positive Trojan was gone.\n\nAlso, make sure not to use --icon dependency when you are converting your .py file into .exe. Otherwise, this will cause the same false-positive Trojan detection.\n\nI had this same problem using python 3.8.5 and pyinstaller 4.5.1\n\nIn my case the first exe build was accepted by the antivirus (Windows Defender) but subsequent builds were flagged as having a trojan. I solved it by using the pyinstaller --clean option every time I built the executable\n\nWhat I did was to solve this(make exe files non detectable as virus) was to downgrade pyinstaller by typing in cmd: pip install pyinstaller==4.1.0\n\nAnd by the way it didn't work on 3.4.0 so I just randomly picked that version(4.1) and its pretty good looking so far :> I'm pretty sure that it works on more than only that one version but that i experienced personally\n\nAs @boogie_bullfrog told, reverting to a previous version could be a solution. However I used *.spec file to store some data (like pictures and icons). I had the latest 3.5 version (August, 2019) and moving to 3.1.1 caused error when app was compiled (probably due to supporting Python 3.7).\n\nSo right now the easiest solution is to downgrade to 3.4\n\nIt supports specs from pyinstaller 3.5 and the onefile-app wasn't detected by Windows 10 built-in firewall\n\nI had a similar problem with a pyinstaller exe under Windows. Avira put that file into quarantine since it was considered potentially dangerous (due to heuristics, which means that some segments look typical for a virus, but no virus is actually found).\n\nKeep in mind that the exe files you generate yourself are unique (as a consequence, the Avast scanner usually returns a message \"you have found a rare file, we are doing a quick test\", and delays execution for 15 seconds to perform a more thorough test).\n\nMy solution consists of some steps:\n\nI have uploaded the exe to https://www.virustotal.com/gui/home/upload to check it with many scanners. If just one or two are detecting a virus, you should be on the safe side.\n\nIn order to make your local virus scanner accept the file, you can manually accept it for your computer, but this does not solve the underlying problem, so on other computers it would still be flagged as a virus.\n\nTherefore I reported the file as false positive to Avira, which can simply be done by sending it by email. Other scanners have similar feedback lines. I got a feedback by email within one day that it is ok, and the scanner on my pc agrees with this now. Hope that this helps with the next iterations of my exe so that it stays clean.\n\nThe malware is detected using pyinstaller 5.x and 6.x\n\nI reverted the pyinstaller version to 4.10.\n\nI tried 5.x and 6.x but thety did not solve. I'm using phyton 3.8.0.\n\nI run: pip uninstall pyinstaller then pip install pyinstaller== (to list the versions available - if you are interested). And then pip install pyinstaller==4.10\n\nThe problem is caused by --windowed or -w command on Pyinstaller 6.X.X. To solve this problem you have 2 ways.\n\n1- Get rid of the \"Windowed\" Feature\n\nSimply delete the command --windowed or -w on your command line but this time, the console window will be opened in background on your application start.\n\n2- Use Pyinstaller 5.X.X version\n\nI have tested in my system that 5.X.X versions of pyinstaller does not have that problem. So you can install that version instead of using version 6.X.X.\n\npip install pyinstaller==5.13.2"
    }
}