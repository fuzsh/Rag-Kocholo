{
    "id": "dbpedia_7466_2",
    "rank": 52,
    "data": {
        "url": "https://community.atlassian.com/t5/Bamboo-questions/Bamboo-tag-trigger-delay/qaq-p/2003352",
        "read_more_link": "",
        "language": "en",
        "title": "Bamboo tag trigger delay",
        "top_image": "https://community.atlassian.com/html/@258760D0CD1762B6F3D0D0E2133AB4FF/assets/atlassian-community-share-card-630x630.png",
        "meta_img": "https://community.atlassian.com/html/@258760D0CD1762B6F3D0D0E2133AB4FF/assets/atlassian-community-share-card-630x630.png",
        "images": [
            "https://community.atlassian.com/html/@AB0008ECD73167E01D026B72E09D2411/assets/img/hero-questions.png",
            "https://community.atlassian.com/html/@84C84A8A3453805D6AB1865494089A51/assets/img/hero-groups.png",
            "https://community.atlassian.com/html/@DEB9CB3A3ECC4DCBD295E5E005D28867/assets/img/hero-learning.png",
            "https://community.atlassian.com/html/@75A4E75B08D36331DD72E66C26004E13/assets/img/hero-badges.png",
            "https://community.atlassian.com/html/@42030D2FB7A4BAF5DE8685B4AA4D227F/assets/img/hero-events.png",
            "https://secure.gravatar.com/avatar/578a343b75de9c7a1a569717d459b7e6?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FMD-3.png",
            "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/6076aed95759fb006993ceb8/fae8786a-a796-408b-b505-836ab5d10891/128",
            "https://secure.gravatar.com/avatar/578a343b75de9c7a1a569717d459b7e6?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FMD-3.png",
            "https://secure.gravatar.com/avatar/578a343b75de9c7a1a569717d459b7e6?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FMD-3.png",
            "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/6076aed95759fb006993ceb8/fae8786a-a796-408b-b505-836ab5d10891/128",
            "https://secure.gravatar.com/avatar/578a343b75de9c7a1a569717d459b7e6?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FMD-3.png",
            "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/6076aed95759fb006993ceb8/fae8786a-a796-408b-b505-836ab5d10891/128",
            "https://secure.gravatar.com/avatar/578a343b75de9c7a1a569717d459b7e6?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FMD-3.png",
            "https://secure.gravatar.com/avatar/578a343b75de9c7a1a569717d459b7e6?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FMD-3.png",
            "https://secure.gravatar.com/avatar/578a343b75de9c7a1a569717d459b7e6?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FMD-3.png",
            "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/6076aed95759fb006993ceb8/fae8786a-a796-408b-b505-836ab5d10891/128",
            "https://secure.gravatar.com/avatar/578a343b75de9c7a1a569717d459b7e6?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FMD-3.png",
            "https://secure.gravatar.com/avatar/578a343b75de9c7a1a569717d459b7e6?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FMD-3.png",
            "https://community.atlassian.com/html/@970A6E3EA6BE96059615B0B70CDA6961/assets/img/hot-issue-balloon.png"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [
            "community.atlassian.com",
            "user-id"
        ],
        "publish_date": "2022-04-15T12:53:51.727000+00:00",
        "summary": "",
        "meta_description": "Solved: Hi all, I have a plan that is triggered by tag. When I push the tag to the repo is takes quite some amount of time (in minutes like 3 to 5 I",
        "meta_lang": "en",
        "meta_favicon": "https://community.atlassian.com/html/@0601DBABBD46E593B9DCC88D6227A033/assets/apple-touch-icon.svg",
        "meta_site_name": "Atlassian Community",
        "canonical_link": "https://community.atlassian.com/t5/Bamboo-questions/Bamboo-tag-trigger-delay/qaq-p/2003352",
        "text": "Hello @Mariusz Dullak,\n\nBamboo tag detection follows the branch detection interval which is 5 minutes by default and adds a time 50% delay to that time so it won't compete with the branch check activities, meaning that tag detection will be running every 300 seconds with a delay of 150 seconds.\n\nE.g.\n\n09:05:00 -> Branch detection\n\n09:07:30 -> Tag detection\n\n09:10:00 -> Branch detection\n\n09:12:30 -> Tag detection\n\n(...)\n\nTo adjust the branch detection period, go to:\n\nBamboo Administration -> General Configuration -> Branch and tag detection interval\n\nRegards,\n\nEduardo Alvarenga\n\nAtlassian Support APAC\n\nHi again,\n\nSeems that on some branches my tag triggers work and on some (of the same repo and plan) they do not (plan branch configuration is identical and does not contain anything plan branch and git branch specific).\n\nIn application-data folder/logs/atlassian-bamboo.log I can see execution of plan when tag was found. Where can I see that the detection was run and that no new tags were found?\n\nLast but not least, are tagged that have been already build stored somewhere? How does bamboo knows which tags should trigger builds - which ones are new?\n\nthanks in advance\n\nHello @Mariusz Dullak, Good to work with you again!\n\nBamboo will keep track of all tags from a VCS repository and store them on the VCS_TAG table in the database. When Bamboo scans for tags it compares with the data already present on that table and if there is a match, no triggers are actioned as it understands the tag is already present and was \"already triggered\" in the past.\n\nIf the tag entry is removed from the database, Bamboo will treat it as it was a new tag.\n\nYou can configure regular expressions that will be matched and trigger a Plan, so Bamboo will only consider those matched strings as a trigger:\n\nTag triggering\n\nHow to perform a Bamboo build based on a Git tag\n\nYou can add some extra DEBUG flags to Bamboo to follow the Tag detection process:\n\nConfiguring the level of logging on the Bamboo server\n\nYou might be interested on adding the following log levels:\n\ncom.atlassian.bamboo.plugins.git=ALL\n\ncom.atlassian.bamboo.v2.trigger.DefaultChangeDetectionManager=DEBUG\n\ncom.atlassian.bamboo.plan.branch.BranchDetectionServiceImpl=DEBUG\n\nWARNING: DEBUG logs may be very verbose!\n\nRegards,\n\nEduardo Alvarenga\n\nAtlassian Support APAC\n\nAnother few months and I am getting the complains again.\n\nI can see new tags are in the VCS_TAG table, but they never trigger new builds.\n\nSo our release process is: create branch release/XX.YY or release/XX.YY-something (where XX is fixed and, Y and Z are numbers).\n\nI have bamboo set to create new branch plan on new branch in VCS on:\n\n^release\\/XX.\\d*(-.*)?\n\nand it works OK.\n\nOur tag - aka release name - policy is XX.YY.ZZ or XX.YY.ZZ-something\n\nThe trigger on main branch is commit trigger and in the configuration of branching I have:\n\nCustom trigger, Tag trigger, Tag filter: ^XX\\.\\d*\\.\\d*(-.*)?\n\nand \"Only run build if the branch contains the matched tag\" since I only want to run one branch (we are working and releasing several releases at the same time, so without this I would expect EVERY active branch to be triggered which is NOT what I want).\n\nThis regex should be passing (I tested it several times) on stuff like XX.99.2, XX.98.7, XX.86.5-test etc.\n\nSo I can see in the VCS_TAG tags like \"XX.99.4\" It was pushes to release/XX.99 branch on May 24th 5PM. Nothing happened and someone manually started in on May 25th 11AM.\n\nWhat is going on here? Is it that there are 3 (three) repos assigned to that build? Is bamboo expecting the tag on each and everyone of them? Branching and tagging is on the \"main\" repo and since branching is working fine I though everything is OK.\n\nApparently I am wrong.\n\nAny help would be appreciated.\n\nHi @Eduardo Alvarenga\n\ncoming back after months.\n\nI got a complain today about builds not starting again.\n\nI can see they are OK for some branches and tags and not for other.\n\nLooks like they are OK for regex you provided\n\n^XX\\.\\d+\\.\\d+(?:-.*)?$\n\nbut I also had slightly different one which does not work\n\n^XX\\.\\d*\\.\\d*(?:-.*)?$\n\nSo for anyone who wondered here with such a problem, please make sure you have + (one or more) and not * (zero or more). The first one (+) works for me but not the other (*)."
    }
}