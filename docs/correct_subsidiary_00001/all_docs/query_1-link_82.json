{
    "id": "correct_subsidiary_00001_1",
    "rank": 82,
    "data": {
        "url": "https://community.smartthings.com/t/what-local-http-protocols-does-alexa-support-direct-communication-with-smart-home-devices/145592",
        "read_more_link": "",
        "language": "en",
        "title": "What local http protocols does Alexa support direct communication with smart home devices",
        "top_image": "https://global.discourse-cdn.com/smartthings/original/3X/f/1/f1d42708828e42853cb3deb3b4ea5b20f3210055.jpeg",
        "meta_img": "https://global.discourse-cdn.com/smartthings/original/3X/f/1/f1d42708828e42853cb3deb3b4ea5b20f3210055.jpeg",
        "images": [
            "https://emoji.discourse-cdn.com/google/sunglasses.png?v=6",
            "https://emoji.discourse-cdn.com/google/frowning.png?v=6",
            "https://emoji.discourse-cdn.com/google/slight_smile.png?v=6",
            "https://global.discourse-cdn.com/smartthings/original/3X/9/e/9ed451caacdff285f20fed8d00a1dc81038a1a39.jpeg"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            "alexa",
            "developers",
            "smartdevice"
        ],
        "tags": null,
        "authors": [
            "lukaskolafa (Lukaskolafa)",
            "karayakar (karay)",
            "Gutheinz (Dave Gutheinz)"
        ],
        "publish_date": "2018-12-09T13:30:34+00:00",
        "summary": "",
        "meta_description": "Hi, \nI am interested in direct http protocols that Alexa supports for controlling Smart Home devices (like bulbs, plugs, …) without any installed skills in the cloud. \nas an example, I know Alexa supports native Phillips&hellip;",
        "meta_lang": "en",
        "meta_favicon": "https://global.discourse-cdn.com/smartthings/optimized/3X/9/0/9006d14158e97befda8e47d889ad788e74773b37_2_32x32.png",
        "meta_site_name": "SmartThings Community",
        "canonical_link": "https://community.smartthings.com/t/what-local-http-protocols-does-alexa-support-direct-communication-with-smart-home-devices/145592",
        "text": "Hi,\n\nI am interested in direct http protocols that Alexa supports for controlling Smart Home devices (like bulbs, plugs, …) without any installed skills in the cloud.\n\nas an example, I know Alexa supports native Phillips Hue protocol. Here a github project, where someone implemented fictive API so Alexa thinks, you have a Hue at home and can control it via voice. Same thing with WeMo devices as posted here.\n\nI know that today the recommended way is to create an Alexa SmartHome Skill, register it in Amazon, create a lambda instance, pay for traffic, and communicate with your home via separate channel, etc. I would like to avoid that and implement pure simple HTTP API, which Alexa recognizes via WiFi on local network and can control it.\n\nSo my question is: what other http protocols does Alexa support, similarly as Hue or WeMo? Especially, are some of those protocols public and easy to implement?\n\nI could use the WeMo Protocol, but this is very limited, so I am searching for better alternatives that are not so hacky. At the same time I want to keep it very simple and especially avoid the need of having an Alexa Skill implemented and instantiate a lamda for that in Amazon, that would communicate with my Smart Gateway from outside of my home network. I am fine with the fact that Alexa communicates with Amazon cloud, I have problem with the Alexa Skills communicating via a separate channel.\n\nmany thanks!\n\nHi Ryan, thanks for your reply! I am aware of Zigbee but this needs extra hardware as you mention. I have echo plus but it would be tricky to make my Raspberry support the Zigbee. I can confirm that Alexa supports at least one native http protocol - Hue Harmony - I was able to start the API locally and make Alexa think I have smart bulbs at home. I was wondering if there are other similar protocols - I found something with Ikea, but I am not sure if this works locally.\n\non the other hand I read as well that the Alexa Gen 2 does not work reliably with the Hue Protocol so probably Amazon is going away from the native protocols, which is sad.\n\nBy “locally” I mean that Alexa Echo Dot (or Plus) - the device - physically communicates on local network with the smart devices without making the trip over Skills in cloud.\n\nAccording to the official documentation for Smart Skill Api and this image, Alexa cloud communicates via Skill in the cloud with the cloud instance of the Smart Home Company which then communicates with the Gateway in your home network which then delegates the commands on the smart devices.\n\nIn contra to that, Philips Hue and WeMo work differently. If you say “Alexa, discover devices”, the Alexa Echo device will directly communicate inside of your home network with the WeMo/Hue device over WiFi - this means no Skill, no lambda functions in Amazon, no open ports to your network etc.\n\nAfaik Alexa is indeed capable of communicating with Hue Devices without any Skill connected with your Alexa account. I managed this couple months ago with the hacked Hue interface. Those are quite old devices that Alexa started supporting in the early stages when Alexa was new on market.\n\nLater I managed to develop a working Smart Home Skill for Alexa according to the official documentation - for that you need an Amazon account, cloud Skill and especially a Gateway which can communicate with the Cloud Skill from your home network which means lot of overhead.\n\nThe key difference is in the data flow - in case of Hue/WeMo the packets travel:\n\nAmazon -> Alexa -> Device\n\nIn case of the newer cloud based solutions the packets travel:\n\nAmazon -> Alexa -> Skill -> Cloud Smart Server -> Local Gateway -> Device\n\nWhat do you mean by “SmartThings”? Do you mean it as a general term for all smart devices or does “SmartThings” mean some specific device or protocol that works the same way as WeMo?\n\nThank you for your patiente until now. As said, I rephrased my question to make it clear. Of course Amazon lives in cloud and Alexa communicates with that cloud, I have no problem with that fact. This was a typo from me, sorry for the confusion.\n\nI want to achieve a solution where the network traffic between Alexa and Smart Home Gateway will be a direct hop in local network:\n\nAlexa <-> Smart Gateway (and yes, Alexa can use Amazon cloud for the speech translation)\n\nI already implemented the standard solution using AWS Lambda Skills, but this needs another channel from the cloud to your network, traffic costs in AWS Lambda, paid account in Amazon and an extra cloud application (as well paid) communicating with your Home Gateway.\n\nSo long story short, I want to implement exactly the WeMo solution (as linked in the question). I was just hoping meanwhile there is a better official protocol in place that Alexa would support.\n\nI believe you have discovered the only two ‘local LAN’ communications supported by the Amazon Echo Devices. As you have stated, the Phillips Hue and Wemo LAN-Connected devices due, in fact, communicate directly with the Amazon Echo on the LAN. Of course, the voice commands are processed via the AWS cloud. I believe that these two integrations are somewhat limited (lights/switches/dimmers only?) compared to a full Alexa Skill implementation.\n\nThe original Hubitat Elevation Hub’s Alexa integration was actually as an emulated Hue Bridge. That integration is still available, as the Hubitat Alexa Skill is not available in all countries, yet. I used it without any issues for many months, until Hubitat released an official Alexa Skill.\n\nThere are a few home automation or AV devices which want to encourage as many third-party integrations as possible, and provide both a local LAN API and a cloud to cloud option. These include Logitech Harmony, Phillips hue bridge, and Lutron smartbridge pro.\n\nFor whatever reasons, the two companies in the logitech/Amazon coupling and the Phillips/Amazon coupling decided to take advantage of the local LAN option.\n\nBut Amazon prefers that independent developers use the skills option, and most large companies have done so as well. Since, as has been mentioned, the cloud has been required for voice processing anyway, it’s generally made sense.\n\nAmazon is just now starting to add local voice options, but limited to a very few commands, not natural language processing, and really just intended for the lights and switches that the echo plus can control. But they are moving a little bit in that direction.\n\nThere isn’t anything that smartthings adds to this picture in this regard, So I agree that this discussion would be better had in an Amazon developers forum, maybe on Reddit if you want something more independent.\n\nThere just isn’t really anything that we can add in the context of this forum other than to confirm that Hue and harmony are handled differently then most devices. But it’s not because of smartthings: it’s because of the way their parent companies have chosen to approach integrations.\n\nMany thanks! It is sad, that Echo probably does not support more local protocols. Exactly, hue/wemo protocol is very limited, so I was hoping for a better one.\n\nI fear the reason why is that is the business model behind the scenes - companies have to pay to Amazon money when connecting the Alexa Smart Skills (calculated on request basis) - I can imagine Samsung has to pay quite a lot for SmartThings considering how many users they have. And additional fees apply for the smart cloud app companies have to maintain. Unfortunately this architecture has a big negative effect - users have to trust a 2nd company (beside Amazon) to access their home network as the cloud skills need a 2nd channel from the cloud. I am striving for a simpler solution avoiding that. The reason why Alexa supports locally Hue and WeMo is probably the fact, that they were on market before Alexa and Amazon needed this for marketing purpose to attract first customers. Now they are probably closing the support slowly and forcing companies to use the cloud Skills\n\nThanks for the hint with Alexa future in terms of local commands without internet - I was not aware of that - in order to make this work, Alexa would need to support some local APIs which should be possible to implement easily, so there might be a hope. I will have a deeper look into that.\n\nI will have a look as well in the Amazon developer forum as you suggest. I saw in this forum questions related to similar topic with Alexa so I thought this forum is related to any smart devices, sorry for the spam here"
    }
}