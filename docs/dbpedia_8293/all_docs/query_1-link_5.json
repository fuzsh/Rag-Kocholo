{
    "id": "dbpedia_8293_1",
    "rank": 5,
    "data": {
        "url": "https://sourceforge.net/p/rescuezilla/discussion/support/thread/79161495bf/",
        "read_more_link": "",
        "language": "en",
        "title": "Help and Support: Cannot clone due to \"failed to shutdown Logical Volume Manager (LVM)\"",
        "top_image": "https://a.fsdn.com/con/img/sandiego/logo-180x180.png",
        "meta_img": "https://a.fsdn.com/con/img/sandiego/logo-180x180.png",
        "images": [
            "https://a.fsdn.com/con/images/sandiego/sf-logo-full.svg",
            "https://a.fsdn.com/con/images/sandiego/sf-logo-full.svg",
            "https://a.fsdn.com/con/images/sandiego/sf-logo-full.svg",
            "https://a.fsdn.com/con/images/sandiego/github-sync.png",
            "https://a.fsdn.com/allura/p/rescuezilla/icon?1592548864&w=90",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://sourceforge.net/p/rescuezilla/discussion/support/thread/79161495bf/0ff3/attachment/image.jpg/thumb",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/allura/u/rescuezilla/user_icon?1591930840",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/allura/u/rescuezilla/user_icon?1591930840",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/allura/u/rescuezilla/user_icon?1591930840",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/allura/u/rescuezilla/user_icon?1591930840",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/allura/u/rescuezilla/user_icon?1591930840",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/allura/u/rescuezilla/user_icon?1591930840",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/allura/u/rescuezilla/user_icon?1591930840",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/allura/u/rescuezilla/user_icon?1591930840",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/icons/default-avatar.png",
            "https://a.fsdn.com/con/images/sandiego/sf-logo-full.svg"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "",
        "meta_lang": "en",
        "meta_favicon": "https://a.fsdn.com/con/img/sandiego/logo-180x180.png",
        "meta_site_name": "",
        "canonical_link": "https://sourceforge.net/p/rescuezilla/discussion/support/thread/79161495bf/",
        "text": "Hello,\n\nI'm glad to have found Rescuezilla because the separate handling of clonezilla and, for example, gparted is very impractical and error-prone. Unfortunately, my first attempt was unsuccessful. I wanted to clone the boot SSD on my HP Gen 8 MicroServer so that I only have to replace the SSD in an emergency. The SSD are both identical. Cloning, 1: 1 locally, was canceled immediately (0%) with an error message. Backing up to an image file on the same SSD worked. I also tried removing all partitions on the target. Now I've stopped the experiments, the server has to be running ...\n\nbye, Patrick\n\nThanks for the report. Yes, Rescuezilla is a port of Clonezilla to Python programming language, so it's correct to say it has \"separate handling of Clonezilla\". Ideally Rescuezilla would be bug-for-bug identical to Clonezilla, but in general there are some situations where Rescuezilla's handling of imaging and cloning is slightly better than Clonezilla's (and vice versa).\n\nIn your specific case, the clone \"failed to shutdown Logical Volume Manager (LVM)\" but the actual information associated with the issue is not correctly being displayed due to a bug in Rescuezilla v2.2. In response to your report, I have created task #250 to track down and fix the error message not correctly being displayed.\n\nFor completeness, I should note that \"Hirsute\" version of Rescuezilla v2.2 uses slightly newer LVM packages so cloning or restoring an LVM may operate slightly differently to the \"Focal\" version of Rescuezilla v2.2. I have tried to match Clonezilla's handling of the newer LVM packages but it's possible I have missed something.\n\nAlso I should note that most of my testing for LVMs tends to be restoring and cloning LVM operating systems like CentOS 8 to blank disks, which has worked without issues. I also test restoring and cloning to disks with existing LVMs but definitely not as much as to blank disks. This is definitely something I will be addressing with the automated testing suite, which should lower the testing overhead enough to allow me to test each Rescuezilla version against many thousands disk images, which should vastly improved reliability.\n\nFinally, I should mention that it's possible to take a screenshot in Rescuezilla by pressing the Print Screen button on the keyboard.\n\nYes, shutting down the LVM is necessary for a clone operation. Because that's the best way to guarantee the source (and destination) disks have had all filesystems fully and completely unmounted.\n\nGiven the failed LVM shutdown error message in Rescuezilla v2.2 is not being displayed correctly, we don't know why in your case the LVM was not able to be shutdown.\n\nYou have mentioned that your server needs to be online and so you can't take it offline to experiment. Because of this, my recommendation for your particular case is to simply stick with Clonezilla until the next version of Rescuezilla, which I hope will improve the outcome for the issue you are experiencing.\n\nI use Proxmox v5.4 (Debian Buster).\n\nThanks for the information. While the default Debian Buster installer does not configure LVMs, the standard Proxmox distribution might come with an LVM-based environment. I'm not sure. But this is at least enough information for me to do some further testing.\n\nI would not have thought that the host's LVM would be automatically included when I boot a rescue system from USB.\n\nBy default most Linux distributions do activate a number of host system resources even when booting as a live USB environment. For example, most Linux distributions automatically activate a swap partition (which Rescuezilla carefully avoids), and LVMs tend to be initialized too.\n\nWhy is that not a problem when backing up to an image file?\n\nShutting down the LVM only happens at certain points during a Rescuezilla operation. During a standard backup operation, the LVM is usually activated. And since your issue only occurs during shutdown of the LVM no issue occurs.\n\n(I believe you should be easily able to reproduce the issue by simply clicking the checkbox on the \"partitions to backup\" screen.)\n\nUnlike cloning operations, the LVM does not need to be shutdown for a Rescuezilla backup operation because there is no risk of conflicts between LVM's constituent parts (Physical Volumes, Volume Groups and Logical Volumes), and for smaller file sizes most users will want to do the backup in a \"filesystem-aware\" way when possible (which is only possible with the LVM activated).\n\nI should also note you are likely to experience the same error when you try to restore your image to the destination using Rescuezilla v2.2, because the same LVM shutdown operation will occur during Rescuezilla's restore operation. And even if that error didn't happen, you would very likely to experience a different issue restoring such a backup image using Clonezilla or Rescuezilla because there would then be LVMs with two identical addresses. The workaround would be to remove the original disk containing the LVM before attempting a restore the image using Clonezilla or Rescuezilla.\n\nSoo, working a little backwards here I found that if I shut the server down and disconnected the other lvm drives (these were lvm storage for vms, didn't mention that before) in the server and attempted to restore from the Rescuzilla image for the boot drive (this was one I recently created for the just the boot drive) it restored without error to a external usb sata drive. I then took that drive and booted from it and was able to do so successfully.\n\nI then tried to clone the original boot drive again (also to an external USB drive), this time without the other lvm drives connected and it did so without error. I then took out the original boot drive and swapped in the fresh clone connected the other lvm drives ( lvm storage for vms)\n\nI think there might be a problem with Rescuzilla mounting all drives in the server including those lvm volumes causing the error. I'm just a novice though and really not a linux/unix expert."
    }
}