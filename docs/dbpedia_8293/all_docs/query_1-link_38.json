{
    "id": "dbpedia_8293_1",
    "rank": 38,
    "data": {
        "url": "https://community.spiceworks.com/t/using-clonezilla-to-image-vmware-esxi-server/125237",
        "read_more_link": "",
        "language": "en",
        "title": "Using Clonezilla to image VMware ESXI server?",
        "top_image": "https://global.discourse-cdn.com/spiceworks/original/1X/7a73606d7df2f794c4789897e49693fb3c471b23.png",
        "meta_img": "https://global.discourse-cdn.com/spiceworks/original/1X/7a73606d7df2f794c4789897e49693fb3c471b23.png",
        "images": [
            "https://secure.intelligence52.com/795141.png",
            "https://sea1.discourse-cdn.com/spiceworks/user_avatar/community.spiceworks.com/johnwhite/48/19798_2.png",
            "https://sea1.discourse-cdn.com/spiceworks/user_avatar/community.spiceworks.com/johnwhite/48/19798_2.png",
            "https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=12",
            "https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=12",
            "https://emoji.discourse-cdn.com/twitter/wink.png?v=12",
            "https://zdbb.net/l/z0WVjCBSEeGLoxIxOQVEwQ/"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            "vmware",
            "question"
        ],
        "tags": null,
        "authors": [
            "johnwhite (John White)",
            "bryandoe (Bryan Doe)",
            "brentmhk (BrentMHK)"
        ],
        "publish_date": "2012-02-07T09:30:47+00:00",
        "summary": "",
        "meta_description": "I used to use clonezilla to snapshot desktop PC’s for users who were notorious at getting viruses. I would take a snapshot of their computer with a clean build of their OS and programs on it, and then when they gunked it&hellip;",
        "meta_lang": "en",
        "meta_favicon": "https://global.discourse-cdn.com/spiceworks/optimized/1X/a254df83358a951c43ed6ee756b5e0011a8d58bc_2_32x32.png",
        "meta_site_name": "Spiceworks Community",
        "canonical_link": "https://community.spiceworks.com/t/using-clonezilla-to-image-vmware-esxi-server/125237",
        "text": "I used to use clonezilla to snapshot desktop PC’s for users who were notorious at getting viruses. I would take a snapshot of their computer with a clean build of their OS and programs on it, and then when they gunked it up, could just re-image it using clonezilla.\n\nWould it be possible to do something like this with my Esxi server?\n\nI’d like to take a full snapshot of my server when I have it just the way I like it so in the event of a failure of some kind and I had to get a replacement server, I could just dump the image back onto the hardware and done, running!\n\n@VMware @HP @Dell_Technologies\n\nYeah, I realize that. But I do my snapshots manually as it is anyway. Automation isnt my main concern, im more worried about downtime. I was thinking this would be a quick way to get our server back into production in the event of a failure.\n\nLets say I received a new server (I have four hour emergency replacement on my dell server) instead of installing esxi, configuring it, and then installing my snapshots, I would just get the server and dump the clonezilla image on it.\n\nLets say I did it once a month, it would only be a month old at worst, that wouldnt be too bad.\n\nI was mainly wondering if clonezilla has the ability to do this, especially with the RAID 5 configuration.\n\nAre you talking about the ESXi host (the physical server) or the virtual machines?\n\nFor the VM’s, you want to automate if you can - ghettoVCB is a free and fairly simple solution.\n\nThe hosts are a very small installation (and usually installed on a separate partition or a USB device). I haven’t used it, but it looks like the vicfg-cfgbackup command would be what you’re after. Home - VMware {code}\n\nShould just be a matter of running the ESXi install disk with a USB stick ready to receive the host OS. At most, including time to configure the front-end, about 30 minutes and you are ready to move VM’s on to the host.\n\nIf the original host server itself died, but the drives are still good, you might be able to plug your old HDD’s into the new host, then once you install the ESXi hypervisor, have the hypervisor connect to an existing datastore. You could use something like Clonezilla to image the HDD’s and restore that image to new HDD’s, unless you are using a RAID.\n\nThis all seems a bit of extra hassle though. If you are backing up your guests, recreating a host is easy. Then just upload your guests onto the new host.\n\nEven on a budget, if you can get more than one host, size them so you can run all of your essential production servers on one machine if needed, then you take your time getting things back to normal once you get a replacement server.\n\nI think you have to be careful of the technical language here. Snapshots in vSphere mean something specific, a point in time freeze of a guest operating system.\n\nSince you’re talking about the host, I’m going to assume you’re backing up the guests independently and don’t mean them.\n\nI think that Veeam’s FastSCP can backup your host configuration. That might solve the issue you’re trying to address.\n\nRe-installation is trivial but re-creating vSwitch configurations, local datastores, etc… Yeah, I can see why you’d want to do this.\n\nZeb wrote:\n\nBut can I be inquisitive and ask why not? Wouldnt it be basically an image dump of the entire machine?\n\nIm basically saying take an image of the entire RAID array. Is this possible with any type of backup software, like Acronis TruImage?\n\nOh, but above you said just the host. If you’re talking about the entire array, it’s because VMFS 5 support in Clonezilla is very new.\n\nhttp://sourceforge.net/projects/clonezilla/forums/forum/663168/topic/4749244\n\nIf you just want a known good configuration for all your guests, just copy them from the ESXi machine to your network storage while they’re shut down.\n\nI was just talking about something similar here when I saw the link to this thread. I am not sure if I am even asking the same question, but I run vSphere from a USB key, and was wondering if I could clone that USB key to other USB keys using Clonezilla…?\n\nMy initial thoughts were that I could not think of a reason it would not work… but I thought I’d ask anyway. (Likewise with FreeNAS… running off a USB key). I’d just like to clone both in case either fail I can just swap keys and reboot…\n\nWill that work? (I see the BA here so maybe people are done with this thread?)\n\nJohn White wrote:\n\nKelly Armitage wrote:\n\nI don’t think you need any downtime to backup the ESXi configuration. Those are static. You have to shut down the VMs to back them up, though.\n\nVM’s are already covered… but nothing in reagards to ESXi itself… It would literally take less than an hour to re-configure one if I had to… I’d just rather not spend that hour if I could clone one and have it ready. (I’ll try this weekend and just test). I suppose that’s the best way to find out.\n\nOr, as mentioned earlier, you could just back up the config I need to try this out soon. http://professionalvmware.com/2010/05/how-to-backup-esxi-configuration-the-missing-piece/\n\nCloning a host sounds like a lot more trouble than needed with how fast you can reinstall a host and restore the config, especially since cloning will possibly require host downtime.\n\nBryan Doe wrote:\n\nOr, as mentioned earlier, you could just back up the config I need to try this out soon. http://professionalvmware.com/2010/05/how-to-backup-esxi-configuration-the-missing-piece/\n\nCloning a host sounds like a lot more trouble than needed with how fast you can reinstall a host and restore the config, especially since cloning will possibly require host downtime.\n\nhmmmm lets pretend I am in Hawaii when the usb key dies… .what’s easier… asking someone else to re-configure another install on a new key or saying \"plug in the other key and reboot?\n\nThanks… I’ll clone it and have it ready.\n\nKelly wrote:\n\nI was just talking about something similar here when I saw the link to this thread. I am not sure if I am even asking the same question, but I run vSphere from a USB key, and was wondering if I could clone that USB key to other USB keys using Clonezilla…?\n\nKelly,\n\nI use a USB stick to boot my host, and made a couple of copies using Clonzilla. So yes, it can be done…and I do sleep better."
    }
}