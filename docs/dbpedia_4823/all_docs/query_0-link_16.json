{
    "id": "dbpedia_4823_0",
    "rank": 16,
    "data": {
        "url": "https://www.varonis.com/blog/dns-ttl",
        "read_more_link": "",
        "language": "en",
        "title": "What is DNS TTL + Best Practices",
        "top_image": "https://info.varonis.com/hubfs/Imported_Blog_Media/varonis-DNS-TTL-hero.png",
        "meta_img": "https://info.varonis.com/hubfs/Imported_Blog_Media/varonis-DNS-TTL-hero.png",
        "images": [
            "https://info.varonis.com/hubfs/Icon%20Frame-15.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-18.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-16.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-17.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-19.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-20.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-6.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-21.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-22.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-23.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-24.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-Nov-23-2023-10-59-01-2109-AM.svg",
            "https://info.varonis.com/hubfs/platform-nav-menu.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-Nov-23-2023-11-03-21-5225-AM.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-Nov-23-2023-11-03-27-8953-AM.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-Nov-23-2023-11-03-35-0123-AM.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-Nov-23-2023-11-03-42-1916-AM.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-10.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-9-1.svg",
            "https://info.varonis.com/hubfs/2024%20Website%20Redesign/Coverage%20Nav%20Logos/copilot%20dropdown%20icon.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-8-1.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-10-1.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-7-1.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-Nov-23-2023-10-46-16-3737-AM.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-11-1.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-5-1.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-1-1.svg",
            "https://info.varonis.com/hubfs/2024%20Website%20Redesign/Integration%20Logos%202024/IntegrationLogos_Azure.png",
            "https://info.varonis.com/hubfs/Icon%20Frame-2-1.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-4-1.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-Nov-23-2023-10-59-49-4392-AM.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-Nov-23-2023-10-59-01-2109-AM.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-Nov-23-2023-10-59-10-1213-AM.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-Nov-23-2023-10-58-35-0913-AM.svg",
            "https://info.varonis.com/hubfs/ic_sharp-flag.svg",
            "https://info.varonis.com/hubfs/forrester.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-Nov-23-2023-11-07-36-4877-AM.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-Nov-23-2023-11-08-24-5713-AM.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-Nov-23-2023-11-07-44-4965-AM.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-Nov-23-2023-11-07-51-6422-AM.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-Nov-23-2023-11-08-11-0692-AM.svg",
            "https://info.varonis.com/hubfs/Icon%20Frame-Nov-23-2023-11-08-32-6801-AM.svg",
            "https://info.varonis.com/hubfs/ghost-site-research.svg",
            "https://info.varonis.com/hubfs/Blog/LAPSUS$%20Hero.png",
            "https://info.varonis.com/hubfs/salesforce-research.svg",
            "https://info.varonis.com/hubfs/Varonis_June2021/Images/michael-buckbee-200x200-150x150.jpg",
            "https://info.varonis.com/hubfs/Imported_Blog_Media/varonis-DNS-TTL-hero.png",
            "https://info.varonis.com/hs-fs/hubfs/Imported_Blog_Media/DNS-TTL-considerations-basics.png?width=1240&height=712&name=DNS-TTL-considerations-basics.png",
            "https://info.varonis.com/hs-fs/hubfs/Imported_Blog_Media/what-is-DNS-TTL.png?width=1240&height=650&name=what-is-DNS-TTL.png",
            "https://info.varonis.com/hs-fs/hubfs/Imported_Blog_Media/what-is-DNS-TTLs-used-for.png?width=1240&height=632&name=what-is-DNS-TTLs-used-for.png",
            "https://info.varonis.com/hs-fs/hubfs/Imported_Blog_Media/how-to-choose-DNS-TTL-values.png?width=1240&height=591&name=how-to-choose-DNS-TTL-values.png",
            "https://info.varonis.com/hs-fs/hubfs/Imported_Blog_Media/reasons-for-long-short-DNS-TTLs.png?width=1240&height=1187&name=reasons-for-long-short-DNS-TTLs.png",
            "https://info.varonis.com/hs-fs/hubfs/Imported_Blog_Media/DNS-TTL-troubleshooting.png?width=1240&height=767&name=DNS-TTL-troubleshooting.png",
            "https://info.varonis.com/hs-fs/hubfs/Imported_Blog_Media/DNS-TTL-best-practices.png?width=1240&height=890&name=DNS-TTL-best-practices.png",
            "https://info.varonis.com/hs-fs/hubfs/Imported_Blog_Media/nslookup.png?width=628&height=765&name=nslookup.png",
            "https://info.varonis.com/hs-fs/hubfs/Imported_Blog_Media/DNS-TTL-FAQs.png?width=1240&height=750&name=DNS-TTL-FAQs.png",
            "https://info.varonis.com/hs-fs/hubfs/Imported_Blog_Media/dig-osx-linux.png?width=501&height=396&name=dig-osx-linux.png",
            "https://info.varonis.com/hs-fs/hubfs/Imported_Blog_Media/Dig__DNS_lookup_.png?width=749&height=425&name=Dig__DNS_lookup_.png",
            "https://info.varonis.com/hubfs/Varonis_June2021/Images/michael-buckbee-200x200-150x150.jpg",
            "https://info.varonis.com/hubfs/Imported_Blog_Media/DNS-spoofing-hero.png",
            "https://info.varonis.com/hubfs/Varonis_June2021/Images/Michael-Raymond-bw-150x150.jpg",
            "https://info.varonis.com/hubfs/Imported_Blog_Media/dns-tunneling-hero-v1.jpg",
            "https://info.varonis.com/hubfs/Varonis_June2021/Images/michael-buckbee-200x200-150x150.jpg",
            "https://info.varonis.com/hubfs/botnet-illustration.png",
            "https://info.varonis.com/hubfs/josue-ledesma.jpg",
            "https://info.varonis.com/hubfs/Imported_Blog_Media/varonis-default-featured-image-Aug-23-2021-08-59-04-51-PM.jpg",
            "https://info.varonis.com/hubfs/Varonis_June2021/Images/michael-buckbee-200x200-150x150.jpg"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [
            "Michael Buckbee"
        ],
        "publish_date": "2020-06-15T04:00:00+00:00",
        "summary": "",
        "meta_description": "This article covers the topic of DNS TTL (time to live), best practices all aspects surrounding implementation.",
        "meta_lang": "en",
        "meta_favicon": "https://info.varonis.com/hubfs/Varonis_favicon.ico",
        "meta_site_name": "",
        "canonical_link": "https://www.varonis.com/blog/dns-ttl",
        "text": "DNS TTL (time to live) is a setting that tells the DNS resolver how long to cache a query before requesting a new one. The information gathered is then stored in the cache of the recursive or local resolver for the TTL before it reaches back out to collect new, updated details.\n\nFor example, if the DNS TTL is set to 1800 seconds (30 mins), the resolver will have to regather the details around a website like varonis.com every 30 minutes. If 100 users visit the site in that period, they will all see the same thing, until the resolvers update their TTL. Time to live is the least understood in regards to the overall DNS strategy. In the following guide, we will learn about all the details around how DNS TTL operates and also some strategy best practices.\n\nIf you would like to jump directly to the specifics, use the menu below:\n\nWhat is a DNS TTL?\n\nWhat is DNS TTL Used for?\n\nHow to Choose DNS TTL Values\n\nReasons for Long & Short DNS TTLs\n\nDNS TTL Troubleshooting\n\nDNS FAQs\n\nDNS TTL Best Practices\n\nDNS TTL Considerations + Basics\n\nSome high-level considerations need to be understood regarding DNS TTL strategy. A noticeable positive is the quick turnaround time on DNS lookups, thus speeding up your internet browsing experience overall. It is much faster to check a cached version against your local resolver than it is to perform a DNS record lookup.\n\nNow we have to point out some of the pitfalls of TTL, starting with something called DNS Propagation. DNS Propagation is essentially the time it takes for ISPs to update their caches with your new DNS changes. We will get into this in more detail later in the article.\n\nWhat is a DNS TTL?\n\nDNS TTL (time to live) represents the time each step takes for DNS to cache a record. The TTL is like a stopwatch for how long to keep a DNS record.\n\nIt is essential to understand how you are implementing your TTL. You want it to be the perfect balance between “quickly updating” and “resource savvy.” Straying too far in either direction it will cost you both time and resources to accommodate.\n\nWhat is DNS TTL Used for?\n\nDNS TTLs are vital to websites that make constant changes and updates frequently. By having a lower TTL, you can ensure that you are receiving the most recent updates in a given timeframe.\n\nYour time to live is critical in controlling your resolver caching directly. For example, your DNS resolver will pull a DNS record from its authoritative server every hour. Then for that hour, every user that queries that DNS site will receive a cached version of the website until the resolver pulls another update copy from the authoritative server again. This process of utilizing the resolver’s cache significantly improves your end-users’ overall experience.\n\nWhat is a DNS Record?\n\nA Domain Name Server (DNS) record is ultimately a simple message that specifies which destination a request should be directed to and how long this specific destination should be cached for before being updated (TTL).\n\nWhat are typical TTL times for DNS records?\n\nTTL times are always represented in seconds; for example, 300 seconds equals 5 minutes to live. The following TTL times will give you a rough estimate of what typically is set in DNS configuration:\n\n300 seconds = 5 minutes = “Very Short” – Websites within this timeframe use a low TTL focus to make fast changes but still can utilize some level of caching to help reduce resource consumption.\n\n3600 seconds = 1 hour = “Short” – Websites within this timeframe use a low TTL focus to make fast changes but still can utilize some level of caching to help reduce resource consumption.\n\n86400 seconds = 24 hours = “Long” – The opposite applies for websites using a 24 hour TTL as the focus shifts more towards a daily cache utilization.\n\n604800 seconds = 7 days = “Very long” – Weekly TTLs are not as common, but may be used for sites that contain publish or reputable information that does not change all that often (ex. Library resources, reference sites, etc.)\n\nCommon Record Types\n\nIt is essential to understand the different record types and how they might apply to your situation. Having a good understanding of what is vital to your website will play a critical role in selecting an appropriate time to live. Below, we outline some considerations to take into account.\n\nA or AAAA Record: Your A records should be set to a faster pace TTL as IP address lookups change frequently. A standard baseline would be around the 1-hour mark but may need to be adjusted depending on how often changes need to be made on an emergency basis (30 seconds here is not crazy).\n\nCNAME Record: Your main website URL, for example (www.example.com), should usually never change. It is recommended that you set your TTL for something longer than the average session time (which is between 2-3 minutes).\n\nTXT Record: Widely used for DKIM records, email security and verifying domain ownership. TXT records are rarely changed so anywhere within the 1 – 12-hour timeframe should suffice.\n\nMX Record: Your mail exchange TTL can be set between the 12-24 hour range, but you may want to consider placing it lower in case of emergencies; somewhere in the 1-4 hour range would be useful as well.\n\nWhy is DNS Cached?\n\nThe ultimate goal of DNS caching is to speed up internet load times and decrease the load on the DNS servers. Having a cached DNS allows for the end-user to quickly resolve DNS requests without much delay. The only downfall to caching is if your TTL is set too long for the updates required for your site, the end-users may have a delay in receiving the updated site until the TTL has expired.\n\nWhy DNS is about Network Connections, not Devices\n\nAnother complexity added is in all the different devices and network connections that happen on a corporate network. Each device on a network may need to update its records at different times or demand more depending on the job at hand. This is where TTL must be accurately set as if you are making a network-level change, but if the TTL on these devices is still on a cached copy, you could cause a panic that “the system is broken” or its “not in sync.” Ensuring that proper tuning is made to all the common records is vital to obtaining an overall network experience that is fast and timely.\n\nHow to Choose DNS TTL Values\n\nNow that we have a general idea of what these values are responsible for, we are going to dig in to introduce ways to select values that are fitting to your environment.\n\nWhat are typical TTL times for DNS TTL Values?\n\nKnowing a baseline for implementing correct TTL for your DNS values is crucial to the overall responsiveness. The following will give you an idea of what the ranges are for the top 500 websites and their averages. Sites included on this list range from local news sites to google.com.\n\nLowest TTL: 1 Highest TTL: 129,540 Domains Resolved: 485 Average TTL: 6468 Median TTL: 300\n\nSee Moz’s Top 500 Websites and download the CSV.\n\nReasons for Long & Short DNS TTLs\n\nThere are many reasons why you may consider to go long or short with your DNS TTLs. Below, we have outlined some popular reasons for each to help show you that TTLs can help benefit all different aspects of the business.\n\nReasons for Long:\n\nSecurity availability: Availability of service if the DNS server is ever down for a time (DDoS), still available on the local resolver cache\n\nInfrastructure: Static site that doesn’t often change, less of a burden on your DNS servers\n\nUser Experience: Faster responses from cache\n\nReasons for Short:\n\nNetwork: Network-wide changes that need to be implemented quickly\n\nEnd-User: Frequent updates or changes made to websites\n\nInfrastructure: DNS based load balancing\n\nRecommendations for DNS TTL Values\n\nDigging deeper, you may be curious how different TTLs are distributed across different professions. The following are some of our recommendations based on a person’s responsibility in regards to DNS availability.\n\n“For general zone owners”: Longer TTLs are advised (1,4,8 and 24 hours) based around planned maintenance windows to maximize cost benefits.\n\n“For registry operators”: Longer TTLs (around 1 hour) to allow public registration of domains.\n\n“For network engineers”: DNS load balancing using short TTLs to ensure quick turn over in the event of system failure or outage.\n\n“For security engineers”: DDoS prevention by utilizing short TTLs to provide most recent DNS updates are available when implementing blocking controls.\n\nDNS TTL Troubleshooting\n\nIt is imperative to understand all the ins and outs involved with troubleshooting DNS issues. Proper tuning of TTL at certain times could save your money and time.\n\nHow Long Will it Take My DNS to Update?\n\nTo honestly know that everyone is seeing an updated DNS record, it is essential to calculate how long it will “actually” take to propagate across DNS. This is accomplished by using the following formula\n\nTTL X (number of steps) = Fully propagated\n\nFor example, if your set TTL is 1800 seconds and there are five steps (not counting the authoritative server), then your fully propagated time would be 9000 seconds or no longer than 2 hours and 30 minutes.\n\nWhat Factors Affect DNS Propagation Time?\n\nAs described above, the number of steps is one key factor to consider with calculating propagation time. But the following hidden factors are also things to consider when calculation propagation.\n\nNetwork connection bandwidth speeds\n\nGlobal load or outages\n\nCaching or not caching\n\nSpeeding Up DNS Propagation\n\nThere are several ways to speed up DNS propagation. The first is to ensure you switch your TTL to a short time frame to ensure the distribution happens sooner, rather than waiting for your long TTL to expire.\n\nNext would be to ensure your DNS provider supports dynamic changes. This allows you to change your records globally.\n\nLastly is to test DNS propagation by utilizing several different propagation checkers to ensure the change has taken.\n\nDNS Propagation Check and DNS Lookup\n\nUsing several different DNS propagation tools is highly recommended to ensure your changes have taken hold globally. Most of the propagation tools available are free to use and allow you to check against all record types. This check is critical to assess the timing and whether or not any problems have arisen during the rollout.\n\nHow Do DNS Lookups Work?\n\nWhen a DNS request is initiated, the first action that is performed is a local cache check to see if this record has been searched before? If not, then DNS moves on to requests a record. If yes, the DNS then determines if the cache TTL is still active.\n\nThese two steps ( checking record cache and checking the TTL) are the first thing to happen with every DNS request guaranteed. If neither of these two questions can be answered with a yes, then a new request is generated to collect a new record.\n\nHow much does a DNS lookup cost?\n\nDNS lookups are generally a free service in terms of money, but what you should be most concerned with is how much time it is going to cost you. Each request typically takes around 150 milliseconds to complete. You may be thinking, “that’s nothing,” but when you have thousands of these happening a second, it adds up pretty quickly. Every time someone loads your webpage or resource without caching enable, you are adding another 150 milliseconds to that time bill. Let’s break down an example of this time cost.\n\nNaive DNS Cost Calculations\n\nThe following is a detailed example of loading a typical webpage with caching enabled and one without cache enabled. You will notice that the end cost is almost double that without caching. This is why it is so important to find that perfect balance with your TTL setting.\n\nWith Caching\n\n(30 image files * 50ms to download each) + (100 ms one-time lookup of the DNS which is then cached) = 1600ms\n\nWithout Caching\n\n(30 image files * 50ms to download each) + (30 * 100ms DNS lookups) = 3000ms\n\nDNS TTL Best Practices\n\nSee some different DNS TTL best practices for change management listed below.\n\nHow do I know when a client will request the updated DNS record?\n\nIt is essential to understand that DNS TTL is not an instant change or an expiry date. Think of it as a rollercoaster ride. When you get on a rollercoaster, the tenets of the coaster must walk by and check that everyone’s seatbelt and bar are correctly placed. They start and one end and work their way to the end of the coaster, they can check everyone all at once on demand.\n\nWhat’s the Best Practice for adding a new DNS record?\n\nAdding a new record is much easier than modifying an existing one. Still, the same best practice is encouraged for lowering your TTL before and then raising back to normal levels shortly after the new record is created.\n\nWhat’s the most common TTL setting?\n\nEarlier in the article, we reviewed the averages for the top 500 Moz domains, comparing their TTLs. It is safe to say that a solid long TTL is around 1 hour (3600 seconds) and a short TTL of 5 minutes (300 seconds).\n\nHopefully, this article will be insightful in helping organizations fine-tune their DNS TTL to optimize performance and availability across its resources.\n\nIf you are concerned about your network perimeter now with everyone working from home due to the COVID-19 crisis, check out what the professionals are using to ensure data exfiltration is not happening on their watch.\n\nDNS TTL FAQs\n\nBelow we’ve included commonly asked questions around using DNS platform tools.\n\nHow do I check the TTL of a DNS record on Windows?\n\nSimple, you probably have run this command before and didn’t even realize it. From your command prompt (CMD) run “nslookup” then the name of your URL to resolve. You can get specific and check things like the CNAME or even produce different levels of information straight from this one-line command. Below is an example of performing a nslookup in Windows:\n\nExample: C:\\>nslookup -type=cname -debug www.varonis.com\n\nExample:\n\ndig www.varonis.com\n\nThe TTL is shown outlined in red.\n\nHow do I check a DNS record from the Web?\n\nThere are tons of DNS record checking websites and tools available for on the go DNS checking. Google has a free version of its DNS checker that is very lightweight and effective.\n\nIs there any way to force a client to update their DNS record remotely?\n\nUnfortunately, there is not a way to “force” a DNS record update remotely. The best advice is to plan ahead of time and change your TTL to a short time before making a significant change."
    }
}