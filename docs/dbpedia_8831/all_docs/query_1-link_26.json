{
    "id": "dbpedia_8831_1",
    "rank": 26,
    "data": {
        "url": "https://gbatemp.net/threads/add-custom-songs-to-lets-sing-2022-from-ultrastar.607817/",
        "read_more_link": "",
        "language": "en",
        "title": "Add custom songs to Let's Sing! (2022) from UltraStar",
        "top_image": "https://i.imgur.com/oKL5eCY.png",
        "meta_img": "https://i.imgur.com/oKL5eCY.png",
        "images": [
            "https://gbatemp.net/styles/ts32/tempy.svg",
            "https://gbatemp.net/styles/ts32/gbatemp.svg",
            "https://gbatemp.net/styles/ts32/tempy.svg",
            "https://gbatemp.net/styles/ts32/gbatemp.svg",
            "https://gbatemp.net/data/avatars/m/333/333593.jpg?1449439030",
            "https://i.imgur.com/oKL5eCY.png",
            "https://i.imgur.com/d2pxbGp.png",
            "https://i.imgur.com/jywweka.png",
            "https://secure.gravatar.com/avatar/29b3cd46d2492f61d6d7bd4701633549?s=192",
            "https://gbatemp.net/styles/ts2/flags/de.png",
            "https://gbatemp.net/styles/default/gbatemp/smileys/rofl.gif",
            "https://gbatemp.net/data/avatars/l/374/374083.jpg?1471563194",
            "https://gbatemp.net/styles/ts2/flags/gm.png",
            "https://gbatemp.net/data/avatars/l/373/373029.jpg?1500338090",
            "https://gbatemp.net/styles/ts2/flags/us.png",
            "https://secure.gravatar.com/avatar/29b3cd46d2492f61d6d7bd4701633549?s=192",
            "https://gbatemp.net/styles/ts2/flags/de.png",
            "https://gbatemp.net/data/avatars/l/400/400916.jpg?1626645097",
            "https://gbatemp.net/styles/ts2/flags/de.png",
            "https://gbatemp.net/data/avatars/l/400/400916.jpg?1626645097",
            "https://gbatemp.net/styles/ts2/flags/de.png",
            "https://gbatemp.net/attachments/1645390116781-png.298933/",
            "https://gbatemp.net/data/avatars/l/587/587302.jpg?1646415149",
            "https://gbatemp.net/styles/ts2/flags/sv.png",
            "https://gbatemp.net/data/avatars/l/587/587302.jpg?1646415149",
            "https://gbatemp.net/styles/ts2/flags/sv.png",
            "https://secure.gravatar.com/avatar/29b3cd46d2492f61d6d7bd4701633549?s=192",
            "https://gbatemp.net/styles/ts2/flags/de.png",
            "https://gbatemp.net/data/avatars/l/359/359178.jpg?1515580262",
            "https://gbatemp.net/styles/ts2/flags/de.png",
            "https://gbatemp.net/data/avatars/l/534/534923.jpg?1596388071",
            "https://gbatemp.net/styles/ts2/flags/gb.png",
            "https://gbatemp.net/data/avatars/l/333/333593.jpg?1449439030",
            "https://gbatemp.net/styles/ts2/flags/nl.png",
            "https://gbatemp.net/data/avatars/l/436/436608.jpg?1606892815",
            "https://gbatemp.net/styles/ts2/flags/de.png",
            "https://gbatemp.net/data/avatars/l/588/588051.jpg?1646828396",
            "https://gbatemp.net/styles/ts2/flags/de.png",
            "https://gbatemp.net/data/avatars/l/436/436608.jpg?1606892815",
            "https://gbatemp.net/styles/ts2/flags/de.png",
            "https://gbatemp.net/data/avatars/l/359/359178.jpg?1515580262",
            "https://gbatemp.net/styles/ts2/flags/de.png",
            "https://gbatemp.net/data/avatars/l/333/333593.jpg?1449439030",
            "https://gbatemp.net/styles/ts2/flags/nl.png",
            "https://gbatemp.net/data/avatars/l/567/567881.jpg?1630393282",
            "https://gbatemp.net/styles/ts2/flags/cz.png",
            "https://gbatemp.net/styles/ts2/flags/sf.png",
            "https://secure.gravatar.com/avatar/031033cc441748358f6a50a5277641e4?s=48",
            "https://gbatemp.net/data/avatars/s/277/277243.jpg?1711322514",
            "https://gbatemp.net/data/avatars/s/277/277243.jpg?1711322514",
            "https://gbatemp.net/data/avatars/s/149/149513.jpg?1351213957",
            "https://gbatemp.net/data/avatars/s/567/567996.jpg?1630870688",
            "https://gbatemp.net/data/avatars/s/647/647084.jpg?1682163135",
            "https://secure.gravatar.com/avatar/db57c78e07daf2749752aafd7359ec68?s=48",
            "https://gbatemp.net/data/avatars/s/360/360382.jpg?1422072378",
            "https://gbatemp.net/data/avatars/s/682/682174.jpg?1721675185",
            "https://gbatemp.net/data/avatars/s/208/208682.jpg?1605034320",
            "https://gbatemp.net/data/avatars/s/713/713771.jpg?1721638337",
            "https://gbatemp.net/data/avatars/s/329/329811.jpg?1721621735",
            "https://gbatemp.net/data/avatars/s/548/548517.jpg?1703825078",
            "https://gbatemp.net/data/avatars/s/282/282633.jpg?1691689930",
            "https://gbatemp.net/data/avatars/s/282/282633.jpg?1691689930",
            "https://gbatemp.net/data/avatars/s/282/282633.jpg?1691689930",
            "https://gbatemp.net/data/avatars/s/329/329811.jpg?1721621735",
            "https://gbatemp.net/data/avatars/s/282/282633.jpg?1691689930",
            "https://gbatemp.net/data/avatars/s/527/527940.jpg?1696985825",
            "https://gbatemp.net/data/avatars/s/329/329811.jpg?1721621735",
            "https://gbatemp.net/data/avatars/s/329/329811.jpg?1721621735",
            "https://gbatemp.net/data/avatars/s/527/527940.jpg?1696985825",
            "https://gbatemp.net/data/avatars/s/548/548517.jpg?1703825078",
            "https://gbatemp.net/data/avatars/s/187/187870.jpg?1567110880",
            "https://gbatemp.net/data/avatars/s/678/678941.jpg?1723345287",
            "https://gbatemp.net/data/avatars/s/548/548517.jpg?1703825078",
            "https://gbatemp.net/data/avatars/s/187/187870.jpg?1567110880",
            "https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/72x72/1f644.png",
            "https://gbatemp.net/data/avatars/s/678/678941.jpg?1723345287",
            "https://gbatemp.net/data/avatars/s/187/187870.jpg?1567110880",
            "https://gbatemp.net/data/avatars/s/678/678941.jpg?1723345287",
            "https://gbatemp.net/data/avatars/s/187/187870.jpg?1567110880",
            "https://gbatemp.net/data/avatars/s/678/678941.jpg?1723345287",
            "https://gbatemp.net/data/avatars/s/187/187870.jpg?1567110880",
            "https://gbatemp.net/data/avatars/s/678/678941.jpg?1723345287",
            "https://gbatemp.net/data/avatars/s/678/678941.jpg?1723345287",
            "https://gbatemp.net/data/avatars/s/678/678941.jpg?1723345287",
            "https://gbatemp.net/data/avatars/s/329/329811.jpg?1721621735",
            "https://gbatemp.net/data/avatars/s/329/329811.jpg?1721621735"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [
            "MRJPGames",
            "ColdFire0",
            "Bánh Mì",
            "eviltrainer",
            "neko_koneko",
            "Ape_Person"
        ],
        "publish_date": "2022-02-15T18:54:14+00:00",
        "summary": "",
        "meta_description": "First of all massive credit to @Dh4rry, check out their original post on replacing a DLC song with your own here...",
        "meta_lang": "en",
        "meta_favicon": "/icon-192x192.png?pwa",
        "meta_site_name": "GBAtemp.net - The Independent Video Game Community",
        "canonical_link": "https://gbatemp.net/threads/add-custom-songs-to-lets-sing-2022-from-ultrastar.607817/",
        "text": "First of all massive credit to @Dh4rry, check out their original post on replacing a DLC song with your own here: https://gbatemp.net/threads/add-your-own-songs-to-lets-sing-2019.538379/\n\nIn this tutorial we will be making use of a customized version of their script to convert an UltraStar (PC karaoke game) TXT file to Let's Sing's VXLA format. Their research was also used by me as the jumping off point. Importantly however this tutorial will delve into how to ADD, NOT REPLACE songs!\n\nNOTICE:\n\nThis tutorial is no longer actively supported, and is provided as-is. I the author will not be providing any help in regards to this tutorial. Please feel free to ask questions in the thread, in the hopes someone can help you, do not expect me to reply.\n\nSecondly it has come to my attention that nxdumptool does not work on the latest firmwares (17.0+), this is not a required part of this tutorial. Any other method of dumping romfs will work just fine. (DBI is a good example)\n\nDemo:\n\n(I imported more than one song though!)\n\nStep 0: Prerequisites\n\n- Homebrew capable Nintendo Switch\n\n- AtmosphereNX installed\n\n- A Let's Sing game (Only tested on 2022, should work on all games)\n\n- A DLC for the Let's Sing game\n\n- Basic knowledge of directories\n\n- Linux/Windows PC (MacOS might work?)\n\n- FFMPEG (Linux: \"sudo apt install ffmpeg\" or your package managers equivalent\", Windows: Download the binaries here or something: https://ffmpeg.org/download.html)\n\n- Python3\n\nStep 1: Dumping the required assets\n\n1. Get \"nxdumptool\" if you don't have it installed already (https://github.com/DarkMatterCore/nxdumptool/releases/tag/v1.1.14)\n\n2. Launch \"nxdumptool\"\n\n3. Choose \"Dump installed SD card / eMMC content\"\n\n4. Choose \"Let's Sing 2022\" (or your version, it should not actually matter, but I only tested 2022)\n\n5. Choose \"RomFS options\"\n\n6. Navigate to \"Use update/DLC\" and use the right/left arrows to select the update (v131072/0.0.2.0 for LS2022 as of writing)\n\n7. Choose \"RomFS section data dump\" (You might want to take note of this as the \"Core titleid\")\n\n8. Navigate back to the \"RomFS options\" after dumping has finished\n\n9. Navigate to \"Use update/DLC\" and use the right/left arrows to select the first DLC you see (Does not matter which DLC you have)\n\n10. Choose \"RomFS section data dump\" (You might want to take not of this as the \"DLC titleid\")\n\n11. Done!\n\nStep 2: Getting the files you need\n\n0. Create a folder somewhere where you can modify files, and create your \"mod\". We'll be calling this folder the \"Working folder\" from now on.\n\n1. Access your Switch's SD card contents from your PC either directly or through FTP\n\n2. Find the following file: sd:/atmosphere/contents/[CORE TITLEID]/romfs/Data/StreamingAssets/SongsDLC.tsv and copy it to your working folder\n\n3. Find the following file: sd:/atmosphere/contents/[DLC TITLEID]/romfs/name.txt and copy it to your working folder\n\n4. Find the following file: sd:/atmosphere/contents/[DLC TITLEID]/romfs/SomeSongName_meta.xml and copy it to your working folder (SomeSongName is not the actual name, but the song name is dependand on the specific DLC, just copy a *_meta.xml file)\n\n5. Download the following file: https://raw.githubusercontent.com/MrJPGames/ultrastar2singIt-Converter/master/ultrastar2singit.py and place it in your working folder\n\n(Again huge thanks to @Dh4rry for making the orignal version of this script!)\n\nStep 3: Getting your song files\n\nSadly I cannot link you to the actually useful resources for UltraStar song files. There exist piracy free sites, but finding the exact right music/video for these can be difficult. Instead try to search around the internet for a certain spanish UltraStar site. This will provide torrents to many files (including many non-spanish ones!)\n\nFor the next steps I'll be assuming you have gathered the following files:\n\n- A UltraStar TXT\n\n- A music video (most likely AVI but format is not important, video should not contain audio!)\n\n- The music (most likely mp3, but format is not important)\n\n- A 1:1 (square) image (most likely jpg, but format is not important) of the cover art\n\nStep 4: Getting the song files ready for Let's Sing!\n\n0. Before we get started we have to decide on a unique name for our song. The songs title without spaces or non letters is the normal choice (but not necissary). Eg. \"The Man Who Sold The World\" becomes \"TheManWhoSoldTheWorld\". This name has to be the same EVERYWHERE, and spelled exactly the same (CASE SENSITIVE!). In the rest of the tutorial this will be referred to as SONGNAME. So replace any SONGNAME with your song id. (eg. SONGNAME.mp4 would become TheManWhoSoldTheWorld.mp4)\n\n1. The music video should be in mp4 format. To do this you can use ffmpeg:\n\nCode:\n\nffmpeg -i input_video.avi SONGNAME.mp4\n\n2. The music should be in ogg format. To do this you can use ffmpeg:\n\nCode:\n\nffmpeg -i input_song.mp3 SONGNAME.ogg\n\n2 1/2. Optionally open the music file in Audacity and cut a part 30 seconds to a minute long. Save this as SONGNAME_preview.ogg. Alternativly you can create a copy of the full song and give it the name SONGNAME_preview.ogg, and this should also work, though has not been stress tested with many songs doing this!\n\n3. The cover art should be in png format. Open up any other formats in an image editor (gimp, photoshop, paint.net, mspaint etc.). Make sure the image width and height are the same (thus a square image) and save this as \"SONGNAME.png\". (Only tested with \"low resolution\" images, if crashes occur maybe lower the image resolution.)\n\n4. Copy your _meta.xml file and name it SONGNAME_meta.xml\n\n5. Open the _meta.xml file with a text editor and replace the values so they match your song. \"Id\" should be SONGNAME (case sensitive!). Difficulty ranges from 0-4 (with 0 being 1 star, and 4 being 5 star).\n\nStep 5: UltraStar TXT to VXLA\n\n1. Place the ultrastar TXT in your working folder\n\n2. Open a terminal (bash/cmd) in your working folder\n\n3. Run the command \"python3 ultrastar2singit.py input.txt -S SONGNAME\"\n\n4. This should result in SONGNAME.vxla being created in your working folder\n\nStep 6: Adding your song!\n\n1. Create a folder called \"Patch' (This is a clear name, but you can choose your own)\n\n2. Create the following folder structure inside of that folder: (Of course replace COREID/DLCID with the ids you noted down during the game assets dump step)\n\n3. Next place your song files in the correct places as shown below (with the SONGID in this case being \"TheManWhoSoldTheWorld\")\n\n(Note the backgrounds are optional, hence being left out of this tutorial, look at the offical files for guidance. They are the background in the menu, pause menu and after completing a song (_Result), Not including them will result in a white background instead.)\n\n4. Open up name.txt (\"DLCID/romfs/name.txt) and add a new line to the end of the file and put your SONGID there\n\n5. Open up SongsDLC.tsv with LibreOffice Calc or Excel. Copy an existing row. Insert a row and paste the existing row there (so you now have that song in the table twice). Change the UID (a small number, second column) to be unique. Change the ID to be your SONGNAME. The artist, title and year columns can also be updated (I did not test not updating them), all other collums can be left alone, but you might change them if you so choose (difficulty and some other data is taken from _meta.xml file instead of this table). This is the entry for TheManWhoSoldTheWorld:\n\nStep 7: The moment of truth!\n\n0. (Optional, but saves space) remove COREID, and DLCID forlders from sd:/atmosphere/contents\n\n1. Copy your COREID and DLCID folders to sd:/atmosphere/contents\n\n2. Boot Let's Sing (2022)! And enjoy your newly added custom song!\n\nStep 8 (not really): Feedback!\n\nHey, I was wondering if there was interest in the community for a (GUI) tool to easily import songs into Let's Sing. As shown in this tutorial most of the steps can be easily automated. And especially for importing larger libraries doing it by hand can get annoying. But I feel I need to at least know some people will actually want to use such software before I invest the time to make it (or maybe I do it anyways if i get bored who knows).\n\nOther than that please let me know how it went if you followed this tutorial, and please let me know if I made a mistake somewhere so I can fix it!"
    }
}