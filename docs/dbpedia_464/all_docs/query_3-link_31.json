{
    "id": "dbpedia_464_3",
    "rank": 31,
    "data": {
        "url": "https://forums.freebsd.org/threads/why-does-macos-not-use-the-freebsd-kernel.58835/",
        "read_more_link": "",
        "language": "en",
        "title": "Why does MacOS not use the FreeBSD kernel?",
        "top_image": "https://forums.freebsd.org/styles/freebsd/xenforo/logo.og.png",
        "meta_img": "https://forums.freebsd.org/styles/freebsd/xenforo/logo.og.png",
        "images": [
            "https://forums.freebsd.org/styles/freebsd/xenforo/freebsd_logo.png",
            "https://forums.freebsd.org/styles/default/xenforo/xenforo-logo.png",
            "https://forums.freebsd.org/styles/default/xenforo/add_to_home.gif",
            "https://forums.freebsd.org/data/avatars/m/49/49894.jpg?1466785214",
            "https://forums.freebsd.org/data/avatars/m/44/44375.jpg?1426188300",
            "https://forums.freebsd.org/styles/default/xenforo/reactions/emojione/handshake.png",
            "https://forums.freebsd.org/data/avatars/m/49/49894.jpg?1466785214",
            "https://forums.freebsd.org/data/avatars/m/44/44375.jpg?1426188300",
            "https://forums.freebsd.org/data/avatars/m/1/1677.jpg?1413407984",
            "https://forums.freebsd.org/styles/default/xenforo/reactions/emojione/handshake.png",
            "https://forums.freebsd.org/data/avatars/m/46/46638.jpg?1437081062",
            "https://forums.freebsd.org/styles/default/xenforo/reactions/emojione/handshake.png",
            "https://forums.freebsd.org/data/avatars/m/42/42180.jpg?1483560469",
            "https://forums.freebsd.org/styles/default/xenforo/reactions/emojione/handshake.png",
            "https://forums.freebsd.org/data/avatars/m/42/42180.jpg?1483560469",
            "https://forums.freebsd.org/data/avatars/m/46/46638.jpg?1437081062",
            "https://developer.apple.com/library/content/documentation/Darwin/Conceptual/KernelProgramming/art/osxarchitecture.gif",
            "https://forums.freebsd.org/data/avatars/m/42/42180.jpg?1483560469",
            "https://developer.apple.com/library/content/documentation/Darwin/Conceptual/KernelProgramming/art/osxarchitecture.gif",
            "https://forums.freebsd.org/data/avatars/m/46/46638.jpg?1437081062",
            "https://forums.freebsd.org/data/avatars/m/42/42180.jpg?1483560469",
            "https://forums.freebsd.org/styles/default/xenforo/reactions/emojione/handshake.png",
            "https://forums.freebsd.org/data/avatars/m/42/42180.jpg?1483560469",
            "https://forums.freebsd.org/data/avatars/m/42/42180.jpg?1483560469",
            "https://forums.freebsd.org/data/avatars/m/37/37029.jpg?1583041317",
            "https://forums.freebsd.org/data/avatars/m/37/37029.jpg?1583041317"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [
            "exeter",
            "BSD-Kitsune",
            "K kpa",
            "D drhowarddrfine",
            "O obsigna Profile disabled",
            "OP exeter"
        ],
        "publish_date": "2016-12-05T09:27:00+00:00",
        "summary": "",
        "meta_description": "As I understand it the Apple Mac. operating system uses the Mach kernel modified into XNU, but at least some of the FreeBSD userland. Does anyone know why...",
        "meta_lang": "en",
        "meta_favicon": "/styles/freebsd/xenforo/logo.og.png",
        "meta_site_name": "The FreeBSD Forums",
        "canonical_link": "https://forums.FreeBSD.org/threads/why-does-macos-not-use-the-freebsd-kernel.58835/",
        "text": "As I understand it the Apple Mac. operating system uses the Mach kernel modified into XNU, but at least some of the FreeBSD userland. Does anyone know why? Or why they don't use the FreeBSD kernel?\n\nYes, I sort-of knew the history. I just wondered why bother reinventing the wheel. What has Mach got that FreeBSD doesn't?\n\nPrimarily because Steve bought into the benefits of the ukernel, not knowing that Mach is probably the poorest designed microkernel ever. It's relatively secure, actually, but it's slow. It's so slow that a monolithic kernel can easily outperform it on weak hardware by a hookshot (Yes Zelda reference) and while it has plenty of nice features, you need to write code that takes advantage of these features. And AFAIK, OSF/1 aka Tru64 didn't follow this (OSF/1 uses Mach) so it's fair to say most Mach-compatible software didn't.\n\nHowever, modern day XNU is a hybrid kernel, and I don't really have as much of an issue with the architecture of XNU as I do the OS X design philosophy, the way a lot of the userland is handled and that the GUI isn't really better than anything on real UNIX other than its prettiness, which when you come down to it means nothing.\n\nFreeBSD's kernel is good but tbh the OS X to FreeBSD code commonality is probably around 10% - Darwin has most of its code from NEXTSTEP and GNU sources and most of the userland tools for FreeBSD are only superficially similar - HFS+ is an entirely different beast from UFS/FFS2.\n\nAt least on OS X sierra the binutils are all CLang/LLVM based:\n\nNo more OS X, macOS now\n\nThe bash shell is going to an interesting one, they are stuck at version 3.2 from 2006 (I think) and replacing that with their own implementation or a simpler shell such as the FreeBSD sh(1) is going to be a compatibility nightmare if they ever attempt that.\n\nI think Apple has never targetted power users, hence shipping an up to date shell is somehwere down in their priority list. The areas that macOS shines are aesthetics, ease of use and these sort of cosmetic things (kudos on them, MacbookPro is a good combination of well designed hardware + a nice looking OS).\n\nGetting back to the topic of OP; if you look at the macOS kernel architecture below\n\nyou will see that bits like networking were imported from FreeBSD, which is direct descendent of 4.4BSD-Lite. BSD networking code was one of the mature implementations of TCP/IP model in 90's I reckon and AT&T lawsuit was over by the time Apple considered looking into BSD code - no legal disputes!.\n\nNot sure about the file system, though! As TeamBlackFox mentioned, HFS+ is something different than UFS.\n\nHistory of UNIX is really fun to read. I read this book and enjoyed it really (digital edition is not more than 10 bucks), if you are interested, definitely recommend the book.\n\nI think Apple has never targetted power users, hence shipping an up to date shell is somehwere down in their priority list. The areas that macOS shines are aesthetics, ease of use and these sort of cosmetic things (kudos on them, MacbookPro is a good combination of well designed hardware + a nice looking OS).\n\nGetting back to the topic of OP; if you look at the macOS kernel architecture below\n\nyou will see that bits like networking were imported from FreeBSD, which is direct descendent of 4.4BSD-Lite. BSD networking code was one of the mature implementations of TCP/IP model in 90's I reckon and AT&T lawsuit was over by the time Apple considered looking into BSD code - no legal disputes!.\n\nNot sure about the file system, though! As TeamBlackFox mentioned, HFS+ is something different than UFS.\n\nHistory of UNIX is really fun to read. I read this book and enjoyed it really (digital edition is not more than 10 bucks), if you are interested, definitely recommend the book.\n\nmacOS only has aesthetics, ease of use is a very subjective subject and since they bury any and all advanced options away from prying eyes, it's impossible for it to satisfy anyone who has an aspiration for more than the most mundane use of computers. Windows, I'll grant that they at least provide, under the hood, a full set of tools for their power users and they're easily accessible: PowerShell, the *msc programs etc. are all easily accessible. IRIX may not be aesthetically pleasing but in its case it makes everything rather easy for even poorly trained computer users, I did this as a test with my own mother, who found for a day that a default install of IRIX on my SGI Fuel was actually quite easy to use for her intended uses, email, web browsing and so-on.\n\nAs for the code-commonality with macOS, there's a few things you have to first realize. One, kernels are a small part of the overall code of the OS. So just looking at the kernel, you get a poor idea of how much BSD code is in OS X. Specifically, I'd estimate around 30% of the XNU kernel is originally BSD derived, with around 10% from FreeBSD, the reason being all of the code that came in from NeXSTEP. Which is far removed from anything we're used to. Darwin, the macOS kernel and userland minus the proprietary bits, is far removed from any modern BSD. You don't believe me? Feel free to try replacing the XNU kernel into FreeBSD or the FreeBSD kernel into Darwin, see how far you get. The kernels are entirely different.\n\nI may not be following the thread properly but my son, and everyone he knows, would disagree about Macs being for aesthetics alone. He's in the theatre as a producer and actor. Everyone he knows has a Mac laptop and they all love it and wouldn't even consider anything else. I know. I asked. In fact, he owned a Windows PC and notebooks until he went to college for theatre but was swayed into getting a Mac desktop cause he always was envious of what his colleagues could do with their Macs, not only graphics ability but the ability to connect to anything, and now he owns every Apple device except a phone (and I don't know why he doesn't).\n\nSo now he's all Apple all the time and loves it. The only concern of his is what he reads online. Nothing he ever reads online was a bother until he read about it. \"Am I supposed to be worried about the lack of innovation at Apple?\", he asks me. Well, I replied, if you're able to do the things you want to do then no.\n\nNow, as far as \"price premium\" is concerned, until your Windows PC can plug in to a Windows PC communication device or some software and be guaranteed to work as advertised, and if it doesn't, you can walk down to the Windows PC Store to get the problem resolved, there isn't much to talk about.\n\nNow I have never owned any Apple device except for an original iPad given to me for Christmas years ago but has everyone seen the photo of the scientists at a CERN conference a couple of years ago with a hundred or so of them and their Mac notebooks all open? Doesn't sound like they would be as concerned with aesthetics alone.\n\nHere's the thing. A lot of \"producers\" claim an Apple is a better product because of applications like Final Cut, etc. but really I've used both Final Cut and Windows applications like Sony Vegas and they're roughly the same. Most of the same major applications are available for each and Windows has just as much capability of displaying a high res screen - in fact you can get a high res Windows laptop cheaper than a MacBook Pro.\n\nIf you're buying an Apple because it's \"Guaranteed to work with everything\" you're kidding yourself. I was an Apple user from '06-'13 and it wasn't any easier than owning a Windows machine. In fact because everything for Apples costs at a premium I probably wasted $10,000 through high school and college on Apple shit I could have gotten on Windows for half as much. I owned several, for the record. A PowerMac G4, a Powerbook G4, a G5, an original \"MacBook\" and a Retina Macbook Pro. The Retina was the saddest of them. Everything is glued into place and the SSD failed three times, the final two times Apple refused to cover it so I had to shell out for a replacement myself. And it wasn't a standard SSD. No. I had to buy either from Apple or one of their expensive \"Approved third parties.\" Which is a load of horse shit because any other manufacturer would have a standard setup in there so you can go to any old Microcenter and buy what you need.\n\nGoing back to the \"Why macOS doesn't use the FreeBSD kernel.\" the reason I started including the entire OS is because if you limit yourself to the view of the XNU kernel you get a poor idea of how much code macOS actually uses.\n\nA lot of \"producers\" claim an Apple is a better product because of applications like Final Cut, etc. but really I've used both Final Cut and Windows applications like Sony Vegas and they're roughly the same.\n\nHe's not in motion pictures. He owns and runs a theare company for stage plays.\n\nyou can get a high res Windows laptop cheaper than a MacBook Pro.\n\nAs I said, when that Windows laptop has problems, who will sit with you and help you resolve it in person?\n\nIf you're buying an Apple because it's \"Guaranteed to work with everything\" you're kidding yourself.\n\nYou should see all the connectivity going on among the 10 people working on one of his stage plays, all using Macs. When he buys something new and plugs it into his equipment, it's on and works as expected. I can't say the same for most Windows stuff I used to buy.\n\nHis hard drive had a problem after five years of use. I walked down the street\n\nWhen I worked at SGI, standard issue was a Mac (but, yeah, it's been a long time since I was there).\n\nI have to run but any complaints about not being able to use other people's hardware means Apple loses control of that hardware which means Apple cannot provide the service and guarantees it offers and, therefore, its quality of hardware and service would degrade just as it does with Windows PCs.\n\nFor example, my wife has a brand new Lenovo laptop which upgraded to Windows 10 and now only gets 4Mb wifi downloads. You have three third parties involved. Lenovo drivers for someone else's wifi chip and Micrsoft's Windows all not working together in unison.\n\nHe's not in motion pictures. He owns and runs a theare company for stage plays.\n\nVideo editing software is the same regardless of your status as an stage man or what. If you're talking audio and other engineering, there's equivalent programs on the Windows machine\n\nAs I said, when that Windows laptop has problems, who will sit with you and help you resolve it in person?\n\nYou can't be talking about the Apple \"Geniuses\" Those morons can't 90% of their time engineer their way out of a rice paper bag. I gave my Retina Macbook to my mother after I said \"Fuck this rubbish.\"and I took it down to the Genius Bar, made and appointment and all that to get her profile transferred off her old Macbook and get the Retina setup under her Apple ID. It took 2 hours, three geniuses and a manager to do something that normally would take me 30 mins, I just didn't want to go through it because I'm a grown man, I have work, and my own problems and I'd rather pay someone whose supposed to be trained to do that as their job. I'm reminded of this wonderful South Park video: http://southpark.cc.com/clips/382790/the-counsel-of-geniuses\n\nYou should see all the connectivity going on among the 10 people working on one of his stage plays, all using Macs. When he buys something new and plugs it into his equipment, it's on and works as expected. I can't say the same for most Windows stuff I used to buy.\n\nHis hard drive had a problem after five years of use. I walked down the street\n\nAnd the same thing happens for most Windows software. I recently bought a Razer Cherry Green keyboard, a condenser microphone, and setup a SMB share on Windows Server 2016. Guess what? Everything worked just fine! You read the manual, plug it in, follow any instructions thereafter and boom, it all worked fine.\n\nWhen I worked at SGI, standard issue was a Mac (but, yeah, it's been a long time since I was there).\n\nI have to run but any complaints about not being able to use other people's hardware means Apple loses control of that hardware which means Apple cannot provide the service and guarantees it offers and, therefore, its quality of hardware and service would degrade just as it does with Windows PCs.\n\nIt's hardware has already dropped to the pits. I still have a G4 cube somewhere in storage. You open it up and everything is laid out perfectly and not a thing is out of place. Everything is put where it needs to be and there's no issue - you can remove the logic board, the CPU, the graphics card, and replace all of them without buying a new system. You can't even AFAIK open a new \"trash can\" Mac Pro, let alone a Macbook Pro, without special tools and nothing is upgradeable, all is glued or soldered in. And what happens when your battery fails, or your RAM dies? You need a new system, effectively because it's all FRIGGING GLUED INSIDE. You're paying thousands for techniques for building computers that only belong on bargain bin shelves.\n\nFor example, my wife has a brand new Lenovo laptop which upgraded to Windows 10 and now only gets 4Mb wifi downloads. You have three third parties involved. Lenovo drivers for someone else's wifi chip and Micrsoft's Windows all not working together in unison.\n\nYou're flawed in your analogy. Apple doesn't make half of the drivers in its OS, it uses the same drivers that everyone else uses from third party manufacturers. And it's not like there's been driver issues on Macs - oh wait there is. The Retina had a problem with the Nvidia driver that caused games under OS X to have texture distortion and tearing. Go over to the Windows bootcamp drive, and boom, game works fine. Never got fixed with Apple updates on mine, essentially breaking the experience for me. As for your wife's issue, check the card's chipset, and download the direct manufacturer's driver. That's what I do anyways when installing stuff on Windows, rather than using OEM drivers. I also reimage any new computer I buy since why the hell not.\n\nI also don't use 8 or 10 due to backdoors installed, and macOS has them too - so you're not safe using either OS."
    }
}