{
    "id": "dbpedia_3950_1",
    "rank": 79,
    "data": {
        "url": "https://modstore.pro/packages/ecommerce/msoptionsprice2",
        "read_more_link": "",
        "language": "en",
        "title": "msOptionsPrice2",
        "top_image": "https://modstore.pro/assets/extras/msoptionsprice2/logo.jpg",
        "meta_img": "https://modstore.pro/assets/extras/msoptionsprice2/logo.jpg",
        "images": [
            "https://modstore.pro/assets/extras/msoptionsprice2/logo-md.jpg",
            "https://modstore.pro/assets/components/extras/img/en.png",
            "https://modstore.pro/assets/components/extras/img/en.png",
            "https://gravatar.com/avatar/546201f9fb47870f661eeb1db4727679?s=220&d=mm",
            "https://gravatar.com/avatar/546201f9fb47870f661eeb1db4727679?s=220&d=mm",
            "https://modstore.pro/assets/extras/userevents/logo-sm.png",
            "https://modstore.pro/assets/extras/mspointsissue/logo-sm.jpg",
            "https://modstore.pro/assets/extras/exportpage/logo-sm.png",
            "https://file.modx.pro/files/9/9/8/998a76750746410aa1824a901645ca1as.jpg",
            "https://file.modx.pro/files/1/7/2/172f3178c0edd0cd7a297a9f5b9c151ds.jpg",
            "https://file.modx.pro/files/6/c/d/6cd7b5a788ccc1df020cfe810e3e173as.jpg",
            "https://file.modx.pro/files/7/9/3/793d63e8e88045d1982928aeaeaa71b7s.jpg",
            "https://file.modx.pro/files/6/5/b/65bd8d7cc8ad8817d7ccdd8deb2977c7s.jpg",
            "https://file.modx.pro/files/3/f/f/3ff8257a9c89a76c4295c2ada1f1f593s.jpg",
            "https://file.modx.pro/files/3/7/9/3797fe3b9faafaf9cdda9c7781d0fbb4s.jpg"
        ],
        "movies": [
            "https://www.youtube.com/embed/btjhZwy2yh8"
        ],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "1 290 руб., Володя Володин: Доп. цены к товару с различными характеристиками и учет остатков",
        "meta_lang": "ru",
        "meta_favicon": "/assets/components/extras/icons/apple-touch-icon.png",
        "meta_site_name": "modstore.pro",
        "canonical_link": "https://modstore.pro/packages/ecommerce/msoptionsprice2",
        "text": "[msOptionsPrice2] — Новая версия с модификациями продукта. Кардинально отличается от предыдущей, просто обновиться не получится.\n\nВидеообзор от OpenModx\n\nВ целом компонент так же работает с опциями продукта, но теперь опции привязаны к модификации продукта. Так же модификации можно задать свой артикул, вес, кол-во и конечно стоимость. Доступны все опции продукта.\n\nМодификации продукта\n\nНа странице продукта доступна одноименная вкладка (настройка msoptionsprice_working_templates, в ней перечислить id необходимых шаблонов). Можно создать/изменить модификации продукта.\n\nДля модификации доступны все опции продукта.\n\nСниппет msOptionsPrice.initialize\n\nПредназначен для подключения стилей и скриптов на фронте сайта.\n\nДостаточно вызвать сниппет в шаблоне продукта.\n\n[[!msOptionsPrice.initialize?]]\n\nДефолтный скрипт отслеживает изменение формы продукта и подгружает данные о модификации.\n\nДля работы скрипта необходимо добавить необходимые классы, пример чанка продукта — gist.github.com/vgrish/b6998560c6a64c0f34109a9e632b9b56\n\nформа продукта — msoptionsprice-product\n\nстоимость продукта — msoptionsprice-cost msoptionsprice-[[*id]]\n\nартикул продукта — msoptionsprice-article msoptionsprice-[[*id]]\n\nвес продукта — msoptionsprice-mass msoptionsprice-[[*id]]\n\nСниппет msOptionsPrice.modification\n\nПредназначен для вывода модификаций продукта. Часто требуется отдельно вывести информацию о различных модификациях продукта, теперь это достаточно просто сделать. Нужно вызвать сниппет\n\n[[!msOptionsPrice.modification?]]\n\nКартинка модификации\n\nМожно добавить картинку модификации продукта. Доступны изображения из галереи продукта.\n\nВ чанк галереи необходимо добавить:\n\n— класс\n\n<div id=\"msGallery\" class=\"msoptionsprice-gallery\">\n\n— идентификаторы\n\ndata-rid=\"{$file['product_id']}\" data-iid=\"{$file['id']}\"\n\nпример чанка gist.github.com/vgrish/e5c7e541b33eefc4b7c0cb68ec389096\n\nдофолтный скрипт работает с галереей fotorama.\n\nОбработка старой цены продукта\n\nВ случае с модификациями продукта, разница может быть очень значительна и практически всегда ее сумма выглядит нелогично. Поэтому была добавлена обработка старой цены продукта.\n\nЛогика расчета очень простая\n\nцена продуктастарая цена продукта-----------------------------------------= -----------------------------------------цена модификации продуктастарая цена модификации продукта\n\n(цена продукта / старая цена продукта = цена модификации продукта / старая цена модификации продукта)\n\nДостаточно проставить старую цену в основное поле продукта и старая стоимость модификации будет автоматически рассчитана.\n\nДля смены на фронте нужно добавить необходимые классы. Пример чанка продукта тут gist.github.com/vgrish/b6998560c6a64c0f34109a9e632b9b56#file-gistfile1-txt-L22\n\nВ сниппете msOptionsPrice.modification поле так же доступно поле old_price.\n\nКопия модификации\n\nДобавлен процессор на копирование модификации.\n\nпревью в корзине\n\nДля вывода превью модификации в корзине магазина можно использовать следующую конструкцию.\n\ngist.github.com/vgrish/3748714377be39401799e3908efd8a59#file-mscart-tpl-L22-L35\n\nфункционал связанных опций.\n\nДовольно часто встает вопрос о отображении тех или иных опций в зависимости от другой(их), теперь данный функционал есть из коробки.\n\nДанный функционал реализует сниппет msOptionsPrice.option, он аналогичен сниппету msOptions и служит для вывода опций модификаций продукта.\n\nДобавлен параметр constraintOptions — служит для задания ограничений опций, указывается в формате json, либо сразу в виде массива.\n\nПример вызова\n\n{'msOptionsPrice.option' | snippet : [ 'options' => 'phytomodule_color,equipment,frame_color', 'tpl' => 'phytomodule.option', 'processColors' => 1, 'constraintOptions' => [ 'phytomodule_color' => ['sizes'], 'equipment' => ['sizes','phytomodule_color'], 'frame_color' => ['sizes','phytomodule_color','equipment'] ] ]}\n\nВ данном случае мы указываем что:\n\n— опция phytomodule_color зависит от опции sizes\n\n— опция equipment зависит от опции sizes и phytomodule_color\n\n— опция frame_color зависит от опции sizes и phytomodule_color и equipment\n\nПример чанка опций\n\n{foreach $options as $name => $values} <div class=\"sm-text\"><b>{('ms2_product_' ~ $name) | lexicon}</b></div> <div {if $constraints[$name]} data-constraints=\"{$constraints[$name]| json_encode: 256 | htmlentities}\" {/if} > {foreach $values as $value index=$index} <label class=\"input-parent\"> <input type=\"radio\" value=\"{$values[$index]}\" name=\"options[{$name}]\" {if $index == 0}checked=\"checked\"{/if} {if $constraints[$name]} data-relations=\"{$relations[$name][$value]| json_encode: 256 | htmlentities}\" {/if} /> {$values[$index]} </label> {/foreach} </div> {/foreach}\n\ndata-constraints — задаем ограничения опции\n\ndata-relations — задаем связи опций\n\ninput-parent — класс, необходим для скрытия/ отображения контейнера с опцией\n\nаналогично задается и вывод селектами\n\n{foreach $options as $name => $values} <div class=\"form-group\"> <label class=\"col-md-2 control-label\" for=\"option_{$name}\">{('ms2_product_' ~ $name) | lexicon}:</label> <div class=\"col-md-10\"> <select name=\"options[{$name}]\" class=\"input-sm form-control\" id=\"option_{$name}\" {if $constraints[$name]} data-constraints=\"{$constraints[$name]| json_encode: 256 | htmlentities}\" {/if} > {foreach $values as $value index=$index } <option value=\"{$value}\" {if $constraints[$name]} data-relations=\"{$relations[$name][$value]| json_encode: 256 | htmlentities}\" {/if} >{$value}</option> {/foreach} </select> </div> </div> {/foreach}\n\nпример s6200.h3.modhost.pro/6/12010.html\n\nопции продукта\n\nУлучшена работа с опциями продукта. Нет необходимости как прежде сначала создавать опции, а затем переключаться на модификации. Доступно создание/ удаление опций продукта напрямую из модификации.\n\nостатки\n\nДля работы с остатками нужно активировать настройку allow_remains.\n\nПри добавлении товара в корзину/ изменении будет проверяться доступное кол-во модификации товара и если его нет в наличии будет выдано предупреждение, сам товар в таком случае нельзя будет добавить.\n\nТак же при оплате/ отмене заказа количество товара будет синхронизировано.\n\nСтатусы списания/ возврата остатков можно сменить в соответствующих настройках пакета.\n\n— вызов в mFilter2\n\nДля вывода слайдера цен с учетом модификаций необходимо положить кастомный класс фильтрации в папку и указать в настройке mse2_filters_handler_class класс msopFilters\n\n/core/components/msearch2/custom/filters/\n\n[[!mFilter2? &limit=`5` &parents=`0` &element=`msProducts` &setMeta=`1` &filters=` msop|price:number msoption|size ` &tpls=`tpl.msProducts.row,tpl.msProducts.row` &class=`msProduct` &sort=`ms|price:desc` &tplOuter=`tpl.mFilter2.outer` &tplFilter.outer.msop|price=`tpl.mFilter2.filter.slider` &tplFilter.row.msop|price=`tpl.mFilter2.filter.number` ]]\n\nНе пытайтесь обновиться!!! Если не уверены что оно вам нужно.\n\nps. Всем спасибо за внимание. Новая версия совместима с пакетом скидок Discontrol\n\nПример работы: s6200.h3.modhost.pro/katalog/tovar1.html"
    }
}