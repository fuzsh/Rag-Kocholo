{
    "id": "dbpedia_8032_0",
    "rank": 52,
    "data": {
        "url": "https://stackoverflow.com/questions/42857551/could-not-connect-to-redis-at-127-0-0-16379-connection-refused-with-homebrew",
        "read_more_link": "",
        "language": "en",
        "title": "Could not connect to Redis at 127.0.0.1:6379: Connection refused with homebrew",
        "top_image": "https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded",
        "meta_img": "https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded",
        "images": [
            "https://www.gravatar.com/avatar/7fd0d69f764f9e0895e8b6429b47b6d7?s=64&d=identicon&r=PG",
            "https://www.gravatar.com/avatar/b569bdeef4d8c783c5553173f34e15f1?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://i.sstatic.net/b0wCO.png?s=64",
            "https://i.sstatic.net/Vg5iU.jpg?s=64",
            "https://i.sstatic.net/moevk.jpg?s=64",
            "https://www.gravatar.com/avatar/7fd0d69f764f9e0895e8b6429b47b6d7?s=64&d=identicon&r=PG",
            "https://www.gravatar.com/avatar/617b167c71f3e6f3a528f51f5a2af2da?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://i.sstatic.net/JVthO.png?s=64",
            "https://graph.facebook.com/2085642261727256/picture?type=large",
            "https://i.sstatic.net/0eF0m.jpg?s=64",
            "https://lh3.googleusercontent.com/-d7XhUJv39DY/AAAAAAAAAAI/AAAAAAAAAAA/VLT4TbF_L9U/photo.jpg?sz=64",
            "https://i.sstatic.net/hbW2t.jpg?s=64",
            "https://i.sstatic.net/itn2i.jpg?s=64",
            "https://i.sstatic.net/KlUy5.jpg?s=64",
            "https://i.sstatic.net/5m971.jpg?s=64",
            "https://lh4.googleusercontent.com/-NjmxZK1UBX8/AAAAAAAAAAI/AAAAAAAAAFc/wR3vK8zx1o4/photo.jpg?sz=64",
            "https://i.sstatic.net/KP9Ia.jpg?s=64",
            "https://i.sstatic.net/kdugT.jpg?s=64",
            "https://lh3.googleusercontent.com/-EGd0lC0X6zE/AAAAAAAAAAI/AAAAAAAAABk/NuY-nHGLAA8/photo.jpg?sz=64",
            "https://i.sstatic.net/LW16a.jpg?s=64",
            "https://i.sstatic.net/Rwva6.jpg?s=64",
            "https://www.gravatar.com/avatar/4b77febdf1e1e74a003d8aa316a1338a?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://i.sstatic.net/5CC3S.gif?s=64",
            "https://i.sstatic.net/Haz6W.jpg?s=64",
            "https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=64&d=identicon&r=PG",
            "https://i.sstatic.net/zUWWhA5n.jpg?s=64",
            "https://www.gravatar.com/avatar/8ee8d1911e992ee1cd1f632c6b347fa8?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://lh3.googleusercontent.com/a-/AOh14GjuSXj6yQeXi84ECb4942voGFyvQRmYxdh3MUhN=k-s64",
            "https://stackoverflow.com/posts/42857551/ivc/ce4e?prg=cddb7965-c89c-4500-b06d-8dbf140fbcbe"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": "2017-03-17T12:27:14",
        "summary": "",
        "meta_description": "Using homebrew to install Redis but when I try to ping Redis it shows this error:\n\nCould not connect to Redis at 127.0.0.1:6379: Connection refused\r\nNote : \nI tried to turn off firewall and edit conf",
        "meta_lang": "en",
        "meta_favicon": "https://cdn.sstatic.net/Sites/stackoverflow/Img/favicon.ico?v=ec617d715196",
        "meta_site_name": "Stack Overflow",
        "canonical_link": "https://stackoverflow.com/questions/42857551/could-not-connect-to-redis-at-127-0-0-16379-connection-refused-with-homebrew",
        "text": "I found this question while trying to figure out why I could not connect to redis after starting it via brew services start redis.\n\ntl;dr\n\nDepending on how fresh your machine or install is you're likely missing a config file or a directory for the redis defaults.\n\nYou need a config file at /usr/local/etc/redis.conf. Without this file redis-server will not start. You can copy over the default config file and modify it from there with\n\ncp /usr/local/etc/redis.conf.default /usr/local/etc/redis.conf\n\nYou need /usr/local/var/db/redis/ to exist. You can do this easily with\n\nmkdir -p /usr/local/var/db/redis\n\nFinally just restart redis with brew services restart redis.\n\nHow do you find this out!?\n\nI wasted a lot of time trying to figure out if redis wasn't using the defaults through homebrew and what port it was on. Services was misleading because even though redis-server had not actually started, brew services list would still show redis as \"started.\" The best approach is to use brew services --verbose start redis which will show you that the log file is at /usr/local/var/log/redis.log. Looking in there I found the smoking gun(s)\n\nFatal error, can't open config file '/usr/local/etc/redis.conf'\n\nor\n\nCan't chdir to '/usr/local/var/db/redis/': No such file or directory\n\nThankfully the log made the solution above obvious.\n\nCan't I just run redis-server?\n\nYou sure can. It'll just take up a terminal or interrupt your terminal occasionally if you run redis-server &. Also it will put dump.rdb in whatever directory you run it in (pwd). I got annoyed having to remove the file or ignore it in git so I figured I'd let brew do the work with services.\n\nIf after install you need to run redis on all time, just type in terminal:\n\nredis-server &\n\nRunning redis using upstart on Ubuntu\n\nI've been trying to understand how to setup systems from the ground up on Ubuntu. I just installed redis onto the box and here's how I did it and some things to look out for.\n\nTo install:\n\nsudo apt-get install redis-server\n\nThat will create a redis user and install the init.d script for it. Since upstart is now the replacement for using init.d, I figure I should convert it to run using upstart.\n\nTo disable the default init.d script for redis:\n\nsudo update-rc.d redis-server disable\n\nThen create /etc/init/redis-server.conf with the following script:\n\ndescription \"redis server\" start on runlevel [23] stop on shutdown exec sudo -u redis /usr/bin/redis-server /etc/redis/redis.conf respawn\n\nWhat this is the script for upstart to know what command to run to start the process. The last line also tells upstart to keep trying to respawn if it dies.\n\nOne thing I had to change in /etc/redis/redis.conf is daemonize yes to daemonize no. What happens if you don't change it then redis-server will fork and daemonize itself, and the parent process goes away. When this happens, upstart thinks that the process has died/stopped and you won't have control over the process from within upstart.\n\nNow you can use the following commands to control your redis-server:\n\nsudo start redis-server sudo restart redis-server sudo stop redis-server\n\nHope this was helpful!\n\nFirst you need to up/start the all the redis nodes using below command, one by one for all conf files. @Note : if you are setting up cluster then you should have 6 nodes, 3 will be master and 3 will be slave.redis-cli will automatically select master and slave out of 6 nodes using --cluster command as shown in my below commands.\n\n[xxxxx@localhost redis-stable]$ redis-server xxxx.conf\n\nthen run\n\n[xxxxx@localhost redis-stable]$ redis-cli --cluster create 127.0.0.1:7000 127.0.0.1:7001 127.0.0.1:7002 127.0.0.1:7003 127.0.0.1:7004 127.0.0.1:7005 --cluster-replicas 1\n\noutput of above should be like:\n\n>>> Performing hash slots allocation on 6 nodes...\n\n2nd way to set up all things automatically: you can use utils/create-cluster scripts to set up every thing for you like starting all nodes, creating cluster you an follow https://redis.io/topics/cluster-tutorial\n\nThanks\n\nJust like Aaron, in my case brew services list claimed redis was running, but it wasn't. I found the following information in my log file at /usr/local/var/log/redis.log:\n\n4469:C 28 Feb 09:03:56.197 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo 4469:C 28 Feb 09:03:56.197 # Redis version=4.0.9, bits=64, commit=00000000, modified=0, pid=4469, just started 4469:C 28 Feb 09:03:56.197 # Configuration loaded 4469:M 28 Feb 09:03:56.198 * Increased maximum number of open files to 10032 (it was originally set to 256). 4469:M 28 Feb 09:03:56.199 # Creating Server TCP listening socket 192.168.161.1:6379: bind: Can't assign requested address\n\nThat turns out to be caused by the following configuration:\n\nbind 127.0.0.1 ::1 192.168.161.1\n\nwhich was necessary to give my VMWare Fusion virtual machine access to the redis server on macOS, the host. However, if the virtual machine wasn't started, this binding failure caused redis not to start up at all. So starting the virtual machine solved the problem."
    }
}