{
    "id": "correct_foundationPlace_00002_3",
    "rank": 42,
    "data": {
        "url": "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.component-services.doc/tasks/twvenablefoundation.html",
        "read_more_link": "",
        "language": "en",
        "title": "Enabling WebSphere Commerce foundation",
        "top_image": "https://help.hcltechsw.com/commerce/7.0.0/favicon.png",
        "meta_img": "https://help.hcltechsw.com/commerce/7.0.0/favicon.png",
        "images": [
            "https://help.hcltechsw.com/assets/images/HCL_Software_Logo_White.svg",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP4.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP2.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP5.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP3.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP1.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP6.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngfp9.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP7plus.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP2plus.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngsolaris.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/nglinux.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngaix.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngibmi.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngdev.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngfp3.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngfp2.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngfp1.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngsolaris.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/nglinux.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngaix.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngwin.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngibmi.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngdev.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngsolaris.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/nglinux.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngaix.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngsolaris.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngaix.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/nglinux.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngwin.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP3plus.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP5.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP5.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP6.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngsolaris.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/nglinux.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngaix.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP3plus.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP5.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP5.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP6.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngibmi.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP3plus.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP5.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP5.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP6.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngdev.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP5plus.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP5plus.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP2plus.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP4.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP2.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP5.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP3.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP6.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP4.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP2.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP5.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP3.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP6.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP6.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngsolaris.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/nglinux.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngaix.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngwin.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngibmi.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngdev.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP2plus.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP5plus.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngdev.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngent.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngexpress.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngpro.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngdev.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngfp7.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngibmi.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngdb2.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngoracle.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/FEP6.gif",
            "https://help.hcltechsw.com/commerce/7.0.0/com.ibm.commerce.base.doc/images/ngdb2.gif"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": "2014-05-23T00:00:00",
        "summary": "",
        "meta_description": "The WebSphere Commerce foundation feature adds new groups of services to the WebSphere Commerce Server.",
        "meta_lang": "en",
        "meta_favicon": "../../favicon.png",
        "meta_site_name": "",
        "canonical_link": null,
        "text": "The WebSphere Commerce foundation feature adds new groups of services to the WebSphere Commerce Server.\n\nThe enablement script adds new services and updates the existing services that are required to support feature pack features.\n\nIf you are using a self-signed certificate (dummy certificate) in the staging or authoring environment, you might encounter SSL handshake exceptions in store preview after you apply Fix Pack 9. The exceptions occur only if you applied Fix Pack 9 using one of the following methods:\n\nYou first applied Fix Pack 9, then created an instance, and then enabled foundation on Feature Pack 7 or earlier\n\nYou first created an instance, then applied Fix Pack 9, and then enabled foundation on Feature Pack 8\n\nTo fix the SSL handshake issue, see Troubleshooting: SSL handshake exception in store preview\n\nTo enable the WebSphere Commerce foundation for Feature Pack 7 or later, see Enabling WebSphere Commerce foundation.\n\nEnabling WebSphere Commerce foundation enables WebSphere Commerce search by default. WebSphere Commerce search is a core runtime component in WebSphere Commerce, with many features tightly integrated with the search component. For more information about WebSphere Commerce search dependencies, see Integrating WebSphere Commerce with third-party search engines.\n\nBefore you begin\n\nEnsure that you are logged on as the WebSphere Commerce non-root user.\n\nEnsure that you are logged on as a user that has *SECOFR authority.\n\nEnsure that your administrative server is started. For example:\n\nIf WebSphere Commerce is managed by WebSphere Application Server Deployment manager (dmgr), start the deployment manager and all node agents. Your cluster can also be started.\n\nIf WebSphere Commerce is not managed by WebSphere Application Server Deployment manager (dmgr), start the WebSphere Application Server server1.\n\nReview the prerequisite steps in Enabling features.\n\nEnsure that the test server is stopped and that Rational Application Developer is not running.\n\nIf you use a staging server, you must ensure that your production server and staging server stay synchronized. To keep them in sync, you must perform the following steps before you enable the feature on the staging server:\n\nOptional: It is recommended that you run the stagingprop utility:\n\nTo ensure that stagingprop is run successfully:\n\nCheck the stagingprop log file.\n\nCheck the STAGLOG table in the staging database and confirm that no unprocessed records exist. An unprocessed STAGLOG record is a record in which the STGPROCESSED column has a value of 0.\n\nStop all activities on the staging server. Any data changes on the staging server are not captured or propagated from this point until feature enablement is completed.\n\nIssue the following SQL statement and make note of the number of the latest record in the STAGLOG table in the staging database\n\nSELECT MAX(STGRFNBR) FROM STAGLOG\n\nIf you use a staging server, you must conduct more steps at the end of the procedure to enable the feature. Ensure that you first enable your feature on the staging server, then on the production server.\n\nDetermine how you are going to deploy the WebSphere Commerce search server:\n\nDeploying the WebSphere Commerce search server locally in the standard configuration, or\n\nDeploying the WebSphere Commerce search server remotely in the advanced configuration\n\nProcedure\n\nLog on with appropriate authority:\n\nA WebSphere Commerce non-root user.\n\nA user ID that is a member of the Windows Administration group.\n\nA user profile that has *SECOFR authority.\n\nGo to the following directory:\n\nWC_installdir/bin\n\nWCDE_installdir\\bin\n\nIf you encounter a file error message, as the WebSphere Commerce non-root user, increase the file handle limit.\n\nIncrease the file handle limit with the command: ulimit -n 8192\n\nAs the root user grant USE authority to the non-root user. Switch to the non-root user and issue the command: ulimit -n 8192. You can also issue the command as the root user, then switch to the non-root user.\n\nRun the enablement script:\n\nconfig_ant.bat -buildfile WC_installdir/components/common/xml/enableFeature.xml -DinstanceName=instance_name -DfeatureName=foundation -DdbUserPassword=db_password [-DdbaPassword=dba_password] [-DSolrWASAdminUser = solr_wasadminuser] [-DSolrWASAdminPassword = solr_wasadminpassword] [-Dscchost=HostForScheduledJobs] [search_server_config] [-DsearchPort=searchPort]\n\n./config_ant.sh -buildfile WC_installdir/components/common/xml/enableFeature.xml -DinstanceName=instance_name -DfeatureName=foundation -DdbUserPassword=db_password [-DdbaPassword=dba_password] [-DSolrWASAdminUser = solr_wasadminuser] [-DSolrWASAdminPassword = solr_wasadminpassword] [-Dscchost=HostForScheduledJobs] [search_server_config] [-DsearchPort=searchPort]\n\n./config_ant.sh -buildfile WC_installdir/components/common/xml/enableFeature.xml -DinstanceName=instance_name -DfeatureName=foundation -DdbUserPassword=db_password [-DSolrWASAdminUser = solr_wasadminuser] [-DSolrWASAdminPassword = solr_wasadminpassword] [-Dscchost=HostForScheduledJobs] [search_server_config] [-DsearchPort=searchPort]\n\nenableFeature.bat -DfeatureName=foundation [-DdbaPassword=dba_password]\n\nWhere:\n\ninstanceName\n\nThe name of the WebSphere Commerce instance with which you are working (for example, demo).\n\nfeatureName\n\nThe name of the WebSphere Commerce feature to enable (for example, foundation).\n\ndbUserPassword\n\nThe password for the user who is connecting to the database.\n\ndbaPassword\n\nThe dbaPassword is mandatory when you are enabling the feature on an Authoring server.\n\nSolrWASAdminUser\n\nThe WebSphere Application Server administrator user ID for the Solr cell. This parameter is mandatory only if all three of the following conditions are met:\n\nYou enabled a previous version of Search from an earlier WebSphere Commerce feature pack\n\nYou enabled WebSphere Administration Server administrative security on the Search server\n\nYou are not specifying remoteSearchEngine=true\n\nSolrWASAdminPassword\n\nThe WebSphere Application Server administrator password for the Solr cell. This parameter is mandatory only if all three of the following conditions are met:\n\nYou enabled a previous version of Search from an earlier WebSphere Commerce feature pack\n\nYou enabled WebSphere Administration Server administrative security on the Search server\n\nYou are not specifying remoteSearchEngine=true\n\nscchost\n\nThe name of the host (server) on which the scheduled job runs. Use this parameter if your organization chooses to schedule jobs to run only on a specific host.\n\nThe WebSphere Commerce scheduler runs the RefreshRegistry command to ensure that the latest data from the CMDREG table is used by the WebSphere Commerce CommandRegistry. The job runs only if the CMDREG table was modified. It runs only once, shortly after enablement is completed. By default, this scheduled job run is set to run on any host. If you want to run on a specific host, use this parameter to define the specific host.\n\nNote: The search server is deployed when the foundation feature is enabled.\n\nremoteSearchEngine\n\nUse this parameter with a value of true when you are deploying Solr search server on a remote machine.\n\nImportant: The remote web server is created under a different node than the local WebSphere Commerce server. If you are using the Deployment Manager (DMGR) to federate WebSphere Commerce, you must also federate the remote search server node that contains the web server definition.\n\nThe search_server_config options help automate updating the web server configuration for IBM HTTP Server. If you do not use this option, you must manually configure your web server after you run the enablement script, as described in the next step. When the search_server_config options are used, WebSphere Commerce search helps automate creating the web server configuration. This automation is achieved by passing in more configuration parameters when you run the enablement scripts.\n\nImportant: The automated web server configuration supports IBM HTTP Server (IHS) only. That is, it does not support or include steps for configuring non-IHS web servers such as IIS and SunOne. For other types of web servers, consult the documentation that is provided by the web server vendor to update the configuration.\n\nThis approach includes the following considerations:\n\nThe WebSphere Commerce search web server's httpd.conf file is automatically created.\n\nYou can set up a valid configuration where the WebSphere Commerce search and WebSphere Commerce web servers have separate configuration files. That is, you do not need to manually update the plugin-cfg.xml files.\n\nIf preferred, you do not need to install another copy of IBM HTTP Server. The same installation can be shared with the WebSphere Commerce web server.\n\nA second IHS process is started to handle search HTTP requests that use the same IHS installation. A second process ensures that the configurations do not collide, while it eases configuration and maintenance.\n\nImportant: You can skip updating the web server configuration if you previously enabled the feature foundation and passed in the search_server_config parameters during the enablement. You can also skip the update if your Solr web server is already configured.\n\nThe following list shows the available parameters with brief explanations of each. Examples can be seen in the following task, along with more-detailed descriptions of each parameter and when it is needed and not needed:\n\n../../com.ibm.commerce.developer.doc/tasks/tsdsearchwebserver.html\n\nThe scripts validate the values that are provided for any mandatory parameters. If values for mandatory parameters are blank, the scripts do not proceed. The error message indicates which values must be specified. An example of such an error can be viewed in the following troubleshooting reference:\n\nTroubleshooting: Ant properties error occurs during feature enablement\n\nWhere search_server_config includes the following parameters that help automate updating the web server configuration for IBM HTTP Server:\n\nsearchPort\n\nThe WebSphere Application Server virtual host port number to listen on for the WebSphere Commerce search application.\n\nThe value must be a valid and available TCP port.\n\nThe default value is 3737.\n\nIf the script runs successfully:\n\nThe message BUILD SUCCESSFUL is displayed in the console and in the WC_installdir/instances/instance_name/logs/enablefoundation_timestamp.log file. For more information, open the file and review the contents.\n\nThe message BUILD SUCCESSFUL is displayed in the console and in the WC_instance_root/instances/instance_name/logs/enablefoundation_timestamp.log file. For more information, open the file and review the contents.\n\nThe message enableFeature.bat completed is displayed in the command window. For more information, see the WCDE_installdir\\logs\\enableFeature.log file.\n\nConfigure the Web server for the Solr application\n\nThe following configuration options are available, depending on your web server and WebSphere Commerce Feature Pack version:\n\nWebSphere Commerce search deployment tasks include steps to manually update the web server configuration for IBM HTTP Server (IHS).\n\nThis approach includes the following considerations:\n\nYou created the WebSphere Commerce search web server httpd.conf file.\n\nA directive to listen on the search virtual host port is added.\n\nThe web server plug-in is installed on the web server host.\n\nWebSphere Commerce search deployment tasks include steps to help automate updating the web server configuration when you use IBM HTTP Server (IHS). This automation is achieved by optionally passing in more configuration parameters when you are running the enablement scripts during the previous step. For more information, see the previous step.\n\nFor configuring non-IHS web servers such as IIS and SunOne, consult the provided documentation to update the configuration.\n\nIf the server is configured with an LDAP server, restart your WebSphere Commerce Server after you verify a successful enablement.\n\nRepublish the application:\n\nOpen WebSphere Commerce Developer and switch to the Enterprise Explorer view.\n\nRight click LOBTools and select OpenLaszlo Migration > Compare Customizations.\n\nRebuild any projects that need to be rebuilt in the workspace.\n\nFor example:\n\nRebuild LOBTools. Right-click LOBTools, then select Build OpenLazlo Project\n\nStart the WebSphere Commerce Test Server.\n\nSome errors are displayed in the console. These errors can be safely ignored.\n\nIn the Servers view, right-click the test server then click Publish.\n\nWait for the application to finish publishing and to restart. Ensure that no errors are displayed.\n\nIf you customized a previous version of Management Center, see Migrating Management Center to migrate those customizations to the most recent Management Center version.\n\nVerify that the application starts successfully.\n\nAccess the following URL: http://hostname:8007/webapp/wcs/component/member/services/MemberServices\n\nThe following page is displayed:\n\n{http://www.ibm.com/xmlns/prod/commerce/9/member}MemberServices Hi there, this is a Web service!\n\nIf the server where you are installing the feature uses staging tools or is a staging server, complete the following steps:\n\nNote:\n\nThis step is not applicable for WebSphere Commerce Developer.\n\nThis step does not apply if you set the stagingcopy utility -instance parameter.\n\nPerform these steps once, even if you enable and disable the feature multiple times.\n\nThese steps must be performed cumulatively up to the most recently installed feature pack. In the following examples, fep<n> represents the feature pack. Applicable feature packs are fep1, fep2, fep3, fep4, and fep5.\n\nThese steps are applicable to all components. In the following examples, comp represents the component. Applicable components are foundation and location-services.\n\nIn the following steps, dbtype represents the database-type in use. Applicable database-types are db2, oracle, and os/400.\n\nBack up the following base-staging SQL files:\n\nWC_installdir/schema/dbtype/wcs.stage.trigger.sql\n\nWC_installdir/schema/dbtype/wcs.droptrigger.sql\n\nWhere dbtype is your database type. For example, oracle or db2.\n\nAppend the contents of WC_installdir/components/component_name/schema/fep<n>/dbtype/wcs.stage.trigger.component_name.sql to the end of WC_installdir/schema/dbtype/wcs.stage.trigger.sql.\n\nWhere\n\ncomponent_name is the name of the component that you are backing up. For example, foundation.\n\nfep<n> is the Feature Pack version of your WebSphere Commerce instance. For example, fep2.\n\ndbtype is your database type. For example, oracle or db2.\n\nAppend the contents of WC_installdir/components/component_name/schema/fep<n>/dbtype/wcs.stage.trigger.component_name.drop.sql to the end of WC_installdir/schema/dbtype/wcs.droptrigger.sql.\n\nWhere\n\ncomponent_name is the name of the component that you are backing up. For example, foundation.\n\nfep<n> is the Feature Pack version of your WebSphere Commerce instance. For example, fep2.\n\ndbtype is your database type. For example, oracle or db2.\n\nNote: By default, all staging triggers for the PX_CDPOOL database table are dropped and re-created. Ensure that you do not drop the triggers for this table twice in the wcs.droptrigger.sql file. Replace the triggers that were introduced in WebSphere Commerce Feature Pack 1 with the Feature Pack 6 version of these triggers that are included in the wcs.stage.trigger.sql file. This replacement, can help ensure that you do not duplicate these triggers in your SQL files, which can cause a database error.\n\nIf you have both a staging and a production environment, you must conduct the following steps:\n\nOptionDescription If you are enabling the feature on the staging server\n\nMark all STAGLOG records inserted during feature pack enablement\n\nUPDATE STAGLOG SET STGPROCESSED=1 where STGRFNBR > lastnum\n\nwhere lastnum is the number of the last record, which was determined in the prerequisite steps required on the staging server.\n\nAs the staging server database is updated during feature pack enablement, staging triggers are fired, and changes are captured in the STAGLOG table. If these captured changes are not cleaned up, duplicate-key exceptions occur on subsequent invocations of the stagingprop utility, since the production server database will have the same data after feature pack enablement is completed there.\n\nReturn to Step 1 to enable the feature on the production server.\n\nIf you are enabling the feature on the production server By default, Access Control Policy tables are not staged. If you manually add Access Control Policy tables to the Staging Configuration tables, you must run the stagingcopy utility to copy data from the Access Control Policy tables to corresponding tables on the staging server database.\n\nIf you encounter problems with stagingcopy, complete the following steps:\n\nUpdate the STMTHEAP database configuration parameter for both staging and production server databases, db, to a higher value. For example:\n\ndb2 update database configuration for db using stmtheap 240000\n\nSimilarly, update the APPLHEAPSZ database configuration parameter for both staging and production server databases, db, to a higher value. For example:\n\ndb2 update database configuration for db using applheapsz 3000\n\nDisconnect all users from both staging and production server databases.\n\nRun the stagingcopy utility.\n\nWhat to do next\n\nIf you completed this procedure as a part of migrating WebSphere Commerce search, then continue with the migration process:\n\nMigrating WebSphere Commerce search from Feature Pack 7 to Feature Pack 8\n\nMigrating WebSphere Commerce search from Feature Pack 2, 3, 4, 5, or 6 to Feature Pack 7 or later\n\nMigrating WebSphere Commerce search from Feature Pack 2, 3, 4, or 5 to Feature Pack 6\n\nOtherwise, for more information about other features that you can enable, see First steps after enabling features."
    }
}