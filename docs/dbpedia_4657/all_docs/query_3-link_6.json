{
    "id": "dbpedia_4657_3",
    "rank": 6,
    "data": {
        "url": "https://forum.gdevelop.io/t/counting-enemy-object-in-room/46035",
        "read_more_link": "",
        "language": "en",
        "title": "Counting enemy object in room",
        "top_image": "https://forum.gdevelop.io/uploads/default/optimized/3X/3/9/39fad117dc95bf83504349ee798db0d565af2486_2_1024x235.png",
        "meta_img": "https://forum.gdevelop.io/uploads/default/optimized/3X/3/9/39fad117dc95bf83504349ee798db0d565af2486_2_1024x235.png",
        "images": [
            "https://forum.gdevelop.io/uploads/default/optimized/3X/3/9/39fad117dc95bf83504349ee798db0d565af2486_2_690x158.png",
            "https://forum.gdevelop.io/uploads/default/original/3X/5/c/5c6e7ba0ef4e224f2772abfac9d44b8053cb0d84.png",
            "https://forum.gdevelop.io/uploads/default/original/3X/a/8/a887a595c737687a5b400a022ea3dba298b91513.png",
            "https://forum.gdevelop.io/uploads/default/optimized/3X/5/0/501aa6ff7e42f49159ae30574f9eefcf0d52a00f_2_690x129.png",
            "https://forum.gdevelop.io/uploads/default/original/3X/0/2/02f4a88e4dfca2f34be9274dcc11fa3be707d788.png",
            "https://forum.gdevelop.io/uploads/default/optimized/3X/f/5/f5ec901ebb47cdd352ee45709e4d8e43d5cf7853_2_690x330.jpeg",
            "https://forum.gdevelop.io/uploads/default/optimized/3X/9/b/9bad462d6299ecddacc34231493ef2fff4072fda_2_690x188.png",
            "https://forum.gdevelop.io/uploads/default/original/3X/0/2/02f4a88e4dfca2f34be9274dcc11fa3be707d788.png",
            "https://forum.gdevelop.io/uploads/default/optimized/3X/c/c/cc70d38eb59281204e79a36ce485909319563cb5_2_690x199.png",
            "https://forum.gdevelop.io/uploads/default/optimized/3X/b/c/bc262980ec9d6e0395d9f7d4384fa1fd49886231_2_690x199.png",
            "https://forum.gdevelop.io/uploads/default/optimized/3X/3/1/3152775b195d72afd60c6e7def1984746ff91b28_2_690x222.png",
            "https://forum.gdevelop.io/uploads/default/optimized/3X/6/e/6ef250a8d71d7734f4ab1a42f7d80c19e393ca66_2_690x202.png",
            "https://forum.gdevelop.io/uploads/default/optimized/3X/9/0/903c4fbaa484c7c974a4f205dbc40b2c327e6870_2_690x221.png",
            "https://forum.gdevelop.io/uploads/default/original/3X/0/2/02f4a88e4dfca2f34be9274dcc11fa3be707d788.png",
            "https://forum.gdevelop.io/uploads/default/original/3X/7/e/7e1223c2edd9750277df1456b3e603db0cdb8c05.png"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [
            "Silver-Streak"
        ],
        "publish_date": "2023-03-22T19:45:50+00:00",
        "summary": "",
        "meta_description": "I’m trying to learn GDevelop and game development in general by recreating the original Legend of Zelda for NES. \nI’m trying to create a situation in a dungeon room in which when all the enemies in the room are dead, a s&hellip;",
        "meta_lang": "en",
        "meta_favicon": "https://forum.gdevelop.io/uploads/default/optimized/1X/0344165e7f6a1db1adf720b2fdee28201a9079d3_2_32x32.png",
        "meta_site_name": "GDevelop Forum",
        "canonical_link": "https://forum.gdevelop.io/t/counting-enemy-object-in-room/46035",
        "text": "I’m trying to learn GDevelop and game development in general by recreating the original Legend of Zelda for NES.\n\nI’m trying to create a situation in a dungeon room in which when all the enemies in the room are dead, a sound will play and an item will appear at a certain location. I’m having trouble getting this to work using object picking.\n\nI have room objects “CameraRoom” with an instance variable RoomID to identify a specific room. Then, I’m trying to pick all the enemies in the DungeonEnemies group which are in collision with that specific instance of the room object. When the enemy HP=0, I’m trying to add 1 to a scene variable to keep track of the total number of enemies killed in the room. Then, when that number reaches 3, I want a sound to play and an object to appear in the middle of the room. I’ve added a screenshot of the events I have which aren’t working.\n\nCan someone please look and tell me what I’m doing wrong here? I’ve looked at another similar topic on the forum and tried to model my events after what was said there, but I just can’t seem to figure it out. Can I please get some help here? Any help is greatly appreciated!!!\n\nKeith_1357, thank you very much for your reply. Unfortunately, after trying the code you posted, I’m still not getting it to work. When I kill the three enemies in the room (RoomID=1), the sound doesn’t play which means it still isn’t working the way it’s supposed to. Here is my updated code:\n\nSo I’ve picked all Blue Keese enemies (which I also have as part of the DungeonEnemies object group). I’ve then filtered the objects by being in collision with CameraRoom, variable RoomID=1. I have the Keese dying when I hit them, which means their HP variable value is less than or equal to 0. Then I have the “Number of currently picked” set to 3, and 3 Blue Keese in collision with CameraRoom, variable RoomID=1. I take it to mean that when all 3 Blue Keese in Room 1 are dead, the sound “Key Appear” should be playing, but it isn’t. Nothing happens at all.\n\nWhat am I missing here? It feels like the logic is correct, but am I wrong in thinking that?\n\nI’m still having no luck. Here is my new code:\n\nI’m using an object variable (HP) for the Blue Keese enemy. When I hit the Blue Keese with the sword, it triggers the events for its death, seen in the bottom block of code. That tells me that it is working as it should. When I run the game with everything besides the HP=0 of Blue Keese condition, the sound effect plays immediately, which tells me it is detecting 3 Blue Keese in Room 1. However, when I add the HP=0 condition as shown and kill all three bats, nothing happens…the sound doesn’t play. For what it’s worth, the variable HP of Blue Keese is set to 1 by default, meaning it dies in 1 hit from any weapon.\n\nI double checked the CameraRoom instance variable to make sure everything is correct there, and it is…the instance for Room 1 is set to RoomID=1. It seems to be counting the enemies correctly, hence the sound playing when I remove the HP-related condition. The problem seems to be in detecting that the 3 enemies are dead, despite it carrying out the actions under the “Enemy Death” group at the bottom of my code.\n\nAny ideas? Everything you’re saying makes perfect sense, and I GREATLY appreciate the effort you have put into helping me thus far. I feel like there is just one key little thing I’m missing somewhere and I can’t identify what it is.\n\nBy the way, I have an external event sheet for the Dungeon Enemies I created to handle the item drops of enemies, just to try to keep things clean. Here is the code snippet of that:\n\nI wouldn’t think that this is somehow conflicting with this whole thing working, but I thought I would include it and mention it just in case. Any ideas where I might be going wrong here? Thank you so much!\n\nIt worked! Thank you so much Keith!\n\nQuestion: If in a different room, I want only certain enemies of the DungeonEnemies object group to serve as the “trigger enemies”, which when all of these enemies in the room are killed, for something to happen…would you recommend creating a boolean variable for all DungeonEnemies object such as “TriggerEnemy”, then set it to True on each instance of the enemies which you want to be the trigger enemies? Is that how you would approach that? This way, since some dungeon enemies can’t be killed, it would filter those out for triggering an item to appear, door to open, etc when all the “Trigger Enemies” are dead.\n\nIf so, in the code you posted above, would I just add the boolean TriggerEnemy=true below the RoomID condition? Thank you so much for all your help!!!"
    }
}