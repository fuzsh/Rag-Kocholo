{
    "id": "correct_foundationPlace_00103_0",
    "rank": 55,
    "data": {
        "url": "https://www.drupal.org/project/smart_date/issues/3182640",
        "read_more_link": "",
        "language": "en",
        "title": "Custom data for recurring event instances",
        "top_image": "https://www.drupal.org/sites/all/themes/bluecheese/images/og.jpg",
        "meta_img": "https://www.drupal.org/sites/all/themes/bluecheese/images/og.jpg",
        "images": [
            "https://www.drupal.org/sites/all/themes/bluecheese/images/icon-w-menu.svg",
            "https://www.drupal.org/sites/all/themes/bluecheese/images/icon-w-user.svg",
            "https://www.drupal.org/files/drupal-wordmark.svg",
            "https://www.drupal.org/files/styles/grid-2-2x-square/public/announcements/drupal-evergreen-logo-280X280px%20%281%29_0.jpg?itok=PHpn6rCb",
            "https://www.drupal.org/files/ads/tag1-issue-sponsorship.png",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-69706-1405243956.png?itok=Jsr52fng",
            "https://www.drupal.org/sites/all/themes/bluecheese/images/community-dk-comments.svg",
            "https://www.drupal.org/sites/all/modules/drupalorg/drupalorg/images/location-icon-gray.svg",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-52136-1553526810.jpg?itok=qHwSORrQ",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-69706-1405243956.png?itok=Jsr52fng",
            "https://www.drupal.org/sites/all/themes/bluecheese/images/community-dk-comments.svg",
            "https://www.drupal.org/sites/all/modules/drupalorg/drupalorg/images/location-icon-gray.svg",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-52136-1553526810.jpg?itok=qHwSORrQ",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-467650-1406286139.jpg?itok=nXz9f6Zc",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-52136-1553526810.jpg?itok=qHwSORrQ",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-467650-1406286139.jpg?itok=nXz9f6Zc",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-69706-1405243956.png?itok=Jsr52fng",
            "https://www.drupal.org/sites/all/themes/bluecheese/images/community-dk-comments.svg",
            "https://www.drupal.org/sites/all/modules/drupalorg/drupalorg/images/location-icon-gray.svg",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-467650-1406286139.jpg?itok=nXz9f6Zc",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-69706-1405243956.png?itok=Jsr52fng",
            "https://www.drupal.org/sites/all/themes/bluecheese/images/community-dk-comments.svg",
            "https://www.drupal.org/sites/all/modules/drupalorg/drupalorg/images/location-icon-gray.svg",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-69706-1405243956.png?itok=Jsr52fng",
            "https://www.drupal.org/sites/all/themes/bluecheese/images/community-dk-comments.svg",
            "https://www.drupal.org/sites/all/modules/drupalorg/drupalorg/images/location-icon-gray.svg",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-69706-1405243956.png?itok=Jsr52fng",
            "https://www.drupal.org/sites/all/themes/bluecheese/images/community-dk-comments.svg",
            "https://www.drupal.org/sites/all/modules/drupalorg/drupalorg/images/location-icon-gray.svg",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-52136-1553526810.jpg?itok=qHwSORrQ",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-467650-1406286139.jpg?itok=nXz9f6Zc",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-52136-1553526810.jpg?itok=qHwSORrQ",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-69706-1405243956.png?itok=Jsr52fng",
            "https://www.drupal.org/sites/all/themes/bluecheese/images/community-dk-comments.svg",
            "https://www.drupal.org/sites/all/modules/drupalorg/drupalorg/images/location-icon-gray.svg",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-69706-1405243956.png?itok=Jsr52fng",
            "https://www.drupal.org/sites/all/themes/bluecheese/images/community-dk-comments.svg",
            "https://www.drupal.org/sites/all/modules/drupalorg/drupalorg/images/location-icon-gray.svg",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-788032-1716571699.jpg?itok=tCasKtDB",
            "https://www.drupal.org/sites/all/themes/bluecheese/images/community-dk-comments.svg",
            "https://www.drupal.org/sites/all/modules/drupalorg/drupalorg/images/location-icon-gray.svg",
            "https://www.drupal.org/files/issues/2021-07-13/custom-date-field-with-cancellation.png",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-52136-1553526810.jpg?itok=qHwSORrQ",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-788032-1716571699.jpg?itok=tCasKtDB",
            "https://www.drupal.org/sites/all/themes/bluecheese/images/community-dk-comments.svg",
            "https://www.drupal.org/sites/all/modules/drupalorg/drupalorg/images/location-icon-gray.svg",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-788032-1716571699.jpg?itok=tCasKtDB",
            "https://www.drupal.org/sites/all/themes/bluecheese/images/community-dk-comments.svg",
            "https://www.drupal.org/sites/all/modules/drupalorg/drupalorg/images/location-icon-gray.svg",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-1029484-1401653595.png?itok=R_DKDP2v",
            "https://www.drupal.org/files/styles/drupalorg_user_picture/public/user-pictures/picture-52136-1553526810.jpg?itok=qHwSORrQ",
            "https://www.drupal.org/files/cta/graphic/tag1_wht.svg",
            "https://www.drupal.org/VnPBBfwe/xhr/api/v1/collector/noScript.gif?appId=PXVnPBBfwe"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": "2020-11-15T16:32:06+00:00",
        "summary": "",
        "meta_description": "First of all, thanks for this great module! It solves a lot of problems, especially regarding recurrent events. Just a question: Is there a recommended way or data structure to add some custom data to instances of recurring events? Here's a simple example: Given a weekly meeting as a recurring event, how could one add individual meeting agendas to the instances? I guess this",
        "meta_lang": "",
        "meta_favicon": "",
        "meta_site_name": "Drupal.org",
        "canonical_link": "https://www.drupal.org/project/smart_date/issues/3182640",
        "text": "Thanks for filing this issue. It's definitely on my list of priorities. Being able to associate a fieldable entity with a Smart Date instance would allow for specifying the kind of information you describe, and could also make it easier to use Smart Date for things like registration.\n\nI have considered a number of possible approaches to achieve this, including:\n\nCreate a new reference field type, that would allow referencing not just an entity but a field delta, or perhaps keyed to the rrule (recurrence rule) instance. The latter approach might be more reliable. The advantage of this approach is that it would probably be more flexible, but would likely require leveraging Inline Entity Form and possibly other modules\n\nProvide a purpose-built, fieldable entity designed specifically to referenced as a field for recurring date instances. This approach would likely be easier to set up, but less flexible in the ways it could be used\n\nAny thoughts on these approaches, and which would better suit your needs?\n\nMy spontaneous approach:\n\nnew entity type, e.g. 'smart date instance', fieldable, supporting bundles to create some kind of templates for custom data\n\nadd an optional template bundle selector to the field config for smart date fields (not sure if this should be limited to recurring date fields)\n\nadd instance links to edit the entity data and maybe create it on the fly\n\nAs far as I can see, smart date instances are stored as serialized data in the rrule, that makes it a bit tricky to reference the instance in the template entity, but should not be impossible.\n\nSeems kind of mixing your two approaches.\n\nMaybe this would also make it possible to support multiple templates per instance, e.g. for a meeting have an instance bundle 'agenda' and an instance bundle 'attendees'.\n\nBut I know there's so much more to consider, e.g. Views support...\n\nThe separate nodes approach was how Date Repeat Entity handled this for Drupal 7.\n\nIt found it worked pretty well and would say it is just the ticket for the example use case of publishing a meeting agenda.\n\nWhen the module detected the creation of a repeating date sequence it generated separated dated nodes for each instance. Each node could then be customised as needed.\n\nThere was a configuration page where it was possible to to select which bundles should be treated in this way. And there was also a mechanism to dealing with with changes to dates\n\nIn the case of registrations, I have some reservations about whether this would be the right approach for consecutive events repeating by minutes or hours.\n\nPerformance is certainly an important matter and so too is flexibility and fitness for purpose. Whist I have some doubts about the suitability of nodes for all use cases, there are also many scenarios where this will be the right approach.\n\nIn my work with schools I have found they have two distinct use cases for registrations.\n\n1. Activity bookings.\n\nOne of my school clients runs a busy program of before and after school clubs. Essentially this is childcare for working parents.\n\nThere are four sessions each day, with a total daily capacity of 90 places. Each place must be booked and paid for by a parent. That adds up to about 16,000 transactions every year.\n\nThe transactional side of things can be handed off Drupal Commerce or a payments module. Whilst the registration side of things needs to be capable of good reporting, and of maintaining a booking history for each parent. Smart Date can play an import part by generating the bookable instances.\n\nThis use case is much the same as selling tickets for an event. Separate nodes can work well here, especially where each repeat might have a different theme; speakers at a conference for example.\n\n2. Parent/teacher meetings\n\nIn the case of a primary school, a teacher will have a number of slots, repeating every 10 minutes for meeting with parents. Each slot must me agreed and confirmed in advance\n\nIn the case of a senior school, the process is much the same, but may need to be coordinated with availability of multiple teachers, during the same session.\n\nThis use case is more like that of an appointments system and it is here that I am not convinced that a node per bookable instance is the right approach.\n\nThe new functionality in Smart Date for hourly repeats and by minutes is also a good fit for this use case.\n\nTo me it's probably subjective as to whether or not the instance should really be immutable. If I have a six-week lecture series and the start gets delayed two weeks, should the application assume that the first two instances were cancelled and two new ones added, or should it assume that all instances are now two weeks later?\n\nI think that as with all things date and time there will be specific cases where some people want each capability, but to me it seems perfectly reasonable to have it relative to the series.\n\n@MrPaulDriver thanks for the additional context, definitely useful to leverage similar discussions that have already happened.\n\nOne thing worth mentioning here is that Smart has Override entities which can be used to make make an instance effectively \"frozen\", in the sense that further modifications to the series won't shift the time and date of the instance. If your preference is to make a specific instance no longer impacted by changes to the series, creating an override is a relatively simple way to do it.\n\nI should also mention that Smart Date's Overrides include the ability to set an entity id. To date, this hasn't really been used. The original intention was that if someone wanted to completely override an instance (change title, author, description, whatever) it could effectively allow an instance to act as a self-contained entity where anything could be changed from the parent entity.\n\nI should add that I've been thinking about a plugin architecture for Smart Date where a submodule (or companion module) could alter or supplement the output for a delta as its render array is assembled. In theory this could be used to put in \"add to calendar\" links, data from an associated override entity (e.g. talk title, speaker, etc), registration links, what have you.\n\nIn theory we could also add some kind of way for a submodule to throw errors when the parent series is edited, but perhaps if the use of overrides is sufficient then this wouldn't be necessary."
    }
}