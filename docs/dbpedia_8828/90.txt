Over the last five decades, New York filmmaker Woody Allen has made dozens of films, from zany comedies to murder mysteries; but none more famous, or more widely adored, than Annie Hall.

Starring Allen and Diane Keaton, as well as a host of big-name stars, the film traces the romance between Annie Hall and Alvy Singer, and along the way delves into sexuality, psychoanalysis and modernism — long before others were doing the same.

Annie Hall was released 40 years ago this week, so in honour of the anniversary, we've gathered 14 facts that you might not know about the classic film.

1. The shots are long

The average shot length of Annie Hall was calculated at 14.5 seconds. Other films made in 1977 have an average shot length of four to seven seconds.

2. The story was not meant to be about relationships

The script was originally a drama centred around a murder mystery, and the comedy and romance were subplots. The Writers Guild of America later named it the funniest screenplay ever written.

3. The classic cocaine scene was an accident

In a classic scene, Allen's character, Alvy Singer, contemplates trying cocaine — but then sneezes, sending a pricey pile of his friend's stash flying. That wasn't in the script; it actually happened in rehearsal — and in audience testing it got huge laughs so they kept it.

4. The film is Woody Allen's most lucrative

The film cost $4 million, and earned $38,251,425. When adjusted for inflation, that makes it Allen's biggest box office hit.

5. For the famed movie lineup scene, Marshall McLuhan wasn't Allen's 1st choice

In another famous scene in a cinema lobby, Alvy is standing in a movie lineup in front of a guy who is pontificating about film and media. Allen asked Federico Fellini and Luis Buñuel if they would make a cameo, but both declined; Canadian cultural critic Marshall McLuhan, however, said yes.

6. Author Truman Capote makes an uncredited appearance

One scene features a Truman Capote lookalike contest — and the winner is actually Truman Capote.

7. The legendary Annie Hall look almost didn't happen

Diane Keaton chose her now-famous outfits — baggy pants or skirts, tie, baggy vest, hat and boots — and it kickstarted a huge fashion trend. But it almost didn't happen: when Keaton first walked in wearing the outfit, costume designer Ruth Morley protested. "Leave her. She's a genius," Allen reportedly answered. "Let's just leave her alone, let her wear what she wants. If I really hate something, I'll tell her. Otherwise she can choose for herself."

8. The film was almost called Anhedonia

The film's working title was Anhedonia, a term for the inability to experience pleasure, but marketers were concerned nobody would understand it. Co-writer Marshall Brickman suggested others, including It Had to be Jew, Rollercoaster Named Desire and Me and my Goy. Over several test screenings, Allen tried several titles including Anxiety and Annie and Alvy, then settled on Annie Hall.

9. The title character's name is linked to the film's star

Diane Keaton's real name is Diane Hall and her nickname is Annie.

10. Woody Allen had a knack for casting for up-and-comers

Many relatively unknown actors who had small parts in the film went on to huge careers, including Jeff Goldblum, Christopher Walken and Shelley Duvall. Sigourney Weaver makes her first-ever film appearance in the closing sequence, playing Alvy's date at the movie theatre.

11. There are several errors in the film

There are several glitches in the film. In one scene, when Annie drives Alvy home from a tennis match, she parks behind a red car. In the next shot, which shows them getting out of the car, they're parked behind a blue car. When Annie and Alvy meet at a restaurant near the end of the film, the crew is reflected in Annie's glasses for the entire scene; the New York State flag is also displayed on the University Of Wisconsin auditorium stage. (The scene was shot at Manhattan's Fashion Institute Of Technology.)

12. The split screen scene is not a split screen

In the scene where Alvy and Annie are in sessions with their psychiatrists, it looks like a split screen; but this was as low tech as it gets: it's one set with an adjoining wall, and they're shooting both "scenes" at the same time.

13. The home under the roller-coaster was happenstance

In the original script, Alvy's childhood home was not below a roller-coaster — but when Allen was out scouting and saw a house built beneath the Coney Island coaster, he couldn't help but write it into the story. The coaster and the home were reportedly torn down in 2000.

14. The film scored big with the critics, but not all of them

Annie Hall won broad critical acclaim, as well as four Oscars for best picture, best director, best actress and best screenplay. (Allen, who was also nominated for best actor, was famously a no-show.) But when it first came out, tough-to-please New York magazine critic John Simon called the film "unfunny comedy, poor movie-making, and embarrassing self-revelation," and said Keaton's performance was "in bad taste to watch and indecency to display."

15. Allen came up with the ending just hours before a screening

Allen struggled with how to end the film, and in post-production, they shot several options, but it still wasn't right. Then, just two hours before a test screening, Allen reportedly conceived and recorded the joke about how "We all need the eggs."

— Jennifer Van Evra, q digital