{
    "id": "dbpedia_6277_3",
    "rank": 27,
    "data": {
        "url": "https://arxiv.org/html/2405.11388v1",
        "read_more_link": "",
        "language": "en",
        "title": "Combined film and pulse heating of lithium ion batteries to improve performance in low ambient temperature",
        "top_image": "",
        "meta_img": "",
        "images": [
            "https://arxiv.org/html/extracted/5604807/Picture2.png",
            "https://arxiv.org/html/extracted/5604807/LIBcell.png",
            "https://arxiv.org/html/extracted/5604807/Training_flowdiagrmHeating.png",
            "https://arxiv.org/html/extracted/5604807/PTCVoltage.png",
            "https://arxiv.org/html/extracted/5604807/power.png",
            "https://arxiv.org/html/extracted/5604807/TPTCpulse2.png",
            "https://arxiv.org/html/extracted/5604807/Tcomp.png",
            "https://arxiv.org/html/extracted/5604807/TPTCdist2.png",
            "https://arxiv.org/html/extracted/5604807/soc.png",
            "https://arxiv.org/html/extracted/5604807/voltagecom.png",
            "https://arxiv.org/html/extracted/5604807/pulsedist.png",
            "https://arxiv.org/html/extracted/5604807/comparepulseptc.png"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "",
        "meta_lang": "en",
        "meta_favicon": "",
        "meta_site_name": "",
        "canonical_link": null,
        "text": "Habtamu Hailemichael Beshah Ayalew\n\nAbstract\n\nLow ambient temperatures significantly reduce Lithium ion batteries’ (LIBs’) charge/discharge power and energy capacity, and cause rapid degradation through lithium plating. These limitations can be addressed by preheating the LIB with an external heat source or by exploiting the internal heat generation through the LIB’s internal impedance. Fast external heating generates large temperature gradients across the LIB due to the low thermal conductivity of the cell, while internal impedance heating (usually through AC or pulse charge/discharging) tends to be relatively slow, although it can achieve more uniform temperature distribution. This paper investigates the potential of combining externally sourced resistive film heating with bidirectional pulse heating to achieve fast preheating without causing steep temperature gradients. The LIB is modeled with the Doyle Fuller Newman (DFN) electrochemical model and 1D thermal model, and reinforcement learning (RL) is used to optimize the pulse current amplitude and film voltage concurrently. The results indicate that the optimal policy for maximizing the rate of temperature rise while limiting temperature gradients has the film heating dominate the initial phases and create the ideal conditions for pulse heating to take over. In addition, the pulse component shares the heating load and reduces the energy rating of the auxiliary power source.\n\nkeywords:\n\nLithium-ion battery, low temperature performance, preheating/warm up, pulse heating.\n\n1 Introduction\n\nLithium-ion batteries (LIBs) are widely adopted as energy storage devices for electric and hybrid vehicles for their rare combination of high power and energy density, high efficiency, and long cycle life. However, these benefits hold at relatively high temperatures (>10⁢°⁢Cabsent10°𝐶>10\\degree C> 10 ° italic_C), and the LIBs’ performance substantially degrades in colder temperatures. In colder temperatures, low electrolyte (Smart et al., 1999) and solid-electrolyte interface (SEI) conductivity (Ratnakumar et al., 2001), sluggish solid-state diffusion (Huang et al., 2000), high charge-transfer resistance at electrolyte-electrode interface (Huang et al., 2000) cause reduced power and energy capacity(in charge/discharge). Charging at low temperatures also leads to lithium plating (Yang et al., 2017), a major factor in reducing the usable life of LIB cells and may lead to lithium dendrite formation that presents safety risks (short circuits and thermal runaway) (Gao et al., 2020).\n\nIn addition to efforts to solve this problem through material and battery structure research, the main mitigating solution has been implementing temperature modulation by preheating the battery. Preheating methods can be classified as internal and external based on the heat source. Internal-heating methods take advantage of the fact that LIBs have high charge transfer impedance at low temperatures to generate ohmic heating. Internal heating by discharging the LIB is limited by the low available energy in extremely low subzero temperatures, and it is only applicable at high initial SOC conditions. Even though internal heating through charging resolves the problem of low energy availability, high C rate charging (that would also offer faster heat up) in low temperatures increases polarization voltage, making the battery degrade through lithium plating (Yang et al., 2017; Yang and Wang, 2018).\n\nBidirectional pulse heating resolves the issue of lithium plating by shuttling energy between the battery and another energy reservoir (Mohan et al., 2016). The bidirectional pulse counteracts the development of charging polarization voltage with an opposite discharge polarization (Qin et al., 2020). As it mostly shuttles the same energy, it could be used in low SOC conditions. Even if pulse heating enables heating up the battery with relatively low energy consumption and lower risk of degradation, achieving quick temperature rise is dependent, among other things, on the pulse amplitude. The speed of heating increases with the pulse amplitude, and at extremely low temperatures, achieving high C rate charging is limited by the cutoff voltages. Periodical charging and discharging with AC input is also used for AC heating which, despite providing efficient and reliable heating, is limited by the need to access an external AC source (Stuart and Hande, 2004).\n\nExternal heating methods, on the other hand, transport heat generated externally to the LIB through convective heating using air or liquid medium (Ji and Wang, 2013), or conduction from resistive films placed in direct contact with the LIB (Lei et al., 2015; Jin et al., 2016). Film heating methods are attractive for their simple installation and heating efficiency. However, providing fast and uniform heating requires several films placed strategically in a module (pack), considerably increasing volume and mass. On the other hand, using fewer films results in localized heating, creating a significant temperature gradient between the portion of the LIBs with direct contact with the film and the core. Heating films considered in this paper are powered by an auxiliary power source, which could be a well-maintained smaller battery or a supercapacitor with a sufficient energy rating. Such supercapacitors are becoming available in the market utilizing hybrid technology and graphene plates (Muzaffar et al., 2019).\n\nIn this paper, we investigate combining bidirectional pulse heating with film heating to mitigate the individual shortcomings of either method and exploit their strengths. Film heating can quickly bring the battery to states where we can use a high-amplitude pulse. On the other hand, for the same temperature rise rate (RTR), combining external film and pulse heating can reduce the temperature gradient compared to the case where equivalent energy is supplied by only the external film. Since they share the heating load, the auxiliary power source’s energy rating can be lower than what would have been for only film heating. We assume that the auxiliary power source is well-insulated and maintained near a full charge, and as a result, such a system could still be used in low SOC conditions of the main LIB pack. In addition to providing energy for film heating, the auxiliary power source could also be used as a reservoir to shuttle energy in pulse heating.\n\nThe proposed preheating system consists of bidirectional pulse heating combined with external heating via a positive temperature coefficient resistive film (PTC) that modulates its resistance to prevent thermal overheating (Jin et al., 2016). While film heating component is controlled by the PTC voltage, achieving effective pulse heating and lithium plating minimization requires pulse amplitude, frequency, and duty cycle modulation. Optimization of these combined heating mechanisms should consider the nonlinearly coupled electrochemical and thermal dynamics which are not fully observable. Model-based preheating optimizations simplify the electrochemical and thermal models to a manageable scale with reduced electrochemical or equivalent circuit models (Du et al., 2018; Mohan et al., 2016). These simplifications make optimization manageable, but results become inaccurate in the case of modeling error and uncertainty. In recent times, Reinforcement learning (RL) has been proposed to capture the complexity of LIBs and introduce customizability to control policies as the LIB parameters change with age. For example, RL has recently been applied for extracting optimal fast charging policies (Park et al., 2020). In this paper, we formulate the heating process as a Markov Decision Process (MDP) to which we apply an RL approach for joint optimization for the two heating methods and gain insight into the resulting optimal heating policies for achieving fast and uniform preheating of LIBs.\n\nThe rest of the paper is organized as follows. Section 2 describes the electrochemical and thermal modeling of the LIB. Section 3 describes the architecture of an RL agent used to optimize the PTC voltage and pulse current amplitude. Section 4 discusses the implementation RL optimization on a simulated LIB cell, and Section 5 concludes the paper.\n\n2 Electrochemical and thermal modeling\n\nThe LIB module considered is made of pouch cells separated by aluminum plates to which the PTC film heaters are attached. Each cell has multiple units separated by separators. The electrochemistry of a unit is modeled with the Doyle Fuller Newman (DFN) model (Thomas et al., 2002; Plett, 2015). Table 3 in the Appendix gives the nomenclature for electrochemical model states and parameters. The lithium concentration in the electrolyte (ce⁢(x,t)subscript𝑐𝑒𝑥𝑡c_{e}(x,t)italic_c start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT ( italic_x , italic_t )) and solid (cs⁢(x,r,t)subscript𝑐𝑠𝑥𝑟𝑡c_{s}(x,r,t)italic_c start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ( italic_x , italic_r , italic_t )) is captured through a volume-averaged approximation of mass conservation.\n\nεe⁢ce∂t=∇∙(De,e⁢f⁢f⁢∇ce)+as⁢(1−t+0)⁢j,subscript𝜀𝑒subscript𝑐𝑒𝑡∙∇subscript𝐷𝑒𝑒𝑓𝑓∇subscript𝑐𝑒subscript𝑎𝑠1superscriptsubscript𝑡0𝑗\\begin{split}{{\\frac{\\varepsilon_{e}c_{e}}{\\partial t}=\\nabla\\bullet(D_{e,eff}% \\ \\nabla c_{e}\\ )+a_{s}(1-t_{+}^{0}\\ )j,}}\\end{split}start_ROW start_CELL divide start_ARG italic_ε start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT italic_c start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT end_ARG start_ARG ∂ italic_t end_ARG = ∇ ∙ ( italic_D start_POSTSUBSCRIPT italic_e , italic_e italic_f italic_f end_POSTSUBSCRIPT ∇ italic_c start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT ) + italic_a start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ( 1 - italic_t start_POSTSUBSCRIPT + end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT ) italic_j , end_CELL end_ROW (1)\n\n∂cs∂t=1r2⁢∂∂r⁢(Ds⁢r2⁢∂cs∂r).subscript𝑐𝑠𝑡1superscript𝑟2𝑟subscript𝐷𝑠superscript𝑟2subscript𝑐𝑠𝑟\\begin{split}{{\\frac{\\partial c_{s}}{\\partial t}=\\frac{1}{r^{2}}\\frac{\\partial% }{\\partial r}\\left(D_{s}r^{2}\\frac{\\partial c_{s}}{\\partial r}\\right).}}\\end{split}start_ROW start_CELL divide start_ARG ∂ italic_c start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT end_ARG start_ARG ∂ italic_t end_ARG = divide start_ARG 1 end_ARG start_ARG italic_r start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT end_ARG divide start_ARG ∂ end_ARG start_ARG ∂ italic_r end_ARG ( italic_D start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT italic_r start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT divide start_ARG ∂ italic_c start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT end_ARG start_ARG ∂ italic_r end_ARG ) . end_CELL end_ROW (2)\n\nThe volume-averaged approximation for charge conservation in the solid (ϕs)subscriptitalic-ϕ𝑠(\\phi_{s})( italic_ϕ start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ) and electrolyte (ϕe)subscriptitalic-ϕ𝑒(\\phi_{e})( italic_ϕ start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT ) phase of the porous electrode gives\n\n∇.(σe⁢f⁢f⁢∇ϕs)=as⁢F⁢j,formulae-sequence∇subscript𝜎𝑒𝑓𝑓∇subscriptitalic-ϕ𝑠subscript𝑎𝑠𝐹𝑗\\begin{split}{{\\mathrm{\\nabla}.\\left(\\sigma_{eff}\\mathrm{\\nabla}\\phi_{s}\\right% )=a_{s}F{j},}}\\end{split}start_ROW start_CELL ∇ . ( italic_σ start_POSTSUBSCRIPT italic_e italic_f italic_f end_POSTSUBSCRIPT ∇ italic_ϕ start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ) = italic_a start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT italic_F italic_j , end_CELL end_ROW (3)\n\n∇∙(ke⁢f⁢f⁢∇ϕe+kD,e⁢f⁢f⁢∇ln⁡ce)+as⁢F⁢j=0.∙∇subscript𝑘𝑒𝑓𝑓∇subscriptitalic-ϕ𝑒subscript𝑘𝐷𝑒𝑓𝑓∇subscript𝑐𝑒subscript𝑎𝑠𝐹𝑗0\\begin{split}{{\\nabla\\bullet\\left(k_{eff}\\nabla\\phi_{e}+k_{D,eff}\\nabla\\ln{c_{% e}}\\ \\right)+a_{s}F{j}=0.}}\\end{split}start_ROW start_CELL ∇ ∙ ( italic_k start_POSTSUBSCRIPT italic_e italic_f italic_f end_POSTSUBSCRIPT ∇ italic_ϕ start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT + italic_k start_POSTSUBSCRIPT italic_D , italic_e italic_f italic_f end_POSTSUBSCRIPT ∇ roman_ln italic_c start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT ) + italic_a start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT italic_F italic_j = 0 . end_CELL end_ROW (4)\n\nThe volume-averaged approximation to the microscopic Butler–Volmer kinetics relationship gives\n\nj=i0F⁢{exp⁡((1−α)⁢FR⁢T⁢η)−exp⁡(−α⁢FR⁢T⁢η)},𝑗subscript𝑖0𝐹1𝛼𝐹𝑅𝑇𝜂𝛼𝐹𝑅𝑇𝜂\\displaystyle j=\\frac{i_{0}}{F}\\left\\{\\exp\\left(\\frac{\\left(1-\\alpha\\right)F}{% RT}\\eta\\right)-\\exp\\left(-\\frac{\\alpha F}{RT}\\eta\\right)\\right\\},italic_j = divide start_ARG italic_i start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT end_ARG start_ARG italic_F end_ARG { roman_exp ( divide start_ARG ( 1 - italic_α ) italic_F end_ARG start_ARG italic_R italic_T end_ARG italic_η ) - roman_exp ( - divide start_ARG italic_α italic_F end_ARG start_ARG italic_R italic_T end_ARG italic_η ) } , (5) i0=F⁢k0⁢ce1−α⁢cs,max⁢(cece,0)1−α⁢(cs,max−cs,ecs,max)subscript𝑖0𝐹subscript𝑘0superscriptsubscript𝑐𝑒1𝛼subscript𝑐𝑠maxsuperscriptsubscript𝑐𝑒subscript𝑐𝑒01𝛼subscript𝑐𝑠maxsubscript𝑐𝑠𝑒subscript𝑐𝑠max\\displaystyle i_{0}=Fk_{0}c_{e}^{1-\\alpha}c_{s,\\text{max}}\\left(\\frac{c_{e}}{c% _{e,0}}\\right)^{1-\\alpha}\\left(\\frac{c_{s,\\text{max}}-c_{s,e}}{c_{s,\\text{max}% }}\\right)italic_i start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT = italic_F italic_k start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT italic_c start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 1 - italic_α end_POSTSUPERSCRIPT italic_c start_POSTSUBSCRIPT italic_s , max end_POSTSUBSCRIPT ( divide start_ARG italic_c start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT end_ARG start_ARG italic_c start_POSTSUBSCRIPT italic_e , 0 end_POSTSUBSCRIPT end_ARG ) start_POSTSUPERSCRIPT 1 - italic_α end_POSTSUPERSCRIPT ( divide start_ARG italic_c start_POSTSUBSCRIPT italic_s , max end_POSTSUBSCRIPT - italic_c start_POSTSUBSCRIPT italic_s , italic_e end_POSTSUBSCRIPT end_ARG start_ARG italic_c start_POSTSUBSCRIPT italic_s , max end_POSTSUBSCRIPT end_ARG ) ×(cs,ecs,max)α.absentsuperscriptsubscript𝑐𝑠𝑒subscript𝑐𝑠max𝛼\\displaystyle\\quad\\times\\left(\\frac{c_{s,e}}{c_{s,\\text{max}}}\\right)^{\\alpha}.× ( divide start_ARG italic_c start_POSTSUBSCRIPT italic_s , italic_e end_POSTSUBSCRIPT end_ARG start_ARG italic_c start_POSTSUBSCRIPT italic_s , max end_POSTSUBSCRIPT end_ARG ) start_POSTSUPERSCRIPT italic_α end_POSTSUPERSCRIPT .\n\nwhere De,e⁢f⁢fsubscript𝐷𝑒𝑒𝑓𝑓D_{e,eff}italic_D start_POSTSUBSCRIPT italic_e , italic_e italic_f italic_f end_POSTSUBSCRIPT, σe⁢f⁢fsubscript𝜎𝑒𝑓𝑓\\sigma_{eff}italic_σ start_POSTSUBSCRIPT italic_e italic_f italic_f end_POSTSUBSCRIPT,ke⁢f⁢fsubscript𝑘𝑒𝑓𝑓k_{eff}italic_k start_POSTSUBSCRIPT italic_e italic_f italic_f end_POSTSUBSCRIPT are the effective electrolyte diffusivity, solid conductivity and electrolyte conductivity respectively. These PDEs are bound by the boundary conditions of zero lithium diffusion at the boundary, mass conservation at the solid-electrolyte interface and the center of particle, and zero ionic current at the current collectors boundary conditions.\n\nThe thermal analysis considers the temperature variation across the pouch cell (x direction) as shown in Fig.1b. On both sides of the cell, the PTC act as a thermal source. Electrochemical heat generation is also considered using a single representative unit with x-averaged temperature (Ta⁢v⁢g)subscript𝑇𝑎𝑣𝑔(T_{avg})( italic_T start_POSTSUBSCRIPT italic_a italic_v italic_g end_POSTSUBSCRIPT ) to reduce the computation burden. Heat is assumed to escape to the ambient through convection across the edge of the cell. Considering symmetry in the x direction, the thermal model for the half cell is given as:\n\nρ⁢c⁢∂T∂t=λ⁢∇2T+Qgen⁢(Tavg)+2⁢(ly+lz)ly⁢lz⁢h⁢(T∞−T),Tavg=1L⁢∫0LT⁢(x)⁢𝑑xformulae-sequence𝜌𝑐𝑇𝑡𝜆superscript∇2𝑇subscript𝑄gensubscript𝑇avg2subscript𝑙𝑦subscript𝑙𝑧subscript𝑙𝑦subscript𝑙𝑧ℎsubscript𝑇𝑇subscript𝑇avg1𝐿superscriptsubscript0𝐿𝑇𝑥differential-d𝑥\\begin{split}&\\rho c\\frac{\\partial T}{\\partial t}=\\lambda\\nabla^{2}T+Q_{\\text{% gen}}(T_{\\text{avg}})+\\frac{2\\left(l_{y}+l_{z}\\right)}{l_{y}l_{z}}h\\left(T_{% \\infty}-T\\right),\\\\ &T_{\\text{avg}}=\\frac{1}{L}\\int_{0}^{L}T(x)\\,dx\\end{split}start_ROW start_CELL end_CELL start_CELL italic_ρ italic_c divide start_ARG ∂ italic_T end_ARG start_ARG ∂ italic_t end_ARG = italic_λ ∇ start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT italic_T + italic_Q start_POSTSUBSCRIPT gen end_POSTSUBSCRIPT ( italic_T start_POSTSUBSCRIPT avg end_POSTSUBSCRIPT ) + divide start_ARG 2 ( italic_l start_POSTSUBSCRIPT italic_y end_POSTSUBSCRIPT + italic_l start_POSTSUBSCRIPT italic_z end_POSTSUBSCRIPT ) end_ARG start_ARG italic_l start_POSTSUBSCRIPT italic_y end_POSTSUBSCRIPT italic_l start_POSTSUBSCRIPT italic_z end_POSTSUBSCRIPT end_ARG italic_h ( italic_T start_POSTSUBSCRIPT ∞ end_POSTSUBSCRIPT - italic_T ) , end_CELL end_ROW start_ROW start_CELL end_CELL start_CELL italic_T start_POSTSUBSCRIPT avg end_POSTSUBSCRIPT = divide start_ARG 1 end_ARG start_ARG italic_L end_ARG ∫ start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_L end_POSTSUPERSCRIPT italic_T ( italic_x ) italic_d italic_x end_CELL end_ROW (6)\n\nwith boundary conditions in the median and outer section of the cell:\n\nd⁢Td⁢x|x=0=0,\\begin{split}{{\\frac{dT}{dx}\\bigg{\\rvert}_{x=0}=0,}}\\end{split}start_ROW start_CELL divide start_ARG italic_d italic_T end_ARG start_ARG italic_d italic_x end_ARG | start_POSTSUBSCRIPT italic_x = 0 end_POSTSUBSCRIPT = 0 , end_CELL end_ROW (7)\n\nd⁢Td⁢x|x=L=QP⁢T⁢C/2λc⁢n⁢Ay⁢z.\\begin{split}{{\\frac{dT}{dx}\\bigg{\\rvert}_{x=L}=\\frac{Q_{PTC}/2}{\\lambda_{cn}A% _{yz}}.}}\\end{split}start_ROW start_CELL divide start_ARG italic_d italic_T end_ARG start_ARG italic_d italic_x end_ARG | start_POSTSUBSCRIPT italic_x = italic_L end_POSTSUBSCRIPT = divide start_ARG italic_Q start_POSTSUBSCRIPT italic_P italic_T italic_C end_POSTSUBSCRIPT / 2 end_ARG start_ARG italic_λ start_POSTSUBSCRIPT italic_c italic_n end_POSTSUBSCRIPT italic_A start_POSTSUBSCRIPT italic_y italic_z end_POSTSUBSCRIPT end_ARG . end_CELL end_ROW (8)\n\nwhere λ,h,ρ,c,Ay⁢z𝜆ℎ𝜌𝑐subscript𝐴𝑦𝑧\\lambda,h,\\rho,c,A_{yz}italic_λ , italic_h , italic_ρ , italic_c , italic_A start_POSTSUBSCRIPT italic_y italic_z end_POSTSUBSCRIPT are the thermal conductivity, convective heat transfer coefficient, density, specific heat capacity and cross-sectional area of the cell, respectively. The internal heat generation (Qg⁢e⁢nsubscript𝑄𝑔𝑒𝑛Q_{gen}italic_Q start_POSTSUBSCRIPT italic_g italic_e italic_n end_POSTSUBSCRIPT) includes reversible and irreversible generation due to chemical reactions, and joule heating due to electrical potential gradient in the solid and electrolyte.\n\nQg⁢e⁢n⁢(Tavg)=as⁢F⁢j⁢(η+Tavg⁢∂Uocp∂T)+σeff⁢(∇ϕs⋅∇ϕs)+keff⁢(∇ϕe⋅∇ϕe)+kD,eff⁢(∇ln⁡ce⋅∇ϕe)subscript𝑄𝑔𝑒𝑛subscript𝑇avgsubscript𝑎𝑠𝐹𝑗𝜂subscript𝑇avgsubscript𝑈ocp𝑇subscript𝜎eff⋅∇subscriptitalic-ϕ𝑠∇subscriptitalic-ϕ𝑠subscript𝑘eff⋅∇subscriptitalic-ϕ𝑒∇subscriptitalic-ϕ𝑒subscript𝑘𝐷eff⋅∇subscript𝑐𝑒∇subscriptitalic-ϕ𝑒\\begin{split}Q_{gen}\\left(T_{\\text{avg}}\\right)=&\\,a_{s}Fj\\left(\\eta+T_{\\text{% avg}}\\frac{\\partial U_{\\text{ocp}}}{\\partial T}\\right)+\\sigma_{\\text{eff}}% \\left(\\nabla\\phi_{s}\\cdot\\nabla\\phi_{s}\\right)\\\\ &+k_{\\text{eff}}\\left(\\nabla\\phi_{e}\\cdot\\nabla\\phi_{e}\\right)+k_{D,\\text{eff}% }\\left(\\nabla\\ln{c_{e}}\\cdot\\nabla\\phi_{e}\\right)\\end{split}start_ROW start_CELL italic_Q start_POSTSUBSCRIPT italic_g italic_e italic_n end_POSTSUBSCRIPT ( italic_T start_POSTSUBSCRIPT avg end_POSTSUBSCRIPT ) = end_CELL start_CELL italic_a start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT italic_F italic_j ( italic_η + italic_T start_POSTSUBSCRIPT avg end_POSTSUBSCRIPT divide start_ARG ∂ italic_U start_POSTSUBSCRIPT ocp end_POSTSUBSCRIPT end_ARG start_ARG ∂ italic_T end_ARG ) + italic_σ start_POSTSUBSCRIPT eff end_POSTSUBSCRIPT ( ∇ italic_ϕ start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ⋅ ∇ italic_ϕ start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ) end_CELL end_ROW start_ROW start_CELL end_CELL start_CELL + italic_k start_POSTSUBSCRIPT eff end_POSTSUBSCRIPT ( ∇ italic_ϕ start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT ⋅ ∇ italic_ϕ start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT ) + italic_k start_POSTSUBSCRIPT italic_D , eff end_POSTSUBSCRIPT ( ∇ roman_ln italic_c start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT ⋅ ∇ italic_ϕ start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT ) end_CELL end_ROW (9)\n\nWe use the ohmic power relationship for the given voltage to model the heat generated by the PTC (QP⁢T⁢Csubscript𝑄𝑃𝑇𝐶Q_{PTC}italic_Q start_POSTSUBSCRIPT italic_P italic_T italic_C end_POSTSUBSCRIPT) (10). Considering aluminum plate as a perfect conductor, the temperature dependence of the resistance (and as a result, the power generated) is given by the relation:\n\nQP⁢T⁢C=vP⁢T⁢C2RP⁢T⁢C.subscript𝑄𝑃𝑇𝐶superscriptsubscript𝑣𝑃𝑇𝐶2subscript𝑅𝑃𝑇𝐶\\begin{split}{{Q_{PTC}=\\frac{v_{PTC}^{2}}{R_{PTC}}.\\ \\ \\ \\ }}\\end{split}start_ROW start_CELL italic_Q start_POSTSUBSCRIPT italic_P italic_T italic_C end_POSTSUBSCRIPT = divide start_ARG italic_v start_POSTSUBSCRIPT italic_P italic_T italic_C end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT end_ARG start_ARG italic_R start_POSTSUBSCRIPT italic_P italic_T italic_C end_POSTSUBSCRIPT end_ARG . end_CELL end_ROW (10)\n\nRP⁢T⁢C={R0⁢exp⁡(α0⁢(T−T0))for ⁢T<TcR0⁢exp⁡(α1⁢(T−T1))for ⁢T≥Tcsubscript𝑅𝑃𝑇𝐶casessubscript𝑅0subscript𝛼0𝑇subscript𝑇0for 𝑇subscript𝑇𝑐subscript𝑅0subscript𝛼1𝑇subscript𝑇1for 𝑇subscript𝑇𝑐\\begin{split}R_{PTC}=&\\begin{cases}R_{0}\\exp\\left(\\alpha_{0}(T-T_{0})\\right)&% \\text{for }T<T_{c}\\\\ R_{0}\\exp\\left(\\alpha_{1}(T-T_{1})\\right)&\\text{for }T\\geq T_{c}\\end{cases}% \\end{split}start_ROW start_CELL italic_R start_POSTSUBSCRIPT italic_P italic_T italic_C end_POSTSUBSCRIPT = end_CELL start_CELL { start_ROW start_CELL italic_R start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT roman_exp ( italic_α start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT ( italic_T - italic_T start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT ) ) end_CELL start_CELL for italic_T < italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_CELL end_ROW start_ROW start_CELL italic_R start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT roman_exp ( italic_α start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ( italic_T - italic_T start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) ) end_CELL start_CELL for italic_T ≥ italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_CELL end_ROW end_CELL end_ROW (11)\n\nwhere R0subscript𝑅0R_{0}italic_R start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT and R1subscript𝑅1R_{1}italic_R start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT are the resistance at nominal temperature T0subscript𝑇0T_{0}italic_T start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT and reference temperature T1subscript𝑇1T_{1}italic_T start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT, respectively, and the Curie temperature Tcsubscript𝑇𝑐T_{c}italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT is given by\n\nT⁢c=log⁡(R1)−log⁡(R0)+α0⁢T0−α1⁢T1α0−α1𝑇𝑐subscript𝑅1subscript𝑅0subscript𝛼0subscript𝑇0subscript𝛼1subscript𝑇1subscript𝛼0subscript𝛼1\\begin{split}{{Tc\\ =\\frac{\\log{\\left(R_{1}\\right)}-\\log{\\left(R_{0}\\right)}+\\ % \\alpha_{0}T_{0}\\ -\\ \\alpha_{1}T_{1}}{\\alpha_{0}\\ -\\ \\alpha_{1}}}}\\end{split}start_ROW start_CELL italic_T italic_c = divide start_ARG roman_log ( italic_R start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) - roman_log ( italic_R start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT ) + italic_α start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT - italic_α start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_ARG start_ARG italic_α start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT - italic_α start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_ARG end_CELL end_ROW (12)\n\n3 Formulation of a Reinforcement Learning Agent\n\nWe formulate the battery preheating process as a Markov Decision Process (MDP) with state s𝑠sitalic_s, actions a𝑎aitalic_a reward function r⁢(s,a)𝑟𝑠𝑎r(s,a)italic_r ( italic_s , italic_a ), and discounting factor γ𝛾\\gammaitalic_γ. The RL schematic is shown in Fig.2. The observations of SOC, terminal voltage, the median and outer temperatures conjugated with the desired temperature constitute the state s={S⁢O⁢C,Tm,To⁢u⁢t,vt,Td⁢e⁢s}𝑠𝑆𝑂𝐶subscript𝑇𝑚subscript𝑇𝑜𝑢𝑡subscript𝑣𝑡subscript𝑇𝑑𝑒𝑠s\\ =\\{SOC,T_{m},T_{out},v_{t},T_{des}\\}italic_s = { italic_S italic_O italic_C , italic_T start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT , italic_T start_POSTSUBSCRIPT italic_o italic_u italic_t end_POSTSUBSCRIPT , italic_v start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_T start_POSTSUBSCRIPT italic_d italic_e italic_s end_POSTSUBSCRIPT }. By fixing the pulse’s duty cycle and frequency, we reduce the optimization variables and the control action ends up being PTC voltage, pulse charge and discharge amplitudes a={vP⁢T⁢C,ic,id}𝑎subscript𝑣𝑃𝑇𝐶subscript𝑖𝑐subscript𝑖𝑑a\\ =\\{v_{PTC},\\ i_{c},\\ i_{d}\\}italic_a = { italic_v start_POSTSUBSCRIPT italic_P italic_T italic_C end_POSTSUBSCRIPT , italic_i start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT , italic_i start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT }. To counteract the buildup of charging polarization (which causes lithium plating), the predetermined frequency is set to be relatively high (Qin et al., 2020), and the discharge current’s magnitude is always set to be higher than the charging current in each pulse cycle (Mohan et al., 2016). Such pulse currents amplitude setting, along with the fact that the peak charging amplitude is limited by the low temperature ambient, results in a reduction in the SOC of the main LIB.\n\nThe RL has actor-critic architecture in which the actor proposes the control action, and the critic measures how good the actions are for the given state. The actor network outputs the mean and variance values of each action, and the combination of the actions proposed by the RL ({vP⁢T⁢C,ic,id})subscript𝑣𝑃𝑇𝐶subscript𝑖𝑐subscript𝑖𝑑(\\{v_{PTC},\\ i_{c},\\ i_{d}\\})( { italic_v start_POSTSUBSCRIPT italic_P italic_T italic_C end_POSTSUBSCRIPT , italic_i start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT , italic_i start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT } ) is then sampled from multidimensional normal distribution.\n\nπ𝜽T⁢(a|s)=𝒩⁢(μ𝜽⁢(s),σ𝜽2⁢(s)),subscriptsuperscript𝜋𝑇𝜽conditional𝑎𝑠𝒩subscript𝜇𝜽𝑠superscriptsubscript𝜎𝜽2𝑠{\\pi^{T}_{\\boldsymbol{\\theta}}\\left(a|s\\right)=\\mathcal{N}\\left(\\mu_{% \\boldsymbol{\\theta}}\\left(s\\right),\\sigma_{\\boldsymbol{\\theta}}^{2}\\left(s% \\right)\\right)},italic_π start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT ( italic_a | italic_s ) = caligraphic_N ( italic_μ start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT ( italic_s ) , italic_σ start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT ( italic_s ) ) , (13)\n\nwhere μ,σ2𝜇superscript𝜎2\\mu,\\sigma^{2}italic_μ , italic_σ start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT and θ𝜃\\thetaitalic_θ are the mean, variance and parameters of the actor network, respectively. The proposed actions will then be applied to the electrochemical and thermal model of the battery environment given in Section 2. However, before sending these action to the battery environment, the supervisor makes sure the actions proposed are feasible and safe. This includes ensuring the charging current is less than the maximum possible amount for the LIB’s SOC and temperature, and the discharge current amplitude is higher than the charging current amplitude.\n\nAfter observing the effect of the actions implemented in the simulated LIB environment, a reward is assigned for the state and action combination. We defined the reward function to promote fast heating without creating an extreme temperature gradient across the cell as measured by the difference between the outside (To⁢u⁢tsubscript𝑇𝑜𝑢𝑡T_{out}italic_T start_POSTSUBSCRIPT italic_o italic_u italic_t end_POSTSUBSCRIPT) and core temperature (Tmsubscript𝑇𝑚T_{m}italic_T start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT).\n\nR=wR⁢rR⁢T⁢R+rg,𝑅subscript𝑤𝑅subscript𝑟𝑅𝑇𝑅subscript𝑟𝑔\\displaystyle R=w_{R}r_{RTR}+r_{g},italic_R = italic_w start_POSTSUBSCRIPT italic_R end_POSTSUBSCRIPT italic_r start_POSTSUBSCRIPT italic_R italic_T italic_R end_POSTSUBSCRIPT + italic_r start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT , (14) rR⁢T⁢R=Tavg,t−Tavg,t−1Δ⁢t,subscript𝑟𝑅𝑇𝑅subscript𝑇avg𝑡subscript𝑇avg𝑡1Δ𝑡\\displaystyle r_{RTR}=\\frac{T_{\\text{avg},t}-T_{\\text{avg},t-1}}{\\Delta t},italic_r start_POSTSUBSCRIPT italic_R italic_T italic_R end_POSTSUBSCRIPT = divide start_ARG italic_T start_POSTSUBSCRIPT avg , italic_t end_POSTSUBSCRIPT - italic_T start_POSTSUBSCRIPT avg , italic_t - 1 end_POSTSUBSCRIPT end_ARG start_ARG roman_Δ italic_t end_ARG , If ⁢Trange>Tt,If subscript𝑇rangesubscript𝑇𝑡\\displaystyle\\text{If }T_{\\text{range}}>T_{t},If italic_T start_POSTSUBSCRIPT range end_POSTSUBSCRIPT > italic_T start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , rg=−wT⁢r⁢Trange−wΔ⁢T⁢Δ⁢Trange.subscript𝑟𝑔subscript𝑤𝑇𝑟subscript𝑇rangesubscript𝑤Δ𝑇Δsubscript𝑇range\\displaystyle\\quad r_{g}=-w_{Tr}T_{\\text{range}}-w_{\\Delta T}\\Delta T_{\\text{% range}}.italic_r start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT = - italic_w start_POSTSUBSCRIPT italic_T italic_r end_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT range end_POSTSUBSCRIPT - italic_w start_POSTSUBSCRIPT roman_Δ italic_T end_POSTSUBSCRIPT roman_Δ italic_T start_POSTSUBSCRIPT range end_POSTSUBSCRIPT .\n\nIf ⁢Trange<Tt,If subscript𝑇rangesubscript𝑇𝑡\\displaystyle\\text{If }T_{\\text{range}}<T_{t},If italic_T start_POSTSUBSCRIPT range end_POSTSUBSCRIPT < italic_T start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , (15) rg=rterm,subscript𝑟𝑔subscript𝑟term\\displaystyle\\quad r_{g}=r_{\\text{term}},italic_r start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT = italic_r start_POSTSUBSCRIPT term end_POSTSUBSCRIPT , If ⁢Trange>Tt,If subscript𝑇rangesubscript𝑇𝑡\\displaystyle\\text{If }T_{\\text{range}}>T_{t},If italic_T start_POSTSUBSCRIPT range end_POSTSUBSCRIPT > italic_T start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , rg=−rterm,subscript𝑟𝑔subscript𝑟term\\displaystyle\\quad r_{g}=-r_{\\text{term}},italic_r start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT = - italic_r start_POSTSUBSCRIPT term end_POSTSUBSCRIPT ,\n\nwhere rR⁢T⁢Rsubscript𝑟𝑅𝑇𝑅r_{RTR}italic_r start_POSTSUBSCRIPT italic_R italic_T italic_R end_POSTSUBSCRIPT is a reward term that encodes the average relative temperature rise (RTR) of the cell in a given time step Δ⁢tΔ𝑡\\Delta troman_Δ italic_t, and rgsubscript𝑟𝑔r_{g}italic_r start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT modulates the temperature gradient when it is beyond a certain threshold Ttsubscript𝑇𝑡T_{t}italic_T start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT. rgsubscript𝑟𝑔r_{g}italic_r start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT penalizes steep spacial temperature gradient represented by Tr⁢a⁢n⁢g⁢e=To⁢u⁢t⁢–⁢Tmsubscript𝑇𝑟𝑎𝑛𝑔𝑒subscript𝑇𝑜𝑢𝑡–subscript𝑇𝑚T_{range}=T_{out}–T_{m}italic_T start_POSTSUBSCRIPT italic_r italic_a italic_n italic_g italic_e end_POSTSUBSCRIPT = italic_T start_POSTSUBSCRIPT italic_o italic_u italic_t end_POSTSUBSCRIPT – italic_T start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT and rewards actions that reduce the temporal temperature gradient represented by Δ⁢Tr⁢a⁢n⁢g⁢e=Δ⁢Tr⁢a⁢n⁢g⁢e,t−Δ⁢Tr⁢a⁢n⁢g⁢e,t−1Δsubscript𝑇𝑟𝑎𝑛𝑔𝑒Δsubscript𝑇𝑟𝑎𝑛𝑔𝑒𝑡Δsubscript𝑇𝑟𝑎𝑛𝑔𝑒𝑡1\\Delta T_{range}=\\Delta T_{range,t}-\\Delta T_{range,t-1}roman_Δ italic_T start_POSTSUBSCRIPT italic_r italic_a italic_n italic_g italic_e end_POSTSUBSCRIPT = roman_Δ italic_T start_POSTSUBSCRIPT italic_r italic_a italic_n italic_g italic_e , italic_t end_POSTSUBSCRIPT - roman_Δ italic_T start_POSTSUBSCRIPT italic_r italic_a italic_n italic_g italic_e , italic_t - 1 end_POSTSUBSCRIPT. Each reward term is then weighted by the corresponding weights {wR,wT⁢r,wΔ⁢T}subscript𝑤𝑅subscript𝑤𝑇𝑟subscript𝑤Δ𝑇\\{w_{R},w_{Tr},w_{\\Delta T}\\}{ italic_w start_POSTSUBSCRIPT italic_R end_POSTSUBSCRIPT , italic_w start_POSTSUBSCRIPT italic_T italic_r end_POSTSUBSCRIPT , italic_w start_POSTSUBSCRIPT roman_Δ italic_T end_POSTSUBSCRIPT } to tune the overall reward according to the needs of the heating control. At the end of the heating process (the terminal state), however, rgsubscript𝑟𝑔r_{g}italic_r start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT is used to incur a big penalty (−rt⁢e⁢r⁢m)subscript𝑟𝑡𝑒𝑟𝑚(-r_{term})( - italic_r start_POSTSUBSCRIPT italic_t italic_e italic_r italic_m end_POSTSUBSCRIPT ) or reward (rt⁢e⁢r⁢m)subscript𝑟𝑡𝑒𝑟𝑚(r_{term})( italic_r start_POSTSUBSCRIPT italic_t italic_e italic_r italic_m end_POSTSUBSCRIPT ) based on the final temperature gradient (15).\n\nThe state, action and reward tuple is stored in a memory/replay buffer later to be used for training. We used the Maximum A Postriori Policy optimization (MPO), an off-policy algorithm that trains the neural network in a data-efficient manner. Other state-of-the-art deep RL algorithms such as Proximal Policy Optimization (PPO) (Schulman et al., 2017) are also applicable for this purpose. We refer the reader to Abdolmaleki et al. (2018) for implementation details of MPO.\n\n4 Results and Discussions\n\nThe performance and characteristics of the combined PTC film and pulse heating is investigated on the LIB pouch cell model. The LIB cell has LiPF6 cell chemistry with a 0.68 Ah rating. It consists of 34 units, each with positive and negative electrodes, a separator, and positive and negative current collectors. The electrochemical properties and the geometry of the cell units are taken from Marquis et al. (2019). The cell units alongside the aluminum plate constitute a thickness of 10.6⁢m⁢m10.6𝑚𝑚10.6mm10.6 italic_m italic_m, and the cell has 0.137⁢m×0.207⁢m0.137𝑚0.207𝑚0.137m\\times 0.207m0.137 italic_m × 0.207 italic_m cross-section. The aluminum plates are attached to PTC on each side, and the thermal parameters and the characteristic of the PTC in the experiment are given in Table 1. The thermal model of the cell and the electrochemical model of the LIB units are simulated with Python Battery Mathematical Modelling (PyBaMM) (Sulzer et al., 2021) using finite volume analysis by discretizing them into a 1D mesh.\n\nThe RL agent has feedforward actor and critic networks, each consisting of three layers of 64 nodes. It is trained to bring the battery to zero 0o⁢Csuperscript0𝑜𝐶0^{o}C0 start_POSTSUPERSCRIPT italic_o end_POSTSUPERSCRIPT italic_C x-averaged temperature from random initial temperatures down to −20o⁢Csuperscript20𝑜𝐶-20^{o}C- 20 start_POSTSUPERSCRIPT italic_o end_POSTSUPERSCRIPT italic_C and different SOC levels by controlling the pulse current amplitudes and the PTC voltage. A fixed pulse frequency of 1Hz and duty cycle of 50%percent5050\\%50 % are used, and a selected pulse configuration is kept for a period of 5 seconds. The objective of achieving rapid temperature rise without causing a significant temperature gradient is encoded into the reward using a weight of {wR⁢T⁢R=1.wT⁢r=2,wΔ⁢T=1,rt⁢e⁢r⁢m=200}formulae-sequencesubscript𝑤𝑅𝑇𝑅1formulae-sequencesubscript𝑤𝑇𝑟2formulae-sequencesubscript𝑤Δ𝑇1subscript𝑟𝑡𝑒𝑟𝑚200\\{w_{RTR}=1.w_{Tr}={2},w_{\\Delta T}=1,r_{term}=200\\}{ italic_w start_POSTSUBSCRIPT italic_R italic_T italic_R end_POSTSUBSCRIPT = 1 . italic_w start_POSTSUBSCRIPT italic_T italic_r end_POSTSUBSCRIPT = 2 , italic_w start_POSTSUBSCRIPT roman_Δ italic_T end_POSTSUBSCRIPT = 1 , italic_r start_POSTSUBSCRIPT italic_t italic_e italic_r italic_m end_POSTSUBSCRIPT = 200 }, and the threshold temperature difference between the core and the outer section is set to be 0.5 (Tt=0.5)subscript𝑇𝑡0.5(T_{t}=0.5)( italic_T start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = 0.5 ). States, RL actions, and the associated rewards are collected into a memory buffer and used to train the actor and critic networks by selecting random batches.\n\nFigure 3 shows RL training results of setting the cell thermal conductivity to 2⁢W/m⁢K2𝑊𝑚𝐾2W/mK2 italic_W / italic_m italic_K and maximum PTC voltage to 10⁢V10𝑉10V10 italic_V. The training results in a heating policy in which the first phase is dominated by PTC heating. Such fast heating quickly increases the temperature and creates an ideal LIB state for the pulse heating to use high charging amplitudes safely. However, the fast temperature increase is accompanied by a high-temperature gradient. The reward is structured to lightly penalize temperature gradients initially, and as the LIB is close to the terminal state, PTC heating is reduced to avoid a high terminal temperature gradient penalty. The later phase of the heating process is dominated by pulse heating, which increases the temperature relatively uniformly. This phase also gives time to distribute the temperature gradient created by the PTC heating.\n\nFigure 4 compares the performance of combined PTC + pulse heating with PTC-only heating with the maximum voltage (VP⁢T⁢C=10⁢V)subscript𝑉𝑃𝑇𝐶10𝑉(V_{PTC}=10V)( italic_V start_POSTSUBSCRIPT italic_P italic_T italic_C end_POSTSUBSCRIPT = 10 italic_V ) and pulse heating with the maximum possible charging and discharge current. The PTC raises the average temperature the fastest but it cause a significant temperature difference between the core and the outer layer. The pulse heating takes very long as compared to the other methods, and causes a larger SOC reduction in the main LIB. Combining the pulse and PTC heatings offers compromises by achieving a relatively fast temperature rise without causing big temperature gradient. Furthermore, the energy required for the heating is shared between the LIB and the auxiliary power source and, and as shown in Table 2, reduces the energy rating of the auxiliary power source. The table also shows that pulse only case has the highest energy requirement to heat up the same temperature range due to the higher convective loss to the ambient associated with longer heating time.\n\nWe also investigate what happens as the maximum voltage of the PTC is changed in Fig.5. Reducing the maximum limiting voltage of the PTC, even if it reduces the RTR, also lowers the chance of creating a big temperature gradient. As shown in Fig.5a, the optimization suggests applying the maximum voltage throughout the heating period when the maximum voltage of the PTC is set to lower values. It is also possible to notice from Fig.5c that the portion of the heating by the pulse increases as the maximum PTC voltage decreases, and after a point, the pulse and PTC combined heating has the highest RTR (as compared to the PTC only and pulse only cases). For all maximum voltage levels of the PTC, the heating optimization results in a pulse heating profile with the peak safe current amplitude (determined by the supervisor) and the PTC voltage profile that can be captured by simple rules (tables) for practical implementation.\n\n5 Conclusion\n\nThis paper investigates the preheating of lithium-ion batteries with combined external resistive PTC film heating and internal pulse charge/discharge heating. The LIB cell, consisting of layers of pouch units and resistive heating films at each side, is modeled with DFN electrochemical model combined with a 1D thermal model. Deep reinforcement learning is used to optimize the amplitude of the pulse heating and the voltage of the PTC to achieve fast heating while avoiding a significant temperature gradients in the LIB. The optimization results demonstrate that it is possible to achieve a fast temperature rise without causing a significant temperature gradient by modulating the pulse and PTC control parameters. The two heating methods complement each other in the sense that the pulse component help to reduce the energy rating of the auxiliary power source for the PTC heating, and the PTC heating help to achieve effective pulse heating by quickly bring the LIB to states ideal for pulse heating. The RL optimization of the combined heating outputs the schedule of a maximum possible pulse current amplitude (for LIB’s temperature and SOC) and a PTC voltage profile that can be translated into a simple rule for practical implementations.\n\nFuture works includes experimental verification of these finds on a prototype system as well as further pareto front studies to clarify trade-offs in the design of the system.\n\nReferences\n\nAbdolmaleki et al. (2018) Abdolmaleki, A., Springenberg, J.T., Tassa, Y., Munos, R., Heess, N., and Riedmiller, M. (2018). Maximum a posteriori policy optimisation. 6th International Conference on Learning Representations, ICLR 2018 - Conference Track Proceedings.\n\nDu et al. (2018) Du, J., Chen, Z., and Li, F. (2018). Multi-objective optimization discharge method for heating lithium-ion battery at low temperatures. IEEE Access, 6. 10.1109/ACCESS.2018.2837652.\n\nGao et al. (2020) Gao, X., Zhou, Y.N., Han, D., Zhou, J., Zhou, D., Tang, W., and Goodenough, J.B. (2020). Thermodynamic understanding of li-dendrite formation. 10.1016/j.joule.2020.06.016.\n\nHuang et al. (2000) Huang, C., Sakamoto, J., Wolfenstine, J., and Surampudi, S. (2000). The limits of low-temperature performance of li-ion cells. Journal of the electrochemical society, 147.\n\nJi and Wang (2013) Ji, Y. and Wang, C.Y. (2013). Heating strategies for li-ion batteries operated from subzero temperatures. Electrochimica Acta, 107, 664–674. 10.1016/j.electacta.2013.03.147.\n\nJin et al. (2016) Jin, X., Li, J.Q., Zhang, C.N., and Wu, P.E. (2016). Researches on Modeling and Experiment of Li-ion Battery PTC Self-heating in Electric Vehicles. Energy Procedia, 104, 62–67. 10.1016/j.egypro.2016.12.012.\n\nLei et al. (2015) Lei, Z., ZHANG, C., LI, J., FAN, G., and LIN, Z. (2015). Preheating method of lithium-ion batteries in an electric vehicle. Journal of Modern Power Systems and Clean Energy, 3, 289–296. 10.1007/s40565-015-0115-1.\n\nMarquis et al. (2019) Marquis, S.G., Sulzer, V., Timms, R., Please, C.P., and Chapman, S.J. (2019). An Asymptotic Derivation of a Single Particle Model with Electrolyte. Journal of The Electrochemical Society, 166(15), A3693–A3706. 10.1149/2.0341915jes.\n\nMohan et al. (2016) Mohan, S., Kim, Y., and Stefanopoulou, A.G. (2016). Energy-Conscious Warm-Up of Li-Ion Cells from Subzero Temperatures. IEEE Transactions on Industrial Electronics, 63(5), 2954–2964. 10.1109/TIE.2016.2523440.\n\nMuzaffar et al. (2019) Muzaffar, A., Ahamed, M.B., Deshmukh, K., and Thirumalai, J. (2019). A review on recent advances in hybrid supercapacitors: Design, fabrication and applications. Renewable and Sustainable Energy Reviews, 101, 123–145. 10.1016/J.RSER.2018.10.026.\n\nPark et al. (2020) Park, S., Pozzi, A., Whitmeyer, M., Perez, H., Joe, W.T., Raimondo, D.M., and Moura, S. (2020). Reinforcement learning-based fast charging control strategy for li-ion batteries. CCTA 2020 - 4th IEEE Conference on Control Technology and Applications, 100–107. 10.1109/CCTA41146.2020.9206314.\n\nPlett (2015) Plett, G.L. (2015). Battery Management Systems, Volume I: Battery Modeling, volume 1.\n\nQin et al. (2020) Qin, Y., Du, J., Lu, L., Gao, M., Haase, F., Li, J., and Ouyang, M. (2020). A rapid lithium-ion battery heating method based on bidirectional pulsed current: Heating effect and impact on battery life. Applied Energy, 280, 115957. 10.1016/j.apenergy.2020.115957.\n\nRatnakumar et al. (2001) Ratnakumar, B.V., Smart, M.C., and Surampudi, S. (2001). Effects of sei on the kinetics of lithium intercalation. Journal of Power Sources, 97-98, 137–139. 10.1016/S0378-7753(01)00682-6.\n\nSchulman et al. (2017) Schulman, J., Wolski, F., Dhariwal, P., Radford, A., and Klimov, O. (2017). Proximal Policy Optimization Algorithms. 1–12.\n\nSmart et al. (1999) Smart, M.C., Ratnakumar, B.V., and Surampudi, S. (1999). Electrolytes for low‐temperature lithium batteries based on ternary mixtures of aliphatic carbonates. Journal of The Electrochemical Society, 146. 10.1149/1.1391633.\n\nStuart and Hande (2004) Stuart, T.A. and Hande, A. (2004). Hev battery heating using ac currents. Journal of Power Sources, 129. 10.1016/j.jpowsour.2003.10.014.\n\nSulzer et al. (2021) Sulzer, V., Marquis, S.G., Timms, R., Robinson, M., and Chapman, S.J. (2021). Python battery mathematical modelling (pybamm). Journal of Open Research Software, 9(1), 14. 10.5334/jors.309.\n\nThomas et al. (2002) Thomas, K.E., Newman, J., and Darling, R.M. (2002). Mathematical modeling of lithium batteries. In Advances in lithium-ion batteries, 345–392. Springer.\n\nYang et al. (2017) Yang, X.G., Leng, Y., Zhang, G., Ge, S., and Wang, C.Y. (2017). Modeling of lithium plating induced aging of lithium-ion batteries: Transition from linear to nonlinear aging. Journal of Power Sources, 360, 28–40. 10.1016/j.jpowsour.2017.05.110.\n\nYang and Wang (2018) Yang, X.G. and Wang, C.Y. (2018). Understanding the trilemma of fast charging, energy density and cycle life of lithium-ion batteries. Journal of Power Sources, 402, 489–498. 10.1016/j.jpowsour.2018.09.069."
    }
}