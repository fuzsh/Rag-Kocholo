{
    "id": "dbpedia_6155_0",
    "rank": 91,
    "data": {
        "url": "https://begriffs.com/posts/2017-05-17-openbsd-workstation-guide.html",
        "read_more_link": "",
        "language": "en",
        "title": "OpenBSD Workstation Guide",
        "top_image": "https://begriffs.com/images/comp/preview.jpg",
        "meta_img": "https://begriffs.com/images/comp/preview.jpg",
        "images": [
            "https://begriffs.com/images/icon/github.svg",
            "https://begriffs.com/images/icon/envelope-o.svg",
            "https://begriffs.com/images/icon/rss.svg",
            "https://begriffs.com/images/comp/tower-sm.png",
            "https://begriffs.com/images/comp/gpu-sm.jpg",
            "https://begriffs.com/images/comp/ups-sm.jpg",
            "https://begriffs.com/images/comp/keyboard-sm.jpg",
            "https://begriffs.com/images/comp/printer-sm.jpg",
            "https://begriffs.com/images/comp/monitor-sm.png",
            "https://begriffs.com/images/comp/eink-sm.jpg",
            "https://begriffs.com/images/comp/hdmi-cap-sm.jpg",
            "https://begriffs.com/images/comp/soundcard-sm.jpg",
            "https://begriffs.com/images/comp/mixer-sm.jpg",
            "https://begriffs.com/images/comp/mic-sm.jpg",
            "https://begriffs.com/images/comp/tapedrive-sm.jpg",
            "https://begriffs.com/images/comp/scsi-sm.png",
            "https://begriffs.com/images/comp/jaguar-sm.jpg",
            "https://begriffs.com/images/comp/bitbabbler-sm.jpg",
            "https://begriffs.com/images/comp/smartcard-sm.jpg",
            "https://begriffs.com/images/comp/pinpad-sm.jpg"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": "2017-05-17T00:00:00",
        "summary": "",
        "meta_description": "Put away the toys and code like a real hacker",
        "meta_lang": "en",
        "meta_favicon": "../images/icon/apple-touch-icon.png",
        "meta_site_name": "",
        "canonical_link": null,
        "text": "So Iâve gone a little overboard collecting notes about what seems to me to be an ideal OpenBSD workstation for hackers. Everything from hardware to software. Thought Iâd share it with you all because many of the items on the list were a surprise to me, and I think youâll enjoy them. Feel free to write me and suggest even better ideas.\n\nWill I actually build it? Who knows, but the research has been fun and educational in an OCD kind of way.\n\nDesign Goals\n\nUser actions should complete instantaneously. While I understand if compiling code and rendering videos takes time, opening programs and moving windows should have no observable delay. The system should use minimalist tools.\n\nCorollary: cache data offline when possible. Everything from OpenStreetMaps to StackExchange can be stored locally. No reason to repeatedly hit the internet to query them. This also improves privacy because the initial download is indiscriminate and doesnât reveal personal queries or patterns of computer activity.\n\nNo idling program should use a perceptible amount of CPU. Why does CalendarAgent on my Macbook sometimes use 150% CPU for fifteen minutes? Who knows. Why are background ChromeHelpers chugging along at upper-single-digit CPU? I didnât realize that holding a rendered DOM could be so challenging.\n\nAvoid interpreted languages, web-based desktop apps, and JavaScript garbage. There, I said it. Take your Electron apps with you to /dev/null!\n\nStability. Old fashioned programs on a conservative OS on quality mainstream hardware. There are enough challenges to tackle without a bleeding edge system being one of them.\n\nDelegate to quality hardware components. Why use a janky ncurses software audio mixer when you can useâ¦an actual audio mixer?\n\nHardware privacy. No cameras or microphones that I canât physically disconnect. Also real hardware protection for cryptographic keys.\n\nSoftware privacy. Commercial software and operating systems have gotten so terrible about this. I even catch Mac command line tools trying to call Google Analytics. Sorry homebrew, your cute emojis donât make up for the surveillance.\n\nThe Hardware\n\nCore\n\nTo get the best hardware for the money Iâm opting for a desktop computer. Havenât had one since the early 2000s and it feels anachronistic, but it will outperform a laptop of similar cost.\n\nAfter much searching, I found the HP Z240 Tower Workstation. Itâs no-nonsense and supports exactly the customizations I was looking for:\n\nNo operating system pre-loaded (Cut out the âWindows taxâ)\n\nIntel Xeon E3-1270 v6 processor (Supports ECC ram)\n\n16 GB (2x8 GB) DDR4-2400 ECC Unbuffered memory (2400Mhz is the full memory clock speed supported by the Xeon)\n\n256 GB HP Z Turbo Drive G2 PCIe SSD (Uses NVMe rather than SATA for faster throughput, supported by nvme(4))\n\nNo graphics card (Weâll add our own)\n\nIntelÂ® Ethernet I210-T1 PCIe (Supported by em(4))\n\nA modest discrete video card will enable 2D Glamor acceleration on X11. The Radeon HD 6450 (sold separately) is fanless and listed as supported by radeon(4).\n\nWhy build a solid computer and not protect it? Externally, the APC BR1300G UPS will protect the system from power surges and abrupt shutdowns.\n\nPeripherals\n\nYou type every day, donât hurt your wrists. The Matias Ergo Pro uses mechanical switches for that old fashioned clicky sound. It also includes dedicated buttons along the side for copying and pasting. Why is that cool? Well, it improves secondary selection, a technique that Sun computers used but time forgot.\n\nSince weâre talking about a home office workstation, you may want a printer. The higher quality printers speak PostScript and PDF natively. Unix machines connect to them on TCP port 9100 and send PostScript commands directly. (You can print via telnet if you know the commands!) The Brother HL-L5100DN is a duplex laser printer which allows that ârawâ TCP printing.\n\n(Note that the unit sold on Amazon includes a spy sensor called Dash Replenishment that phones home to Amazon. You will want your router to block this printer from connecting to the internet.)\n\nAudio/Video\n\nI know a lot of people enjoy surrounding themselves with a wall of monitors like theyâre in the heart of NASA Mission Control, but I find multi-monitor setups slightly disorienting. It introduces an extra bit of cognitive overhead to determine which monitor is for what exactly. Thatâs why Iâd go with a modest, crisp Dell UltraSharp 24â U2417H. Itâs 1080p and yeah there are 4k monitors nowadays, but text and icons are small enough as it is for me!\n\nIf I ever considered a second monitor it would be e-ink for comfortably reading electronic copies of books or long articles. The price is currently too high to justify the purchase, but the most promising monitor seems to be the Dasung Paperlike.\n\nIn the other direction, video input, itâs more flexible to use a general-purpose HDMI capture box like the Rongyuxuan than settle on a particular webcam. This allows hooking up a real camera, or any other video device. This capture card uses the UVC interface supported by uvideo(4).\n\nAlthough the motherboard for this system has built-in audio, we should use a card with better OpenBSD support. The WBTUO PCIe card uses a C-Media CMI8768 chipset, handled by cmpci(4). The card provides S/PDIFF in and out ports if you ever want to use an external DAC or ADC.\n\nThe way to connect it with other things is with a dedicated hardware mixer. The Behringer Xenyx 802 has all the connections needed, and the ability to route audio to and from the computer and a variety of devices at once. The mixer may seem an odd peripheral, but I want to mix the computer with an old fashioned CD player, ham radio gear, and amplifier so this unifies the audio setup.\n\nWhen doing remote pair programming or video team meetings itâs nice to have a quality microphone. The best ones for this kind of work are directional, with a cardioid reception pattern. The MXL 770 condenser mic is perfect, and uses a powered XLR connection supplied by the mixer.\n\nBackups\n\nWeâre going dead simple and old-school, back to tapes. There are a set of tape standards called LTO-n. As n increases the tape capacity gets bigger, but the tape drive gets more expensive. In my opinion the best balance these days for the home user is LTO-3. You can usually find an HP Ultrium 960 LTO-3 on eBay for 150 dollars. The cartridges hold 800GB and are about 15 dollars apiece. Hard drives keep coming down in price, but these tapes are very cheap and simpler than keeping a bunch of disk drives. Also tape has proven longevity, and good recoverability.\n\nTo use old fashioned tech like this you need a SCSI host bus adapter like the Adaptec 29320LPE, supported by ahd(4).\n\nCryptography\n\nYou donât want to generate and store secret keys on a general purpose network attached computer. The attack surface is a mile wide. Generating or manipulating âofflineâ secret keys needs to happen on a separate computer with no network access.\n\nLittle boards like the Raspberry Pi would be good except they use ARM processors (incompatible with Tails OS) and have wifi. The JaguarBoard is a small x86 machine with no wireless capability. Just switch the keyboard and monitor over to this machine for your âcleanroom.â\n\nGenerating keys requires entropy. The Linux kernel on Tails samples system properties to generate randomness, but why not help it out with a dedicated true random number generator (TRNG)? Bit Babbler supplies pure randomness at a high bitrate through USB. (OneRNG works better on the OpenBSD main system, via uonerng(4).)\n\nThis little computer will save its results onto a OpenPGP Smartcard V2.1. This card provides write-only access to keys, and computes cryptographic primitives internally to sign and encrypt messages. To use it with a regular computer, hook up a Cherry ST2000 card reader. This reader has a PIN pad built in, so no keylogger on the main computer could even obtain your decryption PIN.\n\nThe Software\n\nWe take the beefed up hardware above and pair it with ninja-fast software written in C. Some text-based, others raw X11 graphical apps unencumbered by ties to any specific window manager.\n\nIâd advise OpenBSD for the underlying operating system, not a Linux. OpenBSD has greater internal consistency, their man pages are impeccable, and they make it a priority to prune old code to keep the system minimal.\n\nNow the programs. There are too many items to elaborate on each, but hereâs the list. Many were created by suckless and reviewed by inconsolation."
    }
}