{
    "id": "dbpedia_2918_2",
    "rank": 14,
    "data": {
        "url": "https://groups.google.com/g/cubesat-space-protocol/c/UzflEAvElWE",
        "read_more_link": "",
        "language": "en",
        "title": "Using CSP on windows and avr studio",
        "top_image": "https://www.gstatic.com/images/branding/product/1x/groups_32dp.png",
        "meta_img": "https://www.gstatic.com/images/branding/product/1x/groups_32dp.png",
        "images": [
            "https://fonts.gstatic.com/s/i/productlogos/groups/v9/web-48dp/logo_groups_color_1x_web_48dp.png",
            "https://lh3.googleusercontent.com/a/default-user=s40-c",
            "https://lh3.googleusercontent.com/a-/ALV-UjVbgYIbeZzHrdVXxCKdhPlv3EGSa37Q0WZX3hg1nIbpJ7wF2g=s40-c",
            "https://lh3.googleusercontent.com/a/default-user=s40-c",
            "https://lh3.googleusercontent.com/a/default-user=s40-c",
            "https://lh3.googleusercontent.com/a/default-user=s40-c",
            "https://lh3.googleusercontent.com/a/default-user=s40-c",
            "https://lh3.googleusercontent.com/a/default-user=s40-c",
            "https://lh3.googleusercontent.com/a/default-user=s40-c",
            "https://lh3.googleusercontent.com/a/default-user=s40-c",
            "https://lh3.googleusercontent.com/a-/ALV-UjVbgYIbeZzHrdVXxCKdhPlv3EGSa37Q0WZX3hg1nIbpJ7wF2g=s40-c",
            "https://lh3.googleusercontent.com/a-/ALV-UjVdXEDAm_51h5ULgIBa4f0bO55RkbowFCzlblN2-tFcq_U9VVTf=s40-c",
            "https://lh3.googleusercontent.com/a-/ALV-UjVbgYIbeZzHrdVXxCKdhPlv3EGSa37Q0WZX3hg1nIbpJ7wF2g=s40-c",
            "https://lh3.googleusercontent.com/a-/ALV-UjVdXEDAm_51h5ULgIBa4f0bO55RkbowFCzlblN2-tFcq_U9VVTf=s40-c",
            "https://lh3.googleusercontent.com/a-/ALV-UjVbgYIbeZzHrdVXxCKdhPlv3EGSa37Q0WZX3hg1nIbpJ7wF2g=s40-c"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "",
        "meta_lang": "en",
        "meta_favicon": "//www.gstatic.com/images/branding/product/1x/groups_32dp.png",
        "meta_site_name": "",
        "canonical_link": "https://groups.google.com/g/cubesat-space-protocol/c/UzflEAvElWE",
        "text": "Johan (GomSpace)\n\nunread,\n\nto cubesat-space-protocol\n\nYou'll need a the avr-gcc + avr-libc compiler and toolchain installed\n\nand in your PATH environment variable\n\nYou can either choose to link against the compiled library or you can\n\ninclude the source files into your project.\n\nI suggest that you compile libcsp separately using the included python\n\ncompile script called 'waf'.\n\nThe steps to compile is:\n\npython waf --configure\n\npython waf build\n\nThis should produce a file called libcsp.a that you should place in a\n\nlib folder within your avrstudio project, and link with your code.\n\nYou also need to copy the include files into your avrstudio project.\n\nUse waf --configure help in order to see a list of available options\n\nto libcsp.\n\nIf you want the script to automatically install the library and\n\nheaders into your project you can do like this\n\npython waf --configure --prefix=c:\\path\\to\\my\\project\\\n\npython waf build\n\npython waf install\n\nThat should do it.\n\nHappy programming.\n\nî—“\n\nahmed\n\nunread,\n\nto cubesat-space-protocol\n\n/media/DATA/AVRtrials/as4e-ide/ahmed/lololoy/Debug/../lol.c:141:\n\nundefined reference to `usleep'\n\nlol.o: In function `main':\n\n/media/DATA/AVRtrials/as4e-ide/ahmed/lololoy/Debug/../lol.c:193:\n\nundefined reference to `usleep'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(csp_thread.c.1.o): In function `csp_thread_create':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_thread.c:31: undefined reference to `pthread_create'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(csp_route.c.1.o): In function `csp_task_router':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/csp_route.c:\n\n275: undefined reference to `pthread_exit'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(csp_semaphore.c.1.o): In function `csp_bin_sem_post_isr':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_semaphore.c:164: undefined reference to `sem_getvalue'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_semaphore.c:164: undefined reference to `sem_post'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(csp_semaphore.c.1.o): In function `csp_bin_sem_wait':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_semaphore.c:143: undefined reference to `sem_wait'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_semaphore.c:143: undefined reference to `clock_gettime'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_semaphore.c:143: undefined reference to `sem_timedwait'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(csp_semaphore.c.1.o): In function `csp_bin_sem_remove':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_semaphore.c:110: undefined reference to `sem_destroy'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(csp_semaphore.c.1.o): In function `csp_bin_sem_create':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_semaphore.c:103: undefined reference to `sem_init'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(csp_semaphore.c.1.o): In function `csp_mutex_unlock':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_semaphore.c:94: undefined reference to `pthread_mutex_unlock'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(csp_semaphore.c.1.o): In function `csp_mutex_lock':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_semaphore.c:86: undefined reference to `pthread_mutex_lock'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_semaphore.c:86: undefined reference to `clock_gettime'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_semaphore.c:86: undefined reference to `pthread_mutex_timedlock'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(csp_semaphore.c.1.o): In function `csp_mutex_remove':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_semaphore.c:53: undefined reference to `pthread_mutex_destroy'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(csp_semaphore.c.1.o): In function `csp_mutex_create':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_semaphore.c:45: undefined reference to `pthread_mutex_init'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(csp_system.c.1.o): In function `csp_sys_reboot':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_system.c:59: undefined reference to `sync'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_system.c:59: undefined reference to `reboot'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_system.c:59: undefined reference to `__errno_location'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(csp_system.c.1.o): In function `csp_sys_memfree':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_system.c:46: undefined reference to `sysinfo'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(csp_time.c.1.o): In function `csp_get_s':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_time.c:50: undefined reference to `clock_gettime'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(csp_time.c.1.o): In function `csp_get_ms':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\ncsp_time.c:37: undefined reference to `clock_gettime'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(pthread_queue.c.1.o): In function `pthread_queue_items':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\npthread_queue.c:169: undefined reference to `pthread_mutex_lock'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\npthread_queue.c:169: undefined reference to `pthread_mutex_unlock'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(pthread_queue.c.1.o): In function `pthread_queue_dequeue':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\npthread_queue.c:159: undefined reference to `clock_gettime'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\npthread_queue.c:159: undefined reference to `pthread_mutex_lock'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\npthread_queue.c:159: undefined reference to `pthread_cond_timedwait'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\npthread_queue.c:159: undefined reference to `pthread_mutex_unlock'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\npthread_queue.c:159: undefined reference to `pthread_cond_broadcast'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(pthread_queue.c.1.o): In function `pthread_queue_enqueue':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\npthread_queue.c:117: undefined reference to `clock_gettime'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\npthread_queue.c:117: undefined reference to `pthread_mutex_lock'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\npthread_queue.c:117: undefined reference to `pthread_cond_timedwait'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\npthread_queue.c:117: undefined reference to `pthread_mutex_unlock'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\npthread_queue.c:117: undefined reference to `pthread_cond_broadcast'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/\n\nlibcsp.a(pthread_queue.c.1.o): In function `pthread_queue_create':\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\npthread_queue.c:62: undefined reference to `pthread_mutex_init'\n\n/media/DATA/AVRtrials/GomSpace-libcsp-206debd/build/../src/arch/posix/\n\npthread_queue.c:62: undefined reference to `pthread_cond_init'\n\ncollect2: ld returned 1 exit status\n\nBuild error occurred, build is stopped\n\nTime consumed: 311 ms.\n\nî—“\n\nJohan (GomSpace)\n\nunread,\n\nto cubesat-space-protocol\n\nAfter reading a bit about RTEMS i see that this already supports the\n\nPOSIX api which CSP is ported to.\n\nHowever, in order to be exact CSP is ported to libPthreads. So the\n\nbest thing would be to\n\nwrite a new port for the RTEMS based on the POSIX one, because i'm\n\nsure there will be some differences from Pthreads on linux to RTEMS\n\nalthough they both claim to be a POSIX standard :)\n\nAll in all it should only take a few hours to port the following\n\nfiles:\n\ncsp_malloc.c - Very easy, csp_malloc() should just call malloc()\n\ncsp_queue.c - csp_queue_enqueue should call RTEMS queue function\n\ncsp_semaphore.c - Same as above\n\ncsp_system.c - wrappers for cpu_reset, process list and memfree\n\ncsp_thread.c - only simple thread create needed\n\ncsp_time.c - report system time and uptime.\n\nThe easiest way to get started is to make a github user and fork the\n\nproject.\n\nAs soon as you have it tested it will be included upstream also, along\n\nwith some information on how to build for RTEMS.\n\nRegards,\n\nJohan.\n\nOn Feb 21, 1:45 pm, Jinesh Ramachandran <jinesh...@gmail.com> wrote:\n\n> Hi Johan,\n\n>\n\n> I have not been following this thread completely, but interesting to\n\n> note that you can port the lib for other RTOS. What are your thoughts on\n\n> RTEMS? Is there any integration done on this already? RTEMS is mostly used\n\n> in all ESA missions and we have been RTEMS for a long time. It would be\n\n> nice to know whether this is a possibility.\n\n>\n\n> We have been thinking to buy GOM Space board and this is one of the crucial\n\n> things.\n\n>\n\n> Thanks,\n\n> Jinesh\n\n>\n\n> On 21 February 2012 12:03, Johan Christiansen <johan.declavi...@gmail.com>wrote:\n\n>\n\n>\n\n>\n\n>\n\n>\n\n>\n\n>\n\n> > 2012/2/18 ahmed <ahmedo...@gmail.com>\n\nî—“"
    }
}