USER INTERFACE FOR MANAGING ACCESS TO

CREDENTIALS FOR USE IN AN OPERATION

CROSS-REFERENCE TO RELATED APPLICATIONS

[0001] This application claims priority to U.S. Provisional Application Serial No. 62/412,819, filed October 25, 2016, entitled "USER INTERFACE FOR MANAGING ACCESS TO

CREDENTIALS FOR USE IN AN OPERATION," to U.S. Provisional Application Serial No. 62/413,300, filed October 26, 2016, entitled "USER INTERFACE FOR MANAGING ACCESS TO CREDENTIALS FOR USE IN AN OPERATION," and to U.S. Application Serial No.

15/782,068, filed October 12, 2017, entitled "USER INTERFACE FOR MANAGING ACCESS TO CREDENTIALS FOR USE IN AN OPERATION," the contents of which are hereby incorporated by reference in their entireties.

[0002] This application also relates to U.S. Patent Application No. 15/256,959, titled "DATA VERIFICATION VIA INDEPENDENT PROCESSORS OF A DEVICE," filed September 6, 2016, the contents of which are hereby incorporated by reference in their entirety and are also included in their entirety as Appendix A. This application also relates to U.S. Provisional Patent No. 62/368,988, titled "SYSTEMS, DEVICES, AND METHODS FOR DYNAMICALLY PROVIDING USER INTERFACE CONTROLS AT A TOUCH-SENSITIVE SECONDARY DISPLAY," filed July 29, 2016, the contents of which are hereby incorporated in its entirety, and of which FIGS. 1A-2D, 17A-17G and paragraphs [00233] -[00252], [00454]-[00455] are included as Appendix B. This application also relates to U.S. Provisional Patent No. 62/338,994, titled "REMOTE AUTHORIZATION TO PROCEED WITH AN ACTION," filed May 19, 2016, U.S. Provisional Patent No. 62/347,852, titled "REMOTE AUTHORIZATION TO

PROCEED WITH AN ACTION," filed June 9, 2016, and U.S. Patent Application No.

15/269,801, titled "USER INTERFACE FOR A DEVICE REQUESTING REMOTE

AUTHORIZATION," filed September 19, 2016, portions of which are included as Appendix C, the contents of each of which are hereby incorporated by reference in their entirety. FIELD

[0003] The present disclosure relates generally to computer user interfaces, and more specifically to techniques for managing access to credentials for use in an operation for which authorization is required.

BACKGROUND

[0004] The use of electronic devices for storing and accessing credentials has increased significantly in recent years. Typically, a user provides authorization for accessing the stored credentials by entering a password at a keyboard of the device. Although the user entering the password expects that the input device (e.g., the keyboard) and software receiving the password are not misappropriating the password, the user cannot be sure. For example, a pop-up window of an unscrupulous website may mimic a respected website to trick the user into entering password information or other sensitive information that the user does not intend to share with the unscrupulous website.

BRIEF SUMMARY

[0005] Some techniques for managing access to credentials for use in an operation using electronic devices, however, are generally cumbersome and inefficient. For example, some existing techniques use a complex and time-consuming user interface, which may include multiple key presses or keystrokes. Existing techniques may be less secure than desired and often require more time than necessary, wasting user time and device energy. This latter consideration is particularly important in battery-operated devices.

[0006] Accordingly, the present techniques and electronic devices provide faster, more secure, and more efficient methods and interfaces for managing access to credentials for use in operations for which authorization is required. Such methods and interfaces optionally complement or replace other methods for managing access to credentials for use in an operation for which authorization is required. Such methods and interfaces reduce the cognitive burden on a user and produce a more efficient human-machine interface. For battery-operated computing devices, such methods and interfaces conserve power and increase the time between battery charges. In addition, such methods and interfaces reduce the number of inputs required at an electronic device, such a laptop computer, authorizing the release of credentials for use in an operation for which authorization is required. Further, such methods and interfaces provide enhanced security for operations performed at an electronic device that involve the use of user credentials, such as personal data, account data, and/or other private information.

[0007] In accordance with some embodiments, a method performed at an electronic device with a first display, a second display, one or more input devices, and a secure element is described. The method comprises: receiving a request for credentials for an operation for which authorization is required; in response to receiving the request for credentials: displaying, on the first display, a parameters interface for the operation for which authorization is required; while displaying the parameters interface, displaying, on the second display, a visual indication of one or more steps to be taken to authorize the operation; receiving, using the one or more input devices, input that corresponds to the visual indication of the one or more steps; and in response to receiving the input, in accordance with a determination that the input is consistent with authorization criteria, causing credentials to be released from the secure element for use in the operation.

[0008] In accordance with some embodiments, a non-transitory computer-readable storage medium is described. The non-transitory computer-readable storage medium stores one or more programs configured to be executed by one or more processors of an electronic device with a first display, a second display, one or more input devices, and a secure element, the one or more programs including instructions for: receiving a request for credentials for an operation for which authorization is required; in response to receiving the request for credentials: displaying, on the first display, a parameters interface for the operation for which authorization is required; while displaying the parameters interface, displaying, on the second display, a visual indication of one or more steps to be taken to authorize the operation; receiving, using the one or more input devices, input that corresponds to the visual indication of the one or more steps; and in response to receiving the input, in accordance with a determination that the input is consistent with authorization criteria, causing credentials to be released from the secure element for use in the operation. [0009] In accordance with some embodiments, a transitory computer-readable storage medium is described. The transitory computer-readable storage medium stores one or more programs configured to be executed by one or more processors of an electronic device with a first display, a second display, one or more input devices, and a secure element, the one or more programs including instructions for: receiving a request for credentials for an operation for which authorization is required; in response to receiving the request for credentials: displaying, on the first display, a parameters interface for the operation for which authorization is required; while displaying the parameters interface, displaying, on the second display, a visual indication of one or more steps to be taken to authorize the operation; receiving, using the one or more input devices, input that corresponds to the visual indication of the one or more steps; and in response to receiving the input, in accordance with a determination that the input is consistent with authorization criteria, causing credentials to be released from the secure element for use in the operation.

[0010] In accordance with some embodiments, an electronic device is described. The electronic device comprises: a first display; a second display; one or more input devices; a secure element; one or more processors; and a memory storing one or more programs configured to be executed by the one or more processors, the one or more programs including instructions for: receiving a request for credentials for an operation for which authorization is required; in response to receiving the request for credentials: displaying, on the first display, a parameters interface for the operation for which authorization is required; while displaying the parameters interface, displaying, on the second display, a visual indication of one or more steps to be taken to authorize the operation; receiving, using the one or more input devices, input that corresponds to the visual indication of the one or more steps; and in response to receiving the input, in accordance with a determination that the input is consistent with authorization criteria, causing credentials to be released from the secure element for use in the operation.

[0011] In accordance with some embodiments, an electronic device is described. The electronic device comprises: a first display; a second display; one or more input devices; a secure element; means for receiving a request for credentials for an operation for which authorization is required; means, in response to receiving the request for credentials, for: displaying, on the first display, a parameters interface for the operation for which authorization is required; while displaying the parameters interface, displaying, on the second display, a visual indication of one or more steps to be taken to authorize the operation; means for receiving, using the one or more input devices, input that corresponds to the visual indication of the one or more steps; and means, in response to receiving the input, in accordance with a determination that the input is consistent with authorization criteria, for causing credentials to be released from the secure element for use in the operation.

[0012] In accordance with some embodiments, a method performed at an electronic device with an input device for authorizing access to credentials is described. The method comprises: causing display of a user interface generated by the device on a display; while causing display of the user interface generated by the device on the display, receiving a request for credentials; and in response to receiving the request for credentials: in accordance with a determination that a first set of one or more criteria is met, the first set of one or more criteria including an input- disabled criterion that is met when the input device is not enabled for user input, causing display, on the display, of a visual indication of one or more steps to be taken to enable the input device for user input.

[0013] In accordance with some embodiments, a non-transitory computer-readable storage medium is described. The non-transitory computer-readable storage medium stores one or more programs configured to be executed by one or more processors of an electronic device with an input device for authorizing access to credentials, the one or more programs including

instructions for: causing display of a user interface generated by the device on a display; while causing display of the user interface generated by the device on the display, receiving a request for credentials; and in response to receiving the request for credentials: in accordance with a determination that a first set of one or more criteria is met, the first set of one or more criteria including an input-disabled criterion that is met when the input device is not enabled for user input, causing display, on the display, of a visual indication of one or more steps to be taken to enable the input device for user input.

[0014] In accordance with some embodiments, a transitory computer-readable storage medium is described. The transitory computer-readable storage medium stores one or more programs configured to be executed by one or more processors of an electronic device with an input device for authorizing access to credentials, the one or more programs including instructions for:

causing display of a user interface generated by the device on a display; while causing display of the user interface generated by the device on the display, receiving a request for credentials; and in response to receiving the request for credentials: in accordance with a determination that a first set of one or more criteria is met, the first set of one or more criteria including an input- disabled criterion that is met when the input device is not enabled for user input, causing display, on the display, of a visual indication of one or more steps to be taken to enable the input device for user input.

[0015] In accordance with some embodiments, an electronic device is described. The electronic device comprises: an input device for authorizing access to credentials; one or more processors; and a memory storing one or more programs configured to be executed by the one or more processors, the one or more programs including instructions for: causing display of a user interface generated by the device on a display; while causing display of the user interface generated by the device on the display, receiving a request for credentials; and in response to receiving the request for credentials: in accordance with a determination that a first set of one or more criteria is met, the first set of one or more criteria including an input-disabled criterion that is met when the input device is not enabled for user input, causing display, on the display, of a visual indication of one or more steps to be taken to enable the input device for user input.

[0016] In accordance with some embodiments, an electronic device is described. The electronic device comprises: an input device for authorizing access to credentials; means for causing display of a user interface generated by the device on a display; means, while causing display of the user interface generated by the device on the display, for receiving a request for credentials; and means, in response to receiving the request for credentials, for: in accordance with a determination that a first set of one or more criteria is met, the first set of one or more criteria including an input-disabled criterion that is met when the input device is not enabled for user input, causing display, on the display, of a visual indication of one or more steps to be taken to enable the input device for user input.

[0017] In accordance with some embodiments, a method performed at an electronic device with an integrated fingerprint sensor and a secure element is described. The method comprises: while a first account is actively logged into the electronic device: detecting, using the fingerprint sensor, a respective fingerprint; in accordance with a determination that a first set of one or more criteria is met, transitioning the electronic device such that the first account is no longer actively logged into the electronic device and such that a second account is actively logged into the electronic device; wherein the first set of one or more criteria includes: a first- mode criterion that is met when the electronic device is in a first mode, and a different- account-fingerprint criterion that is met when the respective fingerprint corresponds to the second account of the electronic device; in accordance with a determination that a second set of one or more criteria is met, causing credentials to be released from the secure element for use in the operation; and wherein the second set of one or more criteria includes: a second-mode criterion that is met when the electronic device is in a second mode, and a current-account-fingerprint criterion that is met when the respective fingerprint corresponds to the first account of the electronic device.

[0018] In accordance with some embodiments, a non-transitory computer-readable storage medium is described. The non-transitory computer-readable storage medium stores one or more programs configured to be executed by one or more processors of an electronic device with an integrated fingerprint sensor and a secure element, the one or more programs including instructions for: while a first account is actively logged into the electronic device: detecting, using the fingerprint sensor, a respective fingerprint; in accordance with a determination that a first set of one or more criteria is met, transitioning the electronic device such that the first account is no longer actively logged into the electronic device and such that a second account is actively logged into the electronic device; wherein the first set of one or more criteria includes: a first-mode criterion that is met when the electronic device is in a first mode, and a different- account-fingerprint criterion that is met when the respective fingerprint corresponds to the second account of the electronic device; in accordance with a determination that a second set of one or more criteria is met, causing credentials to be released from the secure element for use in the operation; and wherein the second set of one or more criteria includes: a second-mode criterion that is met when the electronic device is in a second mode, and a current- account- fingerprint criterion that is met when the respective fingerprint corresponds to the first account of the electronic device. [0019] In accordance with some embodiments, a transitory computer-readable storage medium is described. The transitory computer-readable storage medium stores one or more programs configured to be executed by one or more processors of an electronic device with an integrated fingerprint sensor and a secure element, the one or more programs including instructions for: while a first account is actively logged into the electronic device: detecting, using the fingerprint sensor, a respective fingerprint; in accordance with a determination that a first set of one or more criteria is met, transitioning the electronic device such that the first account is no longer actively logged into the electronic device and such that a second account is actively logged into the electronic device; wherein the first set of one or more criteria includes: a first- mode criterion that is met when the electronic device is in a first mode, and a different- account-fingerprint criterion that is met when the respective fingerprint corresponds to the second account of the electronic device; in accordance with a determination that a second set of one or more criteria is met, causing credentials to be released from the secure element for use in the operation; and wherein the second set of one or more criteria includes: a second-mode criterion that is met when the electronic device is in a second mode, and a current-account-fingerprint criterion that is met when the respective fingerprint corresponds to the first account of the electronic device.

[0020] In accordance with some embodiments, an electronic device is described. The electronic device comprises: an integrated fingerprint sensor; a secure element; one or more processors; and a memory storing one or more programs configured to be executed by the one or more processors, the one or more programs including instructions for: while a first account is actively logged into the electronic device: detecting, using the fingerprint sensor, a respective fingerprint; in accordance with a determination that a first set of one or more criteria is met, transitioning the electronic device such that the first account is no longer actively logged into the electronic device and such that a second account is actively logged into the electronic device; wherein the first set of one or more criteria includes: a first- mode criterion that is met when the electronic device is in a first mode, and a different-account-fingerprint criterion that is met when the respective fingerprint corresponds to the second account of the electronic device; in accordance with a determination that a second set of one or more criteria is met, causing credentials to be released from the secure element for use in the operation; and wherein the second set of one or more criteria includes: a second-mode criterion that is met when the electronic device is in a second mode, and a current-account-fingerprint criterion that is met when the respective fingerprint corresponds to the first account of the electronic device.

[0021] In accordance with some embodiments, an electronic device is described. The electronic device comprises: an integrated fingerprint sensor; a secure element; means, while a first account is actively logged into the electronic device, for: detecting, using the fingerprint sensor, a respective fingerprint; means, in accordance with a determination that a first set of one or more criteria is met, for transitioning the electronic device such that the first account is no longer actively logged into the electronic device and such that a second account is actively logged into the electronic device; wherein the first set of one or more criteria includes: a first- mode criterion that is met when the electronic device is in a first mode, and a different- account- fingerprint criterion that is met when the respective fingerprint corresponds to the second account of the electronic device; means, in accordance with a determination that a second set of one or more criteria is met, for causing credentials to be released from the secure element for use in the operation; and wherein the second set of one or more criteria includes: a second-mode criterion that is met when the electronic device is in a second mode, and a current- account- fingerprint criterion that is met when the respective fingerprint corresponds to the first account of the electronic device.

[0022] In accordance with some embodiments, an electronic device is described. The electronic device comprises: a first display unit; a second display unit; one or more input device units; a secure element unit; and a processing unit coupled to the first display unit, the second display unit, the one or more input device units, and the secure element unit, the processing unit configured to: receive, a request for credentials for an operation for which authorization is required; in response to receiving the request for credentials: enable display, on the first display unit, of a parameters interface for the operation for which authorization is required; while displaying the parameters interface, enable display, on the second display unit, of a visual indication of one or more steps to be taken to authorize the operation; receive, using the one or more input device units, input that corresponds to the visual indication of the one or more steps; and in response to receiving the input, in accordance with a determination that the input is consistent with authorization criteria, cause credentials to be released from the secure element unit for use in the operation. [0023] In accordance with some embodiments, an electronic device is described. The electronic device comprises: an input device unit for authorizing access to credentials; and a processing unit coupled to the input device unit, the processing unit configured to: cause display of a user interface generated by the device on a display unit; while causing display of the user interface generated by the device on the display unit, receive a request for credentials; and in response to receiving the request for credentials: in accordance with a determination that a first set of one or more criteria is met, the first set of one or more criteria including an input-disabled criterion that is met when the input device unit is not enabled for user input, cause display, on the display unit, of a visual indication of one or more steps to be taken to enable the input device unit for user input.

[0024] In accordance with some embodiments, an electronic device is described. The electronic device comprises: an integrated fingerprint sensor unit; a secure element unit; and a processing unit coupled to the integrated fingerprint sensor unit and the secure element unit, the processing unit configured to: while a first account is actively logged into the electronic device: detect, using the fingerprint sensor unit, a respective fingerprint; in accordance with a

determination that a first set of one or more criteria is met, transition the electronic device such that the first account is no longer actively logged into the electronic device and such that a second account is actively logged into the electronic device; wherein the first set of one or more criteria includes: a first- mode criterion that is met when the electronic device is in a first mode, and a different-account-fingerprint criterion that is met when the respective fingerprint corresponds to the second account of the electronic device; in accordance with a determination that a second set of one or more criteria is met, cause credentials to be released from the secure element unit for use in the operation; and wherein the second set of one or more criteria includes: a second-mode criterion that is met when the electronic device is in a second mode, and a current-account-fingerprint criterion that is met when the respective fingerprint corresponds to the first account of the electronic device.

[0025] Executable instructions for performing these functions are, optionally, included in a non-transitory computer-readable storage medium or other computer program product configured for execution by one or more processors. Executable instructions for performing these functions are, optionally, included in a transitory computer-readable storage medium or other computer program product configured for execution by one or more processors.

[0026] Thus, devices are provided with faster, more efficient and secure methods and interfaces for managing access to credentials for use in operations, thereby increasing the effectiveness, efficiency, and user satisfaction with such devices. Such methods and interfaces may complement or replace other methods for managing access to credentials.

DESCRIPTION OF THE FIGURES

[0027] For a better understanding of the various described embodiments, reference should be made to the Description of Embodiments below, in conjunction with the following drawings in which like reference numerals refer to corresponding parts throughout the figures.

[0028] FIG. 1A is a block diagram illustrating a portable multifunction device with a touch- sensitive display in accordance with some embodiments.

[0029] FIG. IB is a block diagram illustrating exemplary components for event handling in accordance with some embodiments.

[0030] FIG. 2 illustrates a portable multifunction device having a touch screen in accordance with some embodiments.

[0031] FIG. 3 is a block diagram of an exemplary multifunction device with a display and a touch-sensitive surface in accordance with some embodiments.

[0032] FIG. 4A illustrates an exemplary user interface for a menu of applications on a portable multifunction device in accordance with some embodiments.

[0033] FIG. 4B illustrates an exemplary user interface for a multifunction device with a touch- sensitive surface that is separate from the display in accordance with some embodiments.

[0034] FIG. 5A illustrates a personal electronic device in accordance with some embodiments.

[0035] FIG. 5B is a block diagram illustrating a personal electronic device in accordance with some embodiments. [0036] FIGS. 5C-5D illustrate exemplary components of a personal electronic device having a touch-sensitive display and intensity sensors in accordance with some embodiments.

[0037] FIGS. 5E-5H illustrate exemplary components and user interfaces of a personal electronic device in accordance with some embodiments.

[0038] FIGS. 5I-5N illustrate exemplary user interfaces for updating a dynamic input and output device, in accordance with some embodiments.

[0039] FIG. 6 illustrates exemplary devices connected via one or more communication channels, in accordance with some embodiments.

[0040] FIGS. 7A to 7D-10 illustrate exemplary devices and user interfaces for authorizing release of credentials for use in an operation for which authorization is required using an electronic device, in accordance with some embodiments.

[0041] FIGS. 8A-8B are a flow diagram illustrating methods for authorizing release of credentials for use in an operation for which authorization is required using an electronic device, in accordance with some embodiments

[0042] FIGS. 9A-1 to 9E-4 illustrate exemplary devices and user interfaces for causing display of one or more steps to be taken to enable an input device for user input, using an electronic device, in accordance with some embodiments.

[0043] FIGS. 10A-10D are a flow diagram illustrating methods for causing display of one or more steps to be taken to enable an input device for user input, using an electronic device, in accordance with some embodiments.

[0044] FIGS. 11A to 11M-4 illustrate exemplary devices and user interfaces for

disambiguating between commands to change the account that is actively logged-in on the device and commands to cause credentials to be released from the secure element, in accordance with some embodiments. [0045] FIGS. 12A-12B are a flow diagram illustrating methods for disambiguating between commands to change the account that is actively logged-in on the device and commands to cause credentials to be released from the secure element, in accordance with some embodiments.

[0046] FIGS. 13-15 illustrate functional block diagrams in accordance with some

embodiments.

DESCRIPTION OF EMBODIMENTS

[0047] The following description sets forth exemplary methods, parameters, and the like. It should be recognized, however, that such description is not intended as a limitation on the scope of the present disclosure but is instead provided as a description of exemplary embodiments.

[0048] There is a need for electronic devices that provide efficient methods and interfaces for managing access to credentials for use in an operation. For example, there is a need for efficient methods and interfaces for securely accessing credentials for use in an operation for which authorization is required. For another example, there is a need for efficient methods and interfaces for securely authenticating and enabling the release of credentials for an operation for which authorization is required. For another example, there is a need for efficient methods and interfaces for communicating with an external device to securely authorize the release of credentials when an input device for detecting authentication is not available. For another example, there is a need for efficient methods and interfaces for securely transitioning an actively logged-in account to a different account. Such techniques can reduce the cognitive burden on a user who requires access to credentials for use in an operation for which

authorization is required, thereby enhancing productivity. Further, such techniques can reduce processor usage and battery power otherwise wasted on redundant user inputs.

[0049] Below, FIGS. 1A-1B, 2, 3, 4A-4B, and 5A-5M provide a description of exemplary devices for performing the techniques for managing access to credentials for use in an operation. FIG. 6 illustrates exemplary devices connected via one or more communication channels, in accordance with some embodiments. FIGS. 7A to 7D-10 illustrate exemplary devices and user interfaces for authorizing release of credentials for use in an operation for which authorization is required. FIGS. 8A-8B are a flow diagram illustrating methods of authorizing release of credentials for use in an operation for which authorization is required. The user interfaces in FIGS. 7A to 7D-10 are used to illustrate the processes described below, including the processes in FIGS. 8A-8B. FIGS. 9A-1 to 9E-4 illustrate exemplary devices and user interfaces for causing display of one or more steps to be taken to enable an input device for user input. FIGS. 10A-10D are a flow diagram illustrating methods of causing display of one or more steps to be taken to enable an input device for user input, in accordance with some embodiments. The user interfaces in FIGS. 9A-1 to 9E-4 are used to illustrate the processes described below, including the processes in FIGS. 10A to 10D. FIGS. 11A to 11M-4 illustrate exemplary user interfaces for disambiguating between commands to change the account that is actively logged-in on the device and commands to cause credentials to be released from the secure element. FIGS. 12A- 12B are a flow diagram illustrating methods of disambiguating between commands to change the account that is actively logged-in on the device and commands to cause credentials to be released from the secure element. The user interfaces in FIGS. 11A to 11M-4 are used to illustrate the processes described below, including the processes in FIGS. 12A-12B.

[0050] Although the following description uses terms "first," "second," etc. to describe various elements, these elements should not be limited by the terms. These terms are only used to distinguish one element from another. For example, a first touch could be termed a second touch, and, similarly, a second touch could be termed a first touch, without departing from the scope of the various described embodiments. The first touch and the second touch are both touches, but they are not the same touch.

[0051] The terminology used in the description of the various described embodiments herein is for the purpose of describing particular embodiments only and is not intended to be limiting. As used in the description of the various described embodiments and the appended claims, the singular forms "a," "an," and "the" are intended to include the plural forms as well, unless the context clearly indicates otherwise. It will also be understood that the term "and/or" as used herein refers to and encompasses any and all possible combinations of one or more of the associated listed items. It will be further understood that the terms "includes," "including," "comprises," and/or "comprising," when used in this specification, specify the presence of stated features, integers, steps, operations, elements, and/or components, but do not preclude the presence or addition of one or more other features, integers, steps, operations, elements, components, and/or groups thereof.

[0052] The term "if is, optionally, construed to mean "when" or "upon" or "in response to determining" or "in response to detecting," depending on the context. Similarly, the phrase "if it is determined" or "if [a stated condition or event] is detected" is, optionally, construed to mean "upon determining" or "in response to determining" or "upon detecting [the stated condition or event]" or "in response to detecting [the stated condition or event]," depending on the context.

[0053] Embodiments of electronic devices, user interfaces for such devices, and associated processes for using such devices are described. In some embodiments, the device is a portable communications device, such as a mobile telephone, that also contains other functions, such as PDA and/or music player functions. Exemplary embodiments of portable multifunction devices include, without limitation, the iPhoneÂ®, iPod TouchÂ®, and iPadÂ® devices from Apple Inc. of Cupertino, California. Other portable electronic devices, such as laptops or tablet computers with touch- sensitive surfaces (e.g., touch screen displays and/or touchpads), are, optionally, used. It should also be understood that, in some embodiments, the device is not a portable

communications device, but is a desktop computer with a touch- sensitive surface (e.g., a touch screen display and/or a touchpad).

[0054] In the discussion that follows, an electronic device that includes a display and a touch- sensitive surface is described. It should be understood, however, that the electronic device optionally includes one or more other physical user-interface devices, such as a physical keyboard, a mouse, and/or a joystick.

[0055] The device typically supports a variety of applications, such as one or more of the following: a drawing application, a presentation application, a word processing application, a website creation application, a disk authoring application, a spreadsheet application, a gaming application, a telephone application, a video conferencing application, an e-mail application, an instant messaging application, a workout support application, a photo management application, a digital camera application, a digital video camera application, a web browsing application, a digital music player application, and/or a digital video player application. [0056] The various applications that are executed on the device optionally use at least one common physical user-interface device, such as the touch-sensitive surface. One or more functions of the touch-sensitive surface as well as corresponding information displayed on the device are, optionally, adjusted and/or varied from one application to the next and/or within a respective application. In this way, a common physical architecture (such as the touch-sensitive surface) of the device optionally supports the variety of applications with user interfaces that are intuitive and transparent to the user.

[0057] Attention is now directed toward embodiments of portable devices with touch- sensitive displays. FIG. 1A is a block diagram illustrating portable multifunction device 100 with touch- sensitive display system 112 in accordance with some embodiments. Touch- sensitive display 112 is sometimes called a "touch screen" for convenience and is sometimes known as or called a "touch-sensitive display system." Device 100 includes memory 102 (which optionally includes one or more computer-readable storage mediums), memory controller 122, one or more processing units (CPUs) 120, peripherals interface 118, RF circuitry 108, audio circuitry 110, speaker 111, microphone 113, input/output (I/O) subsystem 106, other input control devices 116, and external port 124. Device 100 optionally includes one or more optical sensors 164. Device 100 optionally includes one or more contact intensity sensors 165 for detecting intensity of contacts on device 100 (e.g., a touch- sensitive surface such as touch- sensitive display system 112 of device 100). Device 100 optionally includes one or more tactile output generators 167 for generating tactile outputs on device 100 (e.g., generating tactile outputs on a touch- sensitive surface such as touch-sensitive display system 112 of device 100 or touchpad 355 of device 300). These components optionally communicate over one or more communication buses or signal lines 103.

[0058] As used in the specification and claims, the term "intensity" of a contact on a touch- sensitive surface refers to the force or pressure (force per unit area) of a contact (e.g., a finger contact) on the touch- sensitive surface, or to a substitute (proxy) for the force or pressure of a contact on the touch- sensitive surface. The intensity of a contact has a range of values that includes at least four distinct values and more typically includes hundreds of distinct values (e.g., at least 256). Intensity of a contact is, optionally, determined (or measured) using various approaches and various sensors or combinations of sensors. For example, one or more force sensors underneath or adjacent to the touch-sensitive surface are, optionally, used to measure force at various points on the touch-sensitive surface. In some implementations, force measurements from multiple force sensors are combined (e.g., a weighted average) to determine an estimated force of a contact. Similarly, a pressure-sensitive tip of a stylus is, optionally, used to determine a pressure of the stylus on the touch- sensitive surface. Alternatively, the size of the contact area detected on the touch- sensitive surface and/or changes thereto, the capacitance of the touch- sensitive surface proximate to the contact and/or changes thereto, and/or the resistance of the touch- sensitive surface proximate to the contact and/or changes thereto are, optionally, used as a substitute for the force or pressure of the contact on the touch- sensitive surface. In some implementations, the substitute measurements for contact force or pressure are used directly to determine whether an intensity threshold has been exceeded (e.g., the intensity threshold is described in units corresponding to the substitute measurements). In some implementations, the substitute measurements for contact force or pressure are converted to an estimated force or pressure, and the estimated force or pressure is used to determine whether an intensity threshold has been exceeded (e.g., the intensity threshold is a pressure threshold measured in units of pressure). Using the intensity of a contact as an attribute of a user input allows for user access to additional device functionality that may otherwise not be accessible by the user on a reduced-size device with limited real estate for displaying affordances (e.g., on a touch-sensitive display) and/or receiving user input (e.g., via a touch-sensitive display, a touch- sensitive surface, or a physical/mechanical control such as a knob or a button).

[0059] As used in the specification and claims, the term "tactile output" refers to physical displacement of a device relative to a previous position of the device, physical displacement of a component (e.g., a touch- sensitive surface) of a device relative to another component (e.g., housing) of the device, or displacement of the component relative to a center of mass of the device that will be detected by a user with the user's sense of touch. For example, in situations where the device or the component of the device is in contact with a surface of a user that is sensitive to touch (e.g., a finger, palm, or other part of a user's hand), the tactile output generated by the physical displacement will be interpreted by the user as a tactile sensation corresponding to a perceived change in physical characteristics of the device or the component of the device. For example, movement of a touch- sensitive surface (e.g., a touch-sensitive display or trackpad) is, optionally, interpreted by the user as a "down click" or "up click" of a physical actuator button. In some cases, a user will feel a tactile sensation such as an "down click" or "up click" even when there is no movement of a physical actuator button associated with the touch-sensitive surface that is physically pressed (e.g., displaced) by the user's movements. As another example, movement of the touch- sensitive surface is, optionally, interpreted or sensed by the user as "roughness" of the touch-sensitive surface, even when there is no change in smoothness of the touch- sensitive surface. While such interpretations of touch by a user will be subject to the individualized sensory perceptions of the user, there are many sensory perceptions of touch that are common to a large majority of users. Thus, when a tactile output is described as corresponding to a particular sensory perception of a user (e.g., an "up click," a "down click," "roughness"), unless otherwise stated, the generated tactile output corresponds to physical displacement of the device or a component thereof that will generate the described sensory perception for a typical (or average) user.

[0060] It should be appreciated that device 100 is only one example of a portable multifunction device, and that device 100 optionally has more or fewer components than shown, optionally combines two or more components, or optionally has a different configuration or arrangement of the components. The various components shown in FIG. 1A are implemented in hardware, software, or a combination of both hardware and software, including one or more signal processing and/or application-specific integrated circuits.

[0061] Memory 102 optionally includes high-speed random access memory and optionally also includes non-volatile memory, such as one or more magnetic disk storage devices, flash memory devices, or other non-volatile solid-state memory devices. Memory controller 122 optionally controls access to memory 102 by other components of device 100.

[0062] Peripherals interface 118 can be used to couple input and output peripherals of the device to CPU 120 and memory 102. The one or more processors 120 run or execute various software programs and/or sets of instructions stored in memory 102 to perform various functions for device 100 and to process data. In some embodiments, peripherals interface 118, CPU 120, and memory controller 122 are, optionally, implemented on a single chip, such as chip 104. In some other embodiments, they are, optionally, implemented on separate chips. [0063] RF (radio frequency) circuitry 108 receives and sends RF signals, also called electromagnetic signals. RF circuitry 108 converts electrical signals to/from electromagnetic signals and communicates with communications networks and other communications devices via the electromagnetic signals. RF circuitry 108 optionally includes well-known circuitry for performing these functions, including but not limited to an antenna system, an RF transceiver, one or more amplifiers, a tuner, one or more oscillators, a digital signal processor, a CODEC chipset, a subscriber identity module (SIM) card, memory, and so forth. RF circuitry 108 optionally communicates with networks, such as the Internet, also referred to as the World Wide Web (WWW), an intranet and/or a wireless network, such as a cellular telephone network, a wireless local area network (LAN) and/or a metropolitan area network (MAN), and other devices by wireless communication. The RF circuitry 108 optionally includes well-known circuitry for detecting near field communication (NFC) fields, such as by a short-range communication radio. The wireless communication optionally uses any of a plurality of communications standards, protocols, and technologies, including but not limited to Global System for Mobile

Communications (GSM), Enhanced Data GSM Environment (EDGE), high-speed downlink packet access (HSDPA), high-speed uplink packet access (HSUPA), Evolution, Data-Only (EV- DO), HSPA, HSPA+, Dual-Cell HSPA (DC-HSPDA), long term evolution (LTE), near field communication (NFC), wideband code division multiple access (W-CDMA), code division multiple access (CDMA), time division multiple access (TDMA), Bluetooth, Bluetooth Low Energy (BTLE), Wireless Fidelity (Wi-Fi) (e.g., IEEE 802.11a, IEEE 802.11b, IEEE 802.1 lg, IEEE 802.11Î·, and/or IEEE 802.1 lac), voice over Internet Protocol (VoIP), Wi-MAX, a protocol for e-mail (e.g., Internet message access protocol (IMAP) and/or post office protocol (POP)), instant messaging (e.g., extensible messaging and presence protocol (XMPP), Session Initiation Protocol for Instant Messaging and Presence Leveraging Extensions (SIMPLE), Instant

Messaging and Presence Service (IMPS)), and/or Short Message Service (SMS), or any other suitable communication protocol, including communication protocols not yet developed as of the filing date of this document.

[0064] Audio circuitry 110, speaker 111, and microphone 113 provide an audio interface between a user and device 100. Audio circuitry 110 receives audio data from peripherals interface 118, converts the audio data to an electrical signal, and transmits the electrical signal to speaker 111. Speaker 111 converts the electrical signal to human-audible sound waves. Audio circuitry 110 also receives electrical signals converted by microphone 113 from sound waves. Audio circuitry 110 converts the electrical signal to audio data and transmits the audio data to peripherals interface 118 for processing. Audio data is, optionally, retrieved from and/or transmitted to memory 102 and/or RF circuitry 108 by peripherals interface 118. In some embodiments, audio circuitry 110 also includes a headset jack (e.g., 212, FIG. 2). The headset jack provides an interface between audio circuitry 110 and removable audio input/output peripherals, such as output-only headphones or a headset with both output (e.g., a headphone for one or both ears) and input (e.g., a microphone).

[0065] I/O subsystem 106 couples input/output peripherals on device 100, such as touch screen 112 and other input control devices 116, to peripherals interface 118. I/O subsystem 106 optionally includes display controller 156, optical sensor controller 158, intensity sensor controller 159, haptic feedback controller 161, and one or more input controllers 160 for other input or control devices. The one or more input controllers 160 receive/send electrical signals from/to other input control devices 116. The other input control devices 116 optionally include physical buttons (e.g., push buttons, rocker buttons, etc.), dials, slider switches, joysticks, click wheels, and so forth. In some alternate embodiments, input controller(s) 160 are, optionally, coupled to any (or none) of the following: a keyboard, an infrared port, a USB port, and a pointer device such as a mouse. The one or more buttons (e.g., 208, FIG. 2) optionally include an up/down button for volume control of speaker 111 and/or microphone 113. The one or more buttons optionally include a push button (e.g., 206, FIG. 2).

[0066] A quick press of the push button optionally disengages a lock of touch screen 112 or optionally begins a process that uses gestures on the touch screen to unlock the device, as described in U.S. Patent Application 11/322,549, "Unlocking a Device by Performing Gestures on an Unlock Image," filed December 23, 2005, U.S. Pat. No. 7,657,849, which is hereby incorporated by reference in its entirety. A longer press of the push button (e.g., 206) optionally turns power to device 100 on or off. The functionality of one or more of the buttons are, optionally, user-customizable. Touch screen 112 is used to implement virtual or soft buttons and one or more soft keyboards. [0067] Touch-sensitive display 112 provides an input interface and an output interface between the device and a user. Display controller 156 receives and/or sends electrical signals from/to touch screen 112. Touch screen 112 displays visual output to the user. The visual output optionally includes graphics, text, icons, video, and any combination thereof (collectively termed "graphics"). In some embodiments, some or all of the visual output optionally corresponds to user-interface objects.

[0068] Touch screen 112 has a touch-sensitive surface, sensor, or set of sensors that accepts input from the user based on haptic and/or tactile contact. Touch screen 112 and display controller 156 (along with any associated modules and/or sets of instructions in memory 102) detect contact (and any movement or breaking of the contact) on touch screen 112 and convert the detected contact into interaction with user-interface objects (e.g., one or more soft keys, icons, web pages, or images) that are displayed on touch screen 112. In an exemplary embodiment, a point of contact between touch screen 112 and the user corresponds to a finger of the user.

[0069] Touch screen 112 optionally uses LCD (liquid crystal display) technology, LPD (light emitting polymer display) technology, or LED (light emitting diode) technology, although other display technologies are used in other embodiments. Touch screen 112 and display controller 156 optionally detect contact and any movement or breaking thereof using any of a plurality of touch sensing technologies now known or later developed, including but not limited to capacitive, resistive, infrared, and surface acoustic wave technologies, as well as other proximity sensor arrays or other elements for determining one or more points of contact with touch screen 112. In an exemplary embodiment, projected mutual capacitance sensing technology is used, such as that found in the iPhoneÂ® and iPod TouchÂ® from Apple Inc. of Cupertino, California.

[0070] A touch-sensitive display in some embodiments of touch screen 112 is, optionally, analogous to the multi-touch sensitive touchpads described in the following U.S. Patents:

6,323,846 (Westerman et al.), 6,570,557 (Westerman et al.), and/or 6,677,932 (Westerman), and/or U.S. Patent Publication 2002/0015024A1, each of which is hereby incorporated by reference in its entirety. However, touch screen 112 displays visual output from device 100, whereas touch-sensitive touchpads do not provide visual output. [0071] A touch-sensitive display in some embodiments of touch screen 112 is described in the following applications: (1) U.S. Patent Application No. 11/381,313, "Multipoint Touch Surface Controller," filed May 2, 2006; (2) U.S. Patent Application No. 10/840,862, "Multipoint

Touchscreen," filed May 6, 2004; (3) U.S. Patent Application No. 10/903,964, "Gestures For Touch Sensitive Input Devices," filed July 30, 2004; (4) U.S. Patent Application No. 11/048,264, "Gestures For Touch Sensitive Input Devices," filed January 31, 2005; (5) U.S. Patent

Application No. 11/038,590, "Mode-Based Graphical User Interfaces For Touch Sensitive Input Devices," filed January 18, 2005; (6) U.S. Patent Application No. 11/228,758, "Virtual Input Device Placement On A Touch Screen User Interface," filed September 16, 2005; (7) U.S. Patent Application No. 11/228,700, "Operation Of A Computer With A Touch Screen Interface," filed September 16, 2005; (8) U.S. Patent Application No. 11/228,737, "Activating Virtual Keys Of A Touch-Screen Virtual Keyboard," filed September 16, 2005; and (9) U.S. Patent Application No. 11/367,749, "Multi-Functional Hand-Held Device," filed March 3, 2006. All of these applications are incorporated by reference herein in their entirety.

[0072] Touch screen 112 optionally has a video resolution in excess of 100 dpi. In some embodiments, the touch screen has a video resolution of approximately 160 dpi. The user optionally makes contact with touch screen 112 using any suitable object or appendage, such as a stylus, a finger, and so forth. In some embodiments, the user interface is designed to work primarily with finger-based contacts and gestures, which can be less precise than stylus-based input due to the larger area of contact of a finger on the touch screen. In some embodiments, the device translates the rough finger-based input into a precise pointer/cursor position or command for performing the actions desired by the user.

[0073] In some embodiments, in addition to the touch screen, device 100 optionally includes a touchpad (not shown) for activating or deactivating particular functions. In some embodiments, the touchpad is a touch- sensitive area of the device that, unlike the touch screen, does not display visual output. The touchpad is, optionally, a touch-sensitive surface that is separate from touch screen 112 or an extension of the touch-sensitive surface formed by the touch screen.

[0074] Device 100 also includes power system 162 for powering the various components. Power system 162 optionally includes a power management system, one or more power sources (e.g., battery, alternating current (AC)), a recharging system, a power failure detection circuit, a power converter or inverter, a power status indicator (e.g., a light-emitting diode (LED)) and any other components associated with the generation, management and distribution of power in portable devices.

[0075] Device 100 optionally also includes one or more optical sensors 164. FIG. 1A shows an optical sensor coupled to optical sensor controller 158 in I/O subsystem 106. Optical sensor 164 optionally includes charge-coupled device (CCD) or complementary metal-oxide semiconductor (CMOS) phototransistors. Optical sensor 164 receives light from the

environment, projected through one or more lenses, and converts the light to data representing an image. In conjunction with imaging module 143 (also called a camera module), optical sensor 164 optionally captures still images or video. In some embodiments, an optical sensor is located on the back of device 100, opposite touch screen display 112 on the front of the device so that the touch screen display is enabled for use as a viewfinder for still and/or video image acquisition. In some embodiments, an optical sensor is located on the front of the device so that the user's image is, optionally, obtained for video conferencing while the user views the other video conference participants on the touch screen display. In some embodiments, the position of optical sensor 164 can be changed by the user (e.g., by rotating the lens and the sensor in the device housing) so that a single optical sensor 164 is used along with the touch screen display for both video conferencing and still and/or video image acquisition.

[0076] Device 100 optionally also includes one or more contact intensity sensors 165.

FIG. 1A shows a contact intensity sensor coupled to intensity sensor controller 159 in I/O subsystem 106. Contact intensity sensor 165 optionally includes one or more piezoresistive strain gauges, capacitive force sensors, electric force sensors, piezoelectric force sensors, optical force sensors, capacitive touch- sensitive surfaces, or other intensity sensors (e.g., sensors used to measure the force (or pressure) of a contact on a touch-sensitive surface). Contact intensity sensor 165 receives contact intensity information (e.g., pressure information or a proxy for pressure information) from the environment. In some embodiments, at least one contact intensity sensor is collocated with, or proximate to, a touch- sensitive surface (e.g., touch- sensitive display system 112). In some embodiments, at least one contact intensity sensor is located on the back of device 100, opposite touch screen display 112, which is located on the front of device 100.

[0077] Device 100 optionally also includes one or more proximity sensors 166. FIG. 1A shows proximity sensor 166 coupled to peripherals interface 118. Alternately, proximity sensor 166 is, optionally, coupled to input controller 160 in I/O subsystem 106. Proximity sensor 166 optionally performs as described in U.S. Patent Application Nos. 11/241,839, "Proximity Detector In Handheld Device"; 11/240,788, "Proximity Detector In Handheld Device";

11/620,702, "Using Ambient Light Sensor To Augment Proximity Sensor Output"; 11/586,862, "Automated Response To And Sensing Of User Activity In Portable Devices"; and 11/638,251, "Methods And Systems For Automatic Configuration Of Peripherals," which are hereby incorporated by reference in their entirety. In some embodiments, the proximity sensor turns off and disables touch screen 112 when the multifunction device is placed near the user's ear (e.g., when the user is making a phone call).

[0078] Device 100 optionally also includes one or more tactile output generators 167. FIG. 1A shows a tactile output generator coupled to haptic feedback controller 161 in I/O subsystem 106. Tactile output generator 167 optionally includes one or more electro acoustic devices such as speakers or other audio components and/or electromechanical devices that convert energy into linear motion such as a motor, solenoid, electroactive polymer, piezoelectric actuator, electrostatic actuator, or other tactile output generating component (e.g., a component that converts electrical signals into tactile outputs on the device). Contact intensity sensor 165 receives tactile feedback generation instructions from haptic feedback module 133 and generates tactile outputs on device 100 that are capable of being sensed by a user of device 100. In some embodiments, at least one tactile output generator is collocated with, or proximate to, a touch- sensitive surface (e.g., touch-sensitive display system 112) and, optionally, generates a tactile output by moving the touch- sensitive surface vertically (e.g., in/out of a surface of device 100) or laterally (e.g., back and forth in the same plane as a surface of device 100). In some

embodiments, at least one tactile output generator sensor is located on the back of device 100, opposite touch screen display 112, which is located on the front of device 100. [0079] Device 100 optionally also includes one or more accelerometers 168. FIG. 1A shows accelerometer 168 coupled to peripherals interface 118. Alternately, accelerometer 168 is, optionally, coupled to an input controller 160 in I/O subsystem 106. Accelerometer 168 optionally performs as described in U.S. Patent Publication No. 20050190059, "Acceleration- based Theft Detection System for Portable Electronic Devices," and U.S. Patent Publication No. 20060017692, "Methods And Apparatuses For Operating A Portable Device Based On An Accelerometer," both of which are incorporated by reference herein in their entirety. In some embodiments, information is displayed on the touch screen display in a portrait view or a landscape view based on an analysis of data received from the one or more accelerometers. Device 100 optionally includes, in addition to accelerometer(s) 168, a magnetometer (not shown) and a GPS (or GLONASS or other global navigation system) receiver (not shown) for obtaining information concerning the location and orientation (e.g., portrait or landscape) of device 100.

[0080] In some embodiments, the software components stored in memory 102 include operating system 126, communication module (or set of instructions) 128, contact/motion module (or set of instructions) 130, graphics module (or set of instructions) 132, text input module (or set of instructions) 134, Global Positioning System (GPS) module (or set of instructions) 135, and applications (or sets of instructions) 136. Furthermore, in some embodiments, memory 102 (FIG. 1A) or 370 (FIG. 3) stores device/global internal state 157, as shown in FIGS. 1A and 3. Device/global internal state 157 includes one or more of: active application state, indicating which applications, if any, are currently active; display state, indicating what applications, views or other information occupy various regions of touch screen display 112; sensor state, including information obtained from the device's various sensors and input control devices 116; and location information concerning the device's location and/or attitude.

[0081] Operating system 126 (e.g., Darwin, RTXC, LINUX, UNIX, OS X, iOS, WINDOWS, or an embedded operating system such as Vx Works) includes various software components and/or drivers for controlling and managing general system tasks (e.g., memory management, storage device control, power management, etc.) and facilitates communication between various hardware and software components. [0082] Communication module 128 facilitates communication with other devices over one or more external ports 124 and also includes various software components for handling data received by RF circuitry 108 and/or external port 124. External port 124 (e.g., Universal Serial Bus (USB), FIREWIRE, etc.) is adapted for coupling directly to other devices or indirectly over a network (e.g., the Internet, wireless LAN, etc.). In some embodiments, the external port is a multi-pin (e.g., 30-pin) connector that is the same as, or similar to and/or compatible with, the 30-pin connector used on iPodÂ® (trademark of Apple Inc.) devices.

[0083] Contact/motion module 130 optionally detects contact with touch screen 112 (in conjunction with display controller 156) and other touch-sensitive devices (e.g., a touchpad or physical click wheel). Contact/motion module 130 includes various software components for performing various operations related to detection of contact, such as determining if contact has occurred (e.g., detecting a finger-down event), determining an intensity of the contact (e.g., the force or pressure of the contact or a substitute for the force or pressure of the contact), determining if there is movement of the contact and tracking the movement across the touch- sensitive surface (e.g., detecting one or more finger-dragging events), and determining if the contact has ceased (e.g., detecting a finger-up event or a break in contact). Contact/motion module 130 receives contact data from the touch-sensitive surface. Determining movement of the point of contact, which is represented by a series of contact data, optionally includes determining speed (magnitude), velocity (magnitude and direction), and/or an acceleration (a change in magnitude and/or direction) of the point of contact. These operations are, optionally, applied to single contacts (e.g., one finger contacts) or to multiple simultaneous contacts (e.g., "multitouch'Vmultiple finger contacts). In some embodiments, contact/motion module 130 and display controller 156 detect contact on a touchpad.

[0084] In some embodiments, contact/motion module 130 uses a set of one or more intensity thresholds to determine whether an operation has been performed by a user (e.g., to determine whether a user has "clicked" on an icon). In some embodiments, at least a subset of the intensity thresholds are determined in accordance with software parameters (e.g., the intensity thresholds are not determined by the activation thresholds of particular physical actuators and can be adjusted without changing the physical hardware of device 100). For example, a mouse "click" threshold of a trackpad or touch screen display can be set to any of a large range of predefined threshold values without changing the trackpad or touch screen display hardware. Additionally, in some implementations, a user of the device is provided with software settings for adjusting one or more of the set of intensity thresholds (e.g., by adjusting individual intensity thresholds and/or by adjusting a plurality of intensity thresholds at once with a system-level click

"intensity" parameter).

[0085] Contact/motion module 130 optionally detects a gesture input by a user. Different gestures on the touch-sensitive surface have different contact patterns (e.g., different motions, timings, and/or intensities of detected contacts). Thus, a gesture is, optionally, detected by detecting a particular contact pattern. For example, detecting a finger tap gesture includes detecting a finger-down event followed by detecting a finger-up (liftoff) event at the same position (or substantially the same position) as the finger-down event (e.g., at the position of an icon). As another example, detecting a finger swipe gesture on the touch- sensitive surface includes detecting a finger-down event followed by detecting one or more finger-dragging events, and subsequently followed by detecting a finger-up (liftoff) event.

[0086] Graphics module 132 includes various known software components for rendering and displaying graphics on touch screen 112 or other display, including components for changing the visual impact (e.g., brightness, transparency, saturation, contrast, or other visual property) of graphics that are displayed. As used herein, the term "graphics" includes any object that can be displayed to a user, including, without limitation, text, web pages, icons (such as user-interface objects including soft keys), digital images, videos, animations, and the like.

[0087] In some embodiments, graphics module 132 stores data representing graphics to be used. Each graphic is, optionally, assigned a corresponding code. Graphics module 132 receives, from applications etc., one or more codes specifying graphics to be displayed along with, if necessary, coordinate data and other graphic property data, and then generates screen image data to output to display controller 156.

[0088] Haptic feedback module 133 includes various software components for generating instructions used by tactile output generator(s) 167 to produce tactile outputs at one or more locations on device 100 in response to user interactions with device 100. [0089] Text input module 134, which is, optionally, a component of graphics module 132, provides soft keyboards for entering text in various applications (e.g., contacts 137, e-mail 140, IM 141, browser 147, and any other application that needs text input).

[0090] GPS module 135 determines the location of the device and provides this information for use in various applications (e.g., to telephone 138 for use in location-based dialing; to camera 143 as picture/video metadata; and to applications that provide location-based services such as weather widgets, local yellow page widgets, and map/navigation widgets).

[0091] Applications 136 optionally include the following modules (or sets of instructions), or a subset or superset thereof:

â¢ Contacts module 137 (sometimes called an address book or contact list);

â¢ Telephone module 138;

â¢ Video conference module 139;

â¢ E-mail client module 140;

â¢ Instant messaging (IM) module 141;

â¢ Workout support module 142;

â¢ Camera module 143 for still and/or video images;

â¢ Image management module 144;

â¢ Video player module;

â¢ Music player module;

â¢ Browser module 147;

â¢ Calendar module 148; Widget modules 149, which optionally include one or more of: weather widget 149-1, stocks widget 149-2, calculator widget 149-3, alarm clock widget 149-4, dictionary widget 149-5, and other widgets obtained by the user, as well as user-created widgets 149-6;

Widget creator module 150 for making user-created widgets 149-6;

Search module 151;

Video and music player module 152, which merges video player module and music player module;

Notes module 153; Map module 154; and/or Online video module 155.

[0092] Examples of other applications 136 that are, optionally, stored in memory 102 include other word processing applications, other image editing applications, drawing applications, presentation applications, JAVA-enabled applications, encryption, digital rights management, voice recognition, and voice replication.

[0093] In conjunction with touch screen 112, display controller 156, contact/motion module 130, graphics module 132, and text input module 134, contacts module 137 are, optionally, used to manage an address book or contact list (e.g., stored in application internal state 192 of contacts module 137 in memory 102 or memory 370), including: adding name(s) to the address book; deleting name(s) from the address book; associating telephone number(s), e-mail address(es), physical address(es) or other information with a name; associating an image with a name;

categorizing and sorting names; providing telephone numbers or e-mail addresses to initiate and/or facilitate communications by telephone 138, video conference module 139, e-mail 140, or IM 141; and so forth.

[0094] In conjunction with RF circuitry 108, audio circuitry 110, speaker 111, microphone 113, touch screen 112, display controller 156, contact/motion module 130, graphics module 132, and text input module 134, telephone module 138 are optionally, used to enter a sequence of characters corresponding to a telephone number, access one or more telephone numbers in contacts module 137, modify a telephone number that has been entered, dial a respective telephone number, conduct a conversation, and disconnect or hang up when the conversation is completed. As noted above, the wireless communication optionally uses any of a plurality of communications standards, protocols, and technologies.

[0095] In conjunction with RF circuitry 108, audio circuitry 110, speaker 111, microphone 113, touch screen 112, display controller 156, optical sensor 164, optical sensor controller 158, contact/motion module 130, graphics module 132, text input module 134, contacts module 137, and telephone module 138, video conference module 139 includes executable instructions to initiate, conduct, and terminate a video conference between a user and one or more other participants in accordance with user instructions.

[0096] In conjunction with RF circuitry 108, touch screen 112, display controller 156, contact/motion module 130, graphics module 132, and text input module 134, e-mail client module 140 includes executable instructions to create, send, receive, and manage e-mail in response to user instructions. In conjunction with image management module 144, e-mail client module 140 makes it very easy to create and send e-mails with still or video images taken with camera module 143.

[0097] In conjunction with RF circuitry 108, touch screen 112, display controller 156, contact/motion module 130, graphics module 132, and text input module 134, the instant messaging module 141 includes executable instructions to enter a sequence of characters corresponding to an instant message, to modify previously entered characters, to transmit a respective instant message (for example, using a Short Message Service (SMS) or Multimedia Message Service (MMS) protocol for telephony-based instant messages or using XMPP, SIMPLE, or IMPS for Internet-based instant messages), to receive instant messages, and to view received instant messages. In some embodiments, transmitted and/or received instant messages optionally include graphics, photos, audio files, video files and/or other attachments as are supported in an MMS and/or an Enhanced Messaging Service (EMS). As used herein, "instant messaging" refers to both telephony-based messages (e.g., messages sent using SMS or MMS) and Internet-based messages (e.g., messages sent using XMPP, SIMPLE, or IMPS).

[0098] In conjunction with RF circuitry 108, touch screen 112, display controller 156, contact/motion module 130, graphics module 132, text input module 134, GPS module 135, map module 154, and music player module, workout support module 142 includes executable instructions to create workouts (e.g., with time, distance, and/or calorie burning goals);

communicate with workout sensors (sports devices); receive workout sensor data; calibrate sensors used to monitor a workout; select and play music for a workout; and display, store, and transmit workout data.

[0099] In conjunction with touch screen 112, display controller 156, optical sensor(s) 164, optical sensor controller 158, contact/motion module 130, graphics module 132, and image management module 144, camera module 143 includes executable instructions to capture still images or video (including a video stream) and store them into memory 102, modify

characteristics of a still image or video, or delete a still image or video from memory 102.

[0100] In conjunction with touch screen 112, display controller 156, contact/motion module 130, graphics module 132, text input module 134, and camera module 143, image management module 144 includes executable instructions to arrange, modify (e.g., edit), or otherwise manipulate, label, delete, present (e.g., in a digital slide show or album), and store still and/or video images.

[0101] In conjunction with RF circuitry 108, touch screen 112, display controller 156, contact/motion module 130, graphics module 132, and text input module 134, browser module 147 includes executable instructions to browse the Internet in accordance with user instructions, including searching, linking to, receiving, and displaying web pages or portions thereof, as well as attachments and other files linked to web pages.

[0102] In conjunction with RF circuitry 108, touch screen 112, display controller 156, contact/motion module 130, graphics module 132, text input module 134, e-mail client module 140, and browser module 147, calendar module 148 includes executable instructions to create, display, modify, and store calendars and data associated with calendars (e.g., calendar entries, to- do lists, etc.) in accordance with user instructions.

[0103] In conjunction with RF circuitry 108, touch screen 112, display controller 156, contact/motion module 130, graphics module 132, text input module 134, and browser module 147, widget modules 149 are mini-applications that are, optionally, downloaded and used by a user (e.g., weather widget 149-1, stocks widget 149-2, calculator widget 149-3, alarm clock widget 149-4, and dictionary widget 149-5) or created by the user (e.g., user-created widget 149- 6). In some embodiments, a widget includes an HTML (Hypertext Markup Language) file, a CSS (Cascading Style Sheets) file, and a JavaScript file. In some embodiments, a widget includes an XML (Extensible Markup Language) file and a JavaScript file (e.g., Yahoo! Widgets).

[0104] In conjunction with RF circuitry 108, touch screen 112, display controller 156, contact/motion module 130, graphics module 132, text input module 134, and browser module 147, the widget creator module 150 are, optionally, used by a user to create widgets (e.g., turning a user-specified portion of a web page into a widget).

[0105] In conjunction with touch screen 112, display controller 156, contact/motion module 130, graphics module 132, and text input module 134, search module 151 includes executable instructions to search for text, music, sound, image, video, and/or other files in memory 102 that match one or more search criteria (e.g., one or more user-specified search terms) in accordance with user instructions.

[0106] In conjunction with touch screen 112, display controller 156, contact/motion module 130, graphics module 132, audio circuitry 110, speaker 111, RF circuitry 108, and browser module 147, video and music player module 152 includes executable instructions that allow the user to download and play back recorded music and other sound files stored in one or more file formats, such as MP3 or AAC files, and executable instructions to display, present, or otherwise play back videos (e.g., on touch screen 112 or on an external, connected display via external port 124). In some embodiments, device 100 optionally includes the functionality of an MP3 player, such as an iPod (trademark of Apple Inc.). [0107] In conjunction with touch screen 112, display controller 156, contact/motion module 130, graphics module 132, and text input module 134, notes module 153 includes executable instructions to create and manage notes, to-do lists, and the like in accordance with user instructions.

[0108] In conjunction with RF circuitry 108, touch screen 112, display controller 156, contact/motion module 130, graphics module 132, text input module 134, GPS module 135, and browser module 147, map module 154 are, optionally, used to receive, display, modify, and store maps and data associated with maps (e.g., driving directions, data on stores and other points of interest at or near a particular location, and other location-based data) in accordance with user instructions.

[0109] In conjunction with touch screen 112, display controller 156, contact/motion module 130, graphics module 132, audio circuitry 110, speaker 111, RF circuitry 108, text input module 134, e-mail client module 140, and browser module 147, online video module 155 includes instructions that allow the user to access, browse, receive (e.g., by streaming and/or download), play back (e.g., on the touch screen or on an external, connected display via external port 124), send an e-mail with a link to a particular online video, and otherwise manage online videos in one or more file formats, such as H.264. In some embodiments, instant messaging module 141, rather than e-mail client module 140, is used to send a link to a particular online video.

Additional description of the online video application can be found in U.S. Provisional Patent Application No. 60/936,562, "Portable Multifunction Device, Method, and Graphical User Interface for Playing Online Videos," filed June 20, 2007, and U.S. Patent Application No. 11/968,067, "Portable Multifunction Device, Method, and Graphical User Interface for Playing Online Videos," filed December 31, 2007, the contents of which are hereby incorporated by reference in their entirety.

[0110] Each of the above-identified modules and applications corresponds to a set of executable instructions for performing one or more functions described above and the methods described in this application (e.g., the computer-implemented methods and other information processing methods described herein). These modules (e.g., sets of instructions) need not be implemented as separate software programs, procedures, or modules, and thus various subsets of these modules are, optionally, combined or otherwise rearranged in various embodiments. For example, video player module is, optionally, combined with music player module into a single module (e.g., video and music player module 152, FIG. 1A). In some embodiments, memory 102 optionally stores a subset of the modules and data structures identified above. Furthermore, memory 102 optionally stores additional modules and data structures not described above.

[0111] In some embodiments, device 100 is a device where operation of a predefined set of functions on the device is performed exclusively through a touch screen and/or a touchpad. By using a touch screen and/or a touchpad as the primary input control device for operation of device 100, the number of physical input control devices (such as push buttons, dials, and the like) on device 100 is, optionally, reduced.

[0112] The predefined set of functions that are performed exclusively through a touch screen and/or a touchpad optionally include navigation between user interfaces. In some embodiments, the touchpad, when touched by the user, navigates device 100 to a main, home, or root menu from any user interface that is displayed on device 100. In such embodiments, a "menu button" is implemented using a touchpad. In some other embodiments, the menu button is a physical push button or other physical input control device instead of a touchpad.

[0113] FIG. IB is a block diagram illustrating exemplary components for event handling in accordance with some embodiments. In some embodiments, memory 102 (FIG. 1A) or 370 (FIG. 3) includes event sorter 170 (e.g., in operating system 126) and a respective application 136-1 (e.g., any of the aforementioned applications 137-151, 155, 380-390).

[0114] Event sorter 170 receives event information and determines the application 136-1 and application view 191 of application 136-1 to which to deliver the event information. Event sorter 170 includes event monitor 171 and event dispatcher module 174. In some embodiments, application 136-1 includes application internal state 192, which indicates the current application view(s) displayed on touch-sensitive display 112 when the application is active or executing. In some embodiments, device/global internal state 157 is used by event sorter 170 to determine which application(s) is (are) currently active, and application internal state 192 is used by event sorter 170 to determine application views 191 to which to deliver event information. [0115] In some embodiments, application internal state 192 includes additional information, such as one or more of: resume information to be used when application 136-1 resumes execution, user interface state information that indicates information being displayed or that is ready for display by application 136-1, a state queue for enabling the user to go back to a prior state or view of application 136-1, and a redo/undo queue of previous actions taken by the user.

[0116] Event monitor 171 receives event information from peripherals interface 118. Event information includes information about a sub-event (e.g., a user touch on touch-sensitive display 112, as part of a multi-touch gesture). Peripherals interface 118 transmits information it receives from I/O subsystem 106 or a sensor, such as proximity sensor 166, accelerometer(s) 168, and/or microphone 113 (through audio circuitry 110). Information that peripherals interface 118 receives from I O subsystem 106 includes information from touch- sensitive display 112 or a touch-sensitive surface.

[0117] In some embodiments, event monitor 171 sends requests to the peripherals interface 118 at predetermined intervals. In response, peripherals interface 118 transmits event information. In other embodiments, peripherals interface 118 transmits event information only when there is a significant event (e.g., receiving an input above a predetermined noise threshold and/or for more than a predetermined duration).

[0118] In some embodiments, event sorter 170 also includes a hit view determination module 172 and/or an active event recognizer determination module 173.

[0119] Hit view determination module 172 provides software procedures for determining where a sub-event has taken place within one or more views when touch- sensitive display 112 displays more than one view. Views are made up of controls and other elements that a user can see on the display.

[0120] Another aspect of the user interface associated with an application is a set of views, sometimes herein called application views or user interface windows, in which information is displayed and touch-based gestures occur. The application views (of a respective application) in which a touch is detected optionally correspond to programmatic levels within a programmatic or view hierarchy of the application. For example, the lowest level view in which a touch is detected is, optionally, called the hit view, and the set of events that are recognized as proper inputs are, optionally, determined based, at least in part, on the hit view of the initial touch that begins a touch-based gesture.

[0121] Hit view determination module 172 receives information related to sub-events of a touch-based gesture. When an application has multiple views organized in a hierarchy, hit view determination module 172 identifies a hit view as the lowest view in the hierarchy which should handle the sub-event. In most circumstances, the hit view is the lowest level view in which an initiating sub-event occurs (e.g., the first sub-event in the sequence of sub-events that form an event or potential event). Once the hit view is identified by the hit view determination module 172, the hit view typically receives all sub-events related to the same touch or input source for which it was identified as the hit view.

[0122] Active event recognizer determination module 173 determines which view or views within a view hierarchy should receive a particular sequence of sub-events. In some

embodiments, active event recognizer determination module 173 determines that only the hit view should receive a particular sequence of sub-events. In other embodiments, active event recognizer determination module 173 determines that all views that include the physical location of a sub-event are actively involved views, and therefore determines that all actively involved views should receive a particular sequence of sub-events. In other embodiments, even if touch sub-events were entirely confined to the area associated with one particular view, views higher in the hierarchy would still remain as actively involved views.

[0123] Event dispatcher module 174 dispatches the event information to an event recognizer (e.g., event recognizer 180). In embodiments including active event recognizer determination module 173, event dispatcher module 174 delivers the event information to an event recognizer determined by active event recognizer determination module 173. In some embodiments, event dispatcher module 174 stores in an event queue the event information, which is retrieved by a respective event receiver 182.

[0124] In some embodiments, operating system 126 includes event sorter 170. Alternatively, application 136-1 includes event sorter 170. In yet other embodiments, event sorter 170 is a stand-alone module, or a part of another module stored in memory 102, such as contact/motion module 130.

[0125] In some embodiments, application 136-1 includes a plurality of event handlers 190 and one or more application views 191, each of which includes instructions for handling touch events that occur within a respective view of the application's user interface. Each application view 191 of the application 136-1 includes one or more event recognizers 180. Typically, a respective application view 191 includes a plurality of event recognizers 180. In other embodiments, one or more of event recognizers 180 are part of a separate module, such as a user interface kit (not shown) or a higher level object from which application 136-1 inherits methods and other properties. In some embodiments, a respective event handler 190 includes one or more of: data updater 176, object updater 177, GUI updater 178, and/or event data 179 received from event sorter 170. Event handler 190 optionally utilizes or calls data updater 176, object updater 177, or GUI updater 178 to update the application internal state 192. Alternatively, one or more of the application views 191 include one or more respective event handlers 190. Also, in some embodiments, one or more of data updater 176, object updater 177, and GUI updater 178 are included in a respective application view 191.

[0126] A respective event recognizer 180 receives event information (e.g., event data 179) from event sorter 170 and identifies an event from the event information. Event recognizer 180 includes event receiver 182 and event comparator 184. In some embodiments, event recognizer 180 also includes at least a subset of: metadata 183, and event delivery instructions 188 (which optionally include sub-event delivery instructions).

[0127] Event receiver 182 receives event information from event sorter 170. The event information includes information about a sub-event, for example, a touch or a touch movement. Depending on the sub-event, the event information also includes additional information, such as location of the sub-event. When the sub-event concerns motion of a touch, the event information optionally also includes speed and direction of the sub-event. In some embodiments, events include rotation of the device from one orientation to another (e.g., from a portrait orientation to a landscape orientation, or vice versa), and the event information includes corresponding information about the current orientation (also called device attitude) of the device. [0128] Event comparator 184 compares the event information to predefined event or sub-event definitions and, based on the comparison, determines an event or sub-event, or determines or updates the state of an event or sub-event. In some embodiments, event comparator 184 includes event definitions 186. Event definitions 186 contain definitions of events (e.g., predefined sequences of sub-events), for example, event 1 (187-1), event 2 (187-2), and others. In some embodiments, sub-events in an event (187) include, for example, touch begin, touch end, touch movement, touch cancellation, and multiple touching. In one example, the definition for event 1 (187-1) is a double tap on a displayed object. The double tap, for example, comprises a first touch (touch begin) on the displayed object for a predetermined phase, a first liftoff (touch end) for a predetermined phase, a second touch (touch begin) on the displayed object for a

predetermined phase, and a second liftoff (touch end) for a predetermined phase. In another example, the definition for event 2 (187-2) is a dragging on a displayed object. The dragging, for example, comprises a touch (or contact) on the displayed object for a predetermined phase, a movement of the touch across touch-sensitive display 112, and liftoff of the touch (touch end). In some embodiments, the event also includes information for one or more associated event handlers 190.

[0129] In some embodiments, event definition 187 includes a definition of an event for a respective user-interface object. In some embodiments, event comparator 184 performs a hit test to determine which user-interface object is associated with a sub-event. For example, in an application view in which three user-interface objects are displayed on touch- sensitive display 112, when a touch is detected on touch-sensitive display 112, event comparator 184 performs a hit test to determine which of the three user-interface objects is associated with the touch (sub- event). If each displayed object is associated with a respective event handler 190, the event comparator uses the result of the hit test to determine which event handler 190 should be activated. For example, event comparator 184 selects an event handler associated with the sub- event and the object triggering the hit test.

[0130] In some embodiments, the definition for a respective event (187) also includes delayed actions that delay delivery of the event information until after it has been determined whether the sequence of sub-events does or does not correspond to the event recognizer's event type. [0131] When a respective event recognizer 180 determines that the series of sub-events do not match any of the events in event definitions 186, the respective event recognizer 180 enters an event impossible, event failed, or event ended state, after which it disregards subsequent sub- events of the touch-based gesture. In this situation, other event recognizers, if any, that remain active for the hit view continue to track and process sub-events of an ongoing touch-based gesture.

[0132] In some embodiments, a respective event recognizer 180 includes metadata 183 with configurable properties, flags, and/or lists that indicate how the event delivery system should perform sub-event delivery to actively involved event recognizers. In some embodiments, metadata 183 includes configurable properties, flags, and/or lists that indicate how event recognizers interact, or are enabled to interact, with one another. In some embodiments, metadata 183 includes configurable properties, flags, and/or lists that indicate whether sub- events are delivered to varying levels in the view or programmatic hierarchy.

[0133] In some embodiments, a respective event recognizer 180 activates event handler 190 associated with an event when one or more particular sub-events of an event are recognized. In some embodiments, a respective event recognizer 180 delivers event information associated with the event to event handler 190. Activating an event handler 190 is distinct from sending (and deferred sending) sub-events to a respective hit view. In some embodiments, event recognizer 180 throws a flag associated with the recognized event, and event handler 190 associated with the flag catches the flag and performs a predefined process.

[0134] In some embodiments, event delivery instructions 188 include sub-event delivery instructions that deliver event information about a sub-event without activating an event handler. Instead, the sub-event delivery instructions deliver event information to event handlers associated with the series of sub-events or to actively involved views. Event handlers associated with the series of sub-events or with actively involved views receive the event information and perform a predetermined process.

[0135] In some embodiments, data updater 176 creates and updates data used in application

136-1. For example, data updater 176 updates the telephone number used in contacts module

137, or stores a video file used in video player module. In some embodiments, object updater 177 creates and updates objects used in application 136-1. For example, object updater 177 creates a new user-interface object or updates the position of a user-interface object. GUI updater 178 updates the GUI. For example, GUI updater 178 prepares display information and sends it to graphics module 132 for display on a touch-sensitive display.

[0136] In some embodiments, event handler(s) 190 includes or has access to data updater 176, object updater 177, and GUI updater 178. In some embodiments, data updater 176, object updater 177, and GUI updater 178 are included in a single module of a respective application 136-1 or application view 191. In other embodiments, they are included in two or more software modules.

[0137] It shall be understood that the foregoing discussion regarding event handling of user touches on touch- sensitive displays also applies to other forms of user inputs to operate multifunction devices 100 with input devices, not all of which are initiated on touch screens. For example, mouse movement and mouse button presses, optionally coordinated with single or multiple keyboard presses or holds; contact movements such as taps, drags, scrolls, etc. on touchpads; pen stylus inputs; movement of the device; oral instructions; detected eye

movements; biometric inputs; and/or any combination thereof are optionally utilized as inputs corresponding to sub-events which define an event to be recognized.

[0138] FIG. 2 illustrates a portable multifunction device 100 having a touch screen 112 in accordance with some embodiments. The touch screen optionally displays one or more graphics within user interface (UI) 200. In this embodiment, as well as others described below, a user is enabled to select one or more of the graphics by making a gesture on the graphics, for example, with one or more fingers 202 (not drawn to scale in the figure) or one or more styluses 203 (not drawn to scale in the ure). In some embodiments, selection of one or more graphics occurs when the user breaks contact with the one or more graphics. In some embodiments, the gesture optionally includes one or more taps, one or more swipes (from left to right, right to left, upward and/or downward), and/or a rolling of a finger (from right to left, left to right, upward and/or downward) that has made contact with device 100. In some implementations or circumstances, inadvertent contact with a graphic does not select the graphic. For example, a swipe gesture that sweeps over an application icon optionally does not select the corresponding application when the gesture corresponding to selection is a tap.

[0139] Device 100 optionally also include one or more physical buttons, such as "home" or menu button 204. As described previously, menu button 204 is, optionally, used to navigate to any application 136 in a set of applications that are, optionally, executed on device 100.

Alternatively, in some embodiments, the menu button is implemented as a soft key in a GUI displayed on touch screen 112.

[0140] In some embodiments, device 100 includes touch screen 112, menu button 204, push button 206 for powering the device on/off and locking the device, volume adjustment button(s) 208, subscriber identity module (SIM) card slot 210, headset jack 212, and docking/charging external port 124. Push button 206 is, optionally, used to turn the power on/off on the device by depressing the button and holding the button in the depressed state for a predefined time interval; to lock the device by depressing the button and releasing the button before the predefined time interval has elapsed; and/or to unlock the device or initiate an unlock process. In an alternative embodiment, device 100 also accepts verbal input for activation or deactivation of some functions through microphone 113. Device 100 also, optionally, includes one or more contact intensity sensors 165 for detecting intensity of contacts on touch screen 112 and/or one or more tactile output generators 167 for generating tactile outputs for a user of device 100.

[0141] FIG. 3 is a block diagram of an exemplary multifunction device with a display and a touch-sensitive surface in accordance with some embodiments. Device 300 need not be portable. In some embodiments, device 300 is a laptop computer, a desktop computer, a tablet computer, a multimedia player device, a navigation device, an educational device (such as a child's learning toy), a gaming system, or a control device (e.g., a home or 