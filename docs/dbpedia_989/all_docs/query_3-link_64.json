{
    "id": "dbpedia_989_3",
    "rank": 64,
    "data": {
        "url": "https://forum.gdevelop.io/t/have-a-less-impactful-way-for-performance-when-synchronize-frames-between-different-sprites/51638",
        "read_more_link": "",
        "language": "en",
        "title": "Have a less impactful way for performance when synchronize frames between different sprites",
        "top_image": "https://forum.gdevelop.io/uploads/default/original/3X/4/0/40fbec4f7ad61cb1a2deef24680d110568efa3eb.png",
        "meta_img": "https://forum.gdevelop.io/uploads/default/original/3X/4/0/40fbec4f7ad61cb1a2deef24680d110568efa3eb.png",
        "images": [
            "https://forum.gdevelop.io/images/emoji/apple/v.png?v=12",
            "https://forum.gdevelop.io/uploads/default/optimized/3X/4/0/40fbec4f7ad61cb1a2deef24680d110568efa3eb_2_690x142.png",
            "https://forum.gdevelop.io/uploads/default/original/3X/4/8/48784df9146eead7bab011507f98187edc93a57a.gif",
            "https://forum.gdevelop.io/uploads/default/optimized/3X/d/3/d38d61548494ccd83da1c6d64e87c284fc84d2c6_2_690x128.png",
            "https://forum.gdevelop.io/letter_avatar_proxy/v4/letter/r/ba8739/48.png",
            "https://forum.gdevelop.io/user_avatar/forum.gdevelop.io/keith_1357/48/30673_2.png",
            "https://forum.gdevelop.io/images/emoji/apple/eyes.png?v=12",
            "https://forum.gdevelop.io/user_avatar/forum.gdevelop.io/keith_1357/48/30673_2.png",
            "https://forum.gdevelop.io/user_avatar/forum.gdevelop.io/keith_1357/48/30673_2.png",
            "https://forum.gdevelop.io/user_avatar/forum.gdevelop.io/zerox4/48/31191_2.png",
            "https://forum.gdevelop.io/images/emoji/apple/thinking.png?v=12",
            "https://forum.gdevelop.io/user_avatar/forum.gdevelop.io/zerox4/48/31191_2.png",
            "https://forum.gdevelop.io/user_avatar/forum.gdevelop.io/zerox4/48/31191_2.png",
            "https://forum.gdevelop.io/user_avatar/forum.gdevelop.io/zerox4/48/31191_2.png",
            "https://forum.gdevelop.io/images/emoji/apple/eyes.png?v=12",
            "https://forum.gdevelop.io/uploads/default/original/3X/b/c/bcd671084cdd013a5b14c200b9c6e5230a569659.gif",
            "https://forum.gdevelop.io/uploads/default/original/3X/0/c/0c49ea65dcf8685d3a225922518f221e047e6886.gif",
            "https://forum.gdevelop.io/uploads/default/optimized/3X/b/4/b4833b8e636213557c4a160d8491f60257dc7e07_2_690x388.png",
            "https://forum.gdevelop.io/uploads/default/optimized/3X/9/5/955a31db7a5ac7d9dce0cbd8d41a812d9d3b8672_2_690x388.png",
            "https://forum.gdevelop.io/uploads/default/optimized/3X/e/8/e8f4223ed8afb77db246e2fd43ca008196d8baba_2_690x388.png",
            "https://forum.gdevelop.io/uploads/default/optimized/3X/8/1/814f1397efc7b3f5a8c0637977c9692b281bbed0_2_690x388.png",
            "https://gd.games/favicons/favicon-32x32.png",
            "https://forum.gdevelop.io/user_avatar/forum.gdevelop.io/zerox4/48/31191_2.png",
            "https://forum.gdevelop.io/images/emoji/apple/wink.png?v=12",
            "https://forum.gdevelop.io/images/emoji/apple/v.png?v=12",
            "https://forum.gdevelop.io/uploads/default/optimized/3X/c/3/c325b76d6a7d1753a39c6fc5d91ceb02820adaca_2_690x48.png",
            "https://forum.gdevelop.io/uploads/default/optimized/3X/f/e/fe408ce501ae03b2fad9299a2023aa6457603195_2_690x37.png",
            "https://forum.gdevelop.io/user_avatar/forum.gdevelop.io/zerox4/48/31191_2.png",
            "https://forum.gdevelop.io/letter_avatar_proxy/v4/letter/r/bbce88/48.png",
            "https://forum.gdevelop.io/images/emoji/apple/thinking.png?v=12",
            "https://forum.gdevelop.io/uploads/default/optimized/3X/5/f/5ffe350f4167db966c56c1957d73365dfbcdf9a8_2_690x47.png"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [
            "Silver-Streak"
        ],
        "publish_date": "2023-11-06T15:28:26+00:00",
        "summary": "",
        "meta_description": "Hello! :v: \nI was trying to solve a problem in my game when it cames in my mind that could be a good feature request. My Character can attack while he is walking because there is different sprites to his hand/weapon and &hellip;",
        "meta_lang": "en",
        "meta_favicon": "https://forum.gdevelop.io/uploads/default/optimized/1X/0344165e7f6a1db1adf720b2fdee28201a9079d3_2_32x32.png",
        "meta_site_name": "GDevelop Forum",
        "canonical_link": "https://forum.gdevelop.io/t/have-a-less-impactful-way-for-performance-when-synchronize-frames-between-different-sprites/51638",
        "text": "Hello!\n\nI was trying to solve a problem in my game when it cames in my mind that could be a good feature request. My Character can attack while he is walking because there is different sprites to his hand/weapon and the body. But after the attack animation over I need the hand/weapon come back to the same animation and frame of the body. It’s possible to make, but it won’t stay in sync, because part of the time of that frame in body is already passed and the hand will start the same frame from the beginning.\n\nExample with 2 objects that have the same animation “Numbers” and one will make the “attack”:\n\nResult:\n\nThe only way that I know how to fix this is set an event that constant check if the frames are sinc:\n\nAnd the problem is that this solution is not very good for game performance. I probably won’t have any issues with my game because it’s just a single sprite, but games with multiple sprites that need to be in sync may have issues. If there’s a better way to solve the problem that I don’t know about, I’ll be happy if someone teaches me!\n\nI’ve been thinking… Could another expression that returns both the frame and the time used in that frame be a solution?\n\nThanks!\n\nMaybe it’s me. I need an example.\n\nIs it like having 2 walking animations. One is wearing shoes and one isn’t. So, you want to sync it. IDK. That would be easy. Save the current frame number, change the animation, set the frame to the saved frame number.\n\nOr is it like having 2 sprites in motion. Say spinning gears. You want to bring them together while each is spinning but you need to sync them while they’re both spinning. So, the gear teeth align.\n\nThat would be tougher. You would have to either slightly speed one animation up or slow it down until they synced together. And then you would set them to the same speed.\n\nI’m assuming there’s already a formula for that. Maybe lerp or something.\n\nIMO, you can work hard to sync things perfectly but because it’s so small and happens so fast that the player probably wouldn’t even notice.\n\nNah you did not get it\n\nI mean performing same action on multiple objects will be performance heavy\n\nIt have nothing to do with syncing\n\nYou assume i meant syncing constantly but my idea here is that animation of all sprites is changing constantly\n\nThat’s why force example apply here also\n\nYou see on 2 sprites i would not see a problem on 200 i would start to see a problem\n\nNot because of 200 objects but because of all your crap running in background in your game and 200 objects changing animation constantly at the same time\n\nThat could be felt in your game performance if you would have much going on in it\n\nSince animation change alone would handle over 1k of objects without problem\n\nBut why to change 1k objects animations?\n\nYou would move them? Maybe walking units and that is already FPS drop\n\nSo bottom line is how many objects are we talking about and for how heavy game\n\nMy best idea to not sync all animations of all objects is to just perform same action for these objects\n\nInstead of trying to sync all objects to one object\n\nThis is all just speculation but in my eyes that would be most logical solution\n\n@Keith_1357\n\nBut I gave you an example . And the example in my comment shows, just placing the frame according to the frame of another object will not cause them to be synchronized.\n\nIt won’t bring the ideal effect, but it can be a solution for some people on certain occasions.\n\nI think it depends on the situation and speed of the animation. Although my sprite is small, 64x64, the movement of the arm with the weapon desynchronized is very evident and weird.\n\n@ZeroX4\n\nI assumed you were talking about synchronization because I was talking about synchronization . Anyway, lets move on\n\nThat’s why I said I probably don’t have issues with this, but people with multiple sprites syncing every frame maybe have impact on performance. So, that’s why I come with the feature request.\n\nI think this is not a good solution. I’d rather have a new expression to avoid the impact on performance and be much more practical than limiting the build of the game.\n\nI think you have a good point. Maybe only in more extreme cases it can be a real problem. Maybe I shouldn’t have tried to anticipate a possible problem that I don’t know if it’s a real problem since I don’t experience it in my game. But since I want my game to be mobile, I try to keep it as performant as I can. Maybe I overdid it a little bit this time…\n\n@Keith_1357 Evidence 1\n\nI would wish this idiots would sync walking animation\n\nYeah that would strip them of randomness and natural feel\n\nBut sole option to do so would be cool for various of situations\n\nImagine instead of “humans” i would have there robots\n\nAnd for purpose of whatever game i would be making syncing their animation to act as a “hive” would be cool\n\n@Rasterisko Evidence 2\n\nI am making auto tile extension\n\nAnd it works problem is i need to update ALL tiles on scene (not screen but whole map)\n\nAt once\n\nOr i can update only ones you see on screen then update again ones on screen if you move\n\nBoth solutions presents FPS lag\n\nThe more tiles i have on scene the more FPS drops when i create/destroy (hence update) tiles\n\nI found a way to update only ones that are adjacent to one created or destroyed but it is not so simple i need to change variables of tiles not 1 tile away from center tiles but for 1 and 2 tiles away in each direction from center tile when i create or destroy tile\n\nThen i need to update only ones that are 1 tiles away from center one\n\nOr i end up with this\n\nit is not accurate example but you see the problem that some tiles are not properly connecting to others\n\nAnd if i would only update variables of 1 tile away from center one and then update them than they would only connect to each other but not beyond that area\n\nThat why i need to change variables (to which i write from which side other tiles are touching center tile) of all tiles that are in red area\n\nBut update only ones that are in blue square\n\nI know exactly how to do that and hopefully extension will be FPS lag free\n\nBUUUUT not so much\n\nYou see problem is that when i start the game i will still need to update ALL tiles at once\n\nAnd if you really wanna see how changing animation of 342 objects at once (in upper left you have current number of tiles on scene/map) lags\n\nAnd that is not that much of tiles anyway\n\nIt is that much tiles\n\nNow imagine if i would have actual whole map filled with them\n\nWhere i will need to add water farmland dirt sand and few other tiles\n\nThat number would go way higher\n\nRight now it would be like idk 1 sec lag\n\nAt 1k tile that would be like 5 sec lag and it need to happen for all tiles after starting game to have proper animation (properly connect to other tiles)\n\nAnd i really can’t see any solution for that\n\nAnd that is only updating frames ONCE (i change frames on 1 single animation instead of having animation for each tile image)\n\nNow imagine syncing animation of 100 objects but changing constantly their animation\n\nThat would be cool underwater/moon speed effect\n\nSlug mode unlocked\n\nNow do you see real problem?\n\nIt is not about expression extension or a way to SYNC multiple objects at once\n\nIt is about doing something to multiple objects constantly\n\nThat is the issue and actual performance drain\n\nStill not convinced?\n\nLaunch it on your phone and shoot some UFO’s\n\nUFO’s move with forces\n\nWhile coins move with physics\n\nIt is not that much on screen\n\nIt is how much on screen is affected by something AT ONCE\n\nUnless you have powerful phone you will feel the struggle FPS is having\n\nSo this thread has gone into some odd tangents. Just to bring it back around I wanted to add some context:\n\nShort answer:\n\nAny logic that impacts all objects will have a performance impact.\n\nIt doesn’t matter if you’re manually setting an event that syncs the animation frame (As your screenshots show in the OP) or it’s some sort of backend behavior that is syncing them. The impact is the same, there is no reduction of overhead.\n\nMore context:\n\nKeep in mind that performance is not the same as order of operations. Even though you’re seeing some delays on your syncing (which I don’t have time to debug in more detail currently), that’s not a performance issue, that’s just an order of events item. You could potentially more evenly synchronize the order of operations by having a function or behavior that syncs their animations pre-event sheet with a lifecycle function, if you want.\n\nWhere you can get improvements is in your object selection. If you’re going to have multiple types of objects. A lot of people use “For each” when they really should be using the “Pick all” condition on a single event (Or no condition at all and just have it apply conditions as normal). For each will always be more performance heavy than the other scenarios, all other things being equal.\n\nDa fak\n\nWe come here to get clarification on something or learn something\n\nSo that is exact what we are doing here\n\nLook bottom line to my understanding and by computer logic\n\nIf you perform one action on one instance it is ok\n\nIf you perform same action on multiple instances then it will need more processing power and there is no way around it\n\nImagine thins like you have notepad ++\n\nYou can ctrl+f to enable find window\n\nYou can then go to find and replace tab and like search for word you want to replace with another word\n\nIF you have like 3 instances of that word it is ok\n\nBUT if you have 3000 instances of that word\n\nEven so text replacing is not so resource demanding process it will cumulate and you can feel like 1 sec lag before action is complete\n\nAnd same logic goes to everything in computer performance world\n\nBut what i wrote above is just covering one aspect of our conversation\n\nExplaining performance issue\n\nI am fully aware you are here to ask for method to just sync something to all instances of something\n\nAnd not be forced to manually set same action for multiple instances\n\nWe just get little side tracked here and nothing wrong in that\n\n@Silver-Streak, Hello, Silver! I haven’t seen you in a while!\n\nI only see delays in my synchronization if I try to sync it with conditions that make the event works only in one frame, like this:\n\nIn this event Red object will change animation to “Numbers” (the same animation as Black object is already playing in scene) and the same frame as Black, but since Black is already playing, part of the time of that frame for him has already been passed. So, with this event I can’t synchronize perfectly (in fact, it would even succeed on very rare occasions when the black object would have started its frame at the same moment).\n\nSo the simplest way that I know how to solve this is to have an event that performs synchronization constantly. And with this event I didn’t see any problems with the synchronization:\n\nAnd now the main point of this topic: can this be a problem for performance if someone is using a lot of objects that need to synchronize some animations? For example, enemies with 2 or 3 separate sprites that eventually change the animation to attack, damage, or something and resync with the animations of other sprites? If so, I think it might be a good idea to have a simple solution to it (maybe with an expression or extension like @Keith_1357 says) and be able to synchronize animations with events that only work one frame.\n\n@Keith_1357 and @ZeroX4 gave some good workarounds, but that’s it: workarounds. Again, for now I don’t know if there is a simple way to solve this.\n\nNo, that’s not my point. To synchronize multiple instances, we can use the groups as you said before. Look my explanation for Silver and see my point.\n\n@RMDB\n\nI don’t know if I get . Here’s an example of what I was imagining might be the solution:\n\nWe know that “FrameSync()” didn’t exist as an expression, but if it did, I’d expect that in addition to placing the same frame, it would also take into account the time that was spent on the object to be perfectly synchronized. But I liked the @Keith_1357 idea of having an extension for this instead of an expression. I think that would be a much better solution than this very strange and specific expression.\n\n@Rasterisko I was hoping my explanation of what you come here for was exact that\n\nFak\n\nThat is issue with me i try to explain fully what i mean and in the process when explaining multiple things i miss out some context and it seams like i meant something else\n\nBut problem here is that you ask for expression on extension because you are concern about performance\n\nSo let me repeat what me and others here told you already\n\nProblem is not in how you gonna perform it upon multiple objects\n\nProblem is on on how many objects you gonna perform it\n\nIt is not like there is difference will it be cascade effect or single strike\n\nIt is more like on how many objects it needs to be repeated which with each object means more processing power needed\n\nLook on one hand it would be cool to have expression like Object.CenterXY()\n\nInstead of you need to specify Object.CenterX() and Object.CenterY()\n\nBut that is just cutting how much you need to type\n\nAnd not improving performance\n\nAgain all comes down to on how many objects you would use it"
    }
}