{
    "id": "dbpedia_8592_1",
    "rank": 80,
    "data": {
        "url": "https://apps.fz-juelich.de/fdm/guide/installation/config.html",
        "read_more_link": "",
        "language": "en",
        "title": "Configuration — JÃ¼lich DATA documentation",
        "top_image": "",
        "meta_img": "",
        "images": [],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "",
        "meta_lang": "",
        "meta_favicon": "",
        "meta_site_name": "",
        "canonical_link": null,
        "text": "Network PortsÂ¶\n\nRemember how under âDecisions to Makeâ in the Preparation section we mentioned youâll need to make a decision about whether or not to introduce a proxy in front of Dataverse such as Apache or nginx? The time has come to make that decision.\n\nThe need to redirect port HTTP (port 80) to HTTPS (port 443) for security has already been mentioned above and the fact that Glassfish puts these services on 8080 and 8181, respectively, was touched on in the Installation section. In production, you donât want to tell your users to use Dataverse on ports 8080 and 8181. You should have them use the standard HTTPS port, which is 443.\n\nYour decision to proxy or not should primarily be driven by which features of Dataverse youâd like to use. If youâd like to use Shibboleth, the decision is easy because proxying or âfrontingâ Glassfish with Apache is required. The details are covered in the Shibboleth section.\n\nIf youâd like to use TwoRavens, you should also consider fronting with Apache because you will be required to install an Apache anyway to make use of the rApache module. For details, see the TwoRavens section.\n\nEven if you have no interest in Shibboleth nor TwoRavens, you may want to front Dataverse with Apache or nginx to simply the process of installing SSL certificates. There are many tutorials on the Internet for adding certs to Apache, including a some notes used by the Dataverse team, but the process of adding a certificate to Glassfish is arduous and not for the faint of heart. The Dataverse team cannot provide much help with adding certificates to Glassfish beyond linking to tips on the web.\n\nStill not convinced you should put Glassfish behind another web server? Even if you manage to get your SSL certificate into Glassfish, how are you going to run Glassfish on low ports such as 80 and 443? Are you going to run Glassfish as root? Bad idea. This is a security risk. Under âAdditional Recommendationsâ under âSecuring Your Installationâ above you are advised to configure Glassfish to run as a user other than root. (The Dataverse team will close https://github.com/IQSS/dataverse/issues/1934 after updating the Glassfish init script provided in the Prerequisites section to not require root.)\n\nThereâs also the issue of serving a production-ready version of robots.txt. By using a proxy such as Apache, this is a one-time âset it and forget itâ step as explained below in the âGoing Liveâ section.\n\nIf you are convinced youâd like to try fronting Glassfish with Apache, the Shibboleth section should be good resource for you.\n\nIf you really donât want to front Glassfish with any proxy (not recommended), you can configure Glassfish to run HTTPS on port 443 like this:\n\n./asadmin set server-config.network-config.network-listeners.network-listener.http-listener-2.port=443\n\nWhat about port 80? Even if you donât front Dataverse with Apache, you may want to let Apache run on port 80 just to rewrite HTTP to HTTPS as described above. You can use a similar command as above to change the HTTP port that Glassfish uses from 8080 to 80 (substitute http-listener-1.port=80). Glassfish can be used to enforce HTTPS on its own without Apache, but configuring this is an exercise for the reader. Answers here may be helpful: http://stackoverflow.com/questions/25122025/glassfish-v4-java-7-port-unification-error-not-able-to-redirect-http-to\n\nIf you are running an installation with Apache and Glassfish on the same server, and would like to restrict Glassfish from responding to any requests to port 8080 from external hosts (in other words, not through Apache), you can restrict the AJP listener to localhost only with:\n\n./asadmin set server-config.network-config.network-listeners.network-listener.http-listener-1.address=127.0.0.1\n\nYou should NOT use the configuration option above if you are running in a load-balanced environment, or otherwise have the web server on a different host than the application server.\n\nDatabase SettingsÂ¶\n\nThese settings are stored in the setting database table but can be read and modified via the âadminâ endpoint of the Native API for easy scripting.\n\nThe most commonly used configuration options are listed first.\n\nThe pattern you will observe in curl examples below is that an HTTP PUT is used to add or modify a setting. If you perform an HTTP GET (the default when using curl), the output will contain the value of the setting, if it has been set. You can also do a GET of all settings with curl http://localhost:8080/api/admin/settings which you may want to pretty-print by piping the output through a tool such as jq by appending | jq .. If you want to remove a setting, use an HTTP DELETE such as curl -X DELETE http://localhost:8080/api/admin/settings/:GuidesBaseUrl .\n\n:BlockedApiPolicyÂ¶\n\n:BlockedApiPolicy affects access to the list of API endpoints defined in :BlockedApiEndpoints.\n\nOut of the box, localhost-only is the default policy, as mentioned in Blocking API Endpoints. The other valid options are the following.\n\nlocalhost-only: Allow from localhost.\n\nunblock-key: Require a key defined in :BlockedApiKey.\n\ndrop: Disallow the blocked endpoints completely.\n\nBelow is an example of setting localhost-only.\n\ncurl -X PUT -d localhost-only http://localhost:8080/api/admin/settings/:BlockedApiPolicy\n\n:BlockedApiEndpointsÂ¶\n\nA comma separated list of API endpoints to be blocked. For a production installation, âadminâ should be blocked (and perhaps âbuiltin-usersâ as well), as mentioned in the section on security above:\n\ncurl -X PUT -d \"admin,builtin-users\" http://localhost:8080/api/admin/settings/:BlockedApiEndpoints\n\nSee the Lists of Dataverse APIs for lists of API endpoints.\n\n:BlockedApiKeyÂ¶\n\n:BlockedApiKey is used in conjunction with :BlockedApiEndpoints and :BlockedApiPolicy and will not be enabled unless the policy is set to unblock-key as demonstrated below. Please note that the order is significant. You should set :BlockedApiKey first to prevent locking yourself out.\n\ncurl -X PUT -d s3kretKey http://localhost:8080/api/admin/settings/:BlockedApiKey\n\ncurl -X PUT -d unblock-key http://localhost:8080/api/admin/settings/:BlockedApiPolicy\n\nNow that :BlockedApiKey has been enabled, blocked APIs can be accessed using the query parameter unblock-key=theKeyYouChose as in the example below.\n\ncurl https://demo.dataverse.org/api/admin/settings?unblock-key=theKeyYouChose\n\nBuiltinUsers.KEYÂ¶\n\nThe key required to create users via API as documented at Native API. Unlike other database settings, this one doesnât start with a colon.\n\ncurl -X PUT -d builtInS3kretKey http://localhost:8080/api/admin/settings/BuiltinUsers.KEY\n\n:SearchApiRequiresTokenÂ¶\n\nIn Dataverse 4.7 and lower, the Search API required an API token, but as of Dataverse 4.7.1 this is no longer the case. If you prefer the old behavior of requiring API tokens to use the Search API, set :SearchApiRequiresToken to true.\n\ncurl -X PUT -d true http://localhost:8080/api/admin/settings/:SearchApiRequiresToken\n\n:SystemEmailÂ¶\n\nThis is the email address that âsystemâ emails are sent from such as password reset links. Your Dataverse installation will not send mail without this setting in place.\n\ncurl -X PUT -d 'LibraScholar SWAT Team <support@librascholar.edu>' http://localhost:8080/api/admin/settings/:SystemEmail\n\nNote that only the email address is required, which you can supply without the < and > signs, but if you include the text, itâs the way to customize the name of your support team, which appears in the âfromâ address in emails as well as in help text in the UI.\n\nPlease note that if youâre having any trouble sending email, you can refer to âTroubleshootingâ under Installation.\n\n:HomePageCustomizationFileÂ¶\n\nSee Branding Your Installation above.\n\n:LogoCustomizationFileÂ¶\n\nSee Branding Your Installation above.\n\n:HeaderCustomizationFileÂ¶\n\nSee Branding Your Installation above.\n\n:DisableRootDataverseThemeÂ¶\n\nSee Branding Your Installation above.\n\n:StyleCustomizationFileÂ¶\n\nSee Branding Your Installation above.\n\n:WebAnalyticsCodeÂ¶\n\nSee Web Analytics Code above.\n\n:DoiProviderÂ¶\n\nAs of this writing âDataCiteâ and âEZIDâ are the only valid options for production installations. Developers using version 4.10 and above are welcome to use the keyword âFAKEâ to configure a non-production installation with an non-resolving, in-code provider, which will basically short-circuit the DOI publishing process. :DoiProvider is only needed if you are using DOI.\n\ncurl -X PUT -d DataCite http://localhost:8080/api/admin/settings/:DoiProvider\n\nThis setting relates to the :Protocol, :Authority, :Shoulder, and :IdentifierGenerationStyle database settings below as well as the following JVM options:\n\ndoi.baseurlstring\n\ndoi.username\n\ndoi.password\n\n:ProtocolÂ¶\n\nAs of this writing âdoiâ and âhdlâ are the only valid option for the protocol for a persistent ID.\n\ncurl -X PUT -d doi http://localhost:8080/api/admin/settings/:Protocol\n\n:AuthorityÂ¶\n\nUse the authority assigned to you by your DoiProvider or HandleProvider.\n\nPlease note that the authority cannot have a slash (â/â) in it.\n\ncurl -X PUT -d 10.xxxx http://localhost:8080/api/admin/settings/:Authority\n\n:ShoulderÂ¶\n\nOut of the box, the DOI shoulder is set to âFK2/â but this is for testing only! When you apply for your DOI namespace, you may have requested a shoulder. The following is only an example and a trailing slash is optional.\n\ncurl -X PUT -d \"MyShoulder/\" http://localhost:8080/api/admin/settings/:Shoulder\n\n:IdentifierGenerationStyleÂ¶\n\nBy default, Dataverse generates a random 6 character string, pre-pended by the Shoulder if set, to use as the identifier for a Dataset. Set this to sequentialNumber to use sequential numeric values instead (again pre-pended by the Shoulder if set). (the assumed default setting is randomString). In addition to this setting, a database sequence must be created in the database. We provide the script below (downloadable here). You may need to make some changes to suit your system setup, see the comments for more information:\n\n-- A script for creating a numeric identifier sequence, and an external -- stored procedure, for accessing the sequence from inside the application, -- in a non-hacky, JPA way. -- NOTE: -- 1. The database user name \"dvnapp\" is hard-coded here - it may -- need to be changed to match your database user name; -- 2. In the code below, the sequence starts with 1, but it can be adjusted by -- changing the MINVALUE as needed. CREATE SEQUENCE datasetidentifier_seq INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1; ALTER TABLE datasetidentifier_seq OWNER TO \"dvnapp\"; -- And now create a PostgreSQL FUNCTION, for JPA to -- access as a NamedStoredProcedure: CREATE OR REPLACE FUNCTION generateIdentifierAsSequentialNumber( OUT identifier int) RETURNS int AS $BODY$ BEGIN select nextval('datasetidentifier_seq') into identifier; END; $BODY$ LANGUAGE plpgsql;\n\nNote that the SQL above is Postgres-specific. If necessary, it can be reimplemented in any other SQL flavor - the standard JPA code in the application simply expects the database to have a saved function (âstored procedureâ) named generateIdentifierAsSequentialNumber with the single return argument identifier.\n\nPlease note that :IdentifierGenerationStyle also plays a role for the âidentifierâ for files. See the section on :DataFilePIDFormat below for more details.\n\n:DataFilePIDFormatÂ¶\n\nThis setting controls the way that the âidentifierâ component of a fileâs persistent identifier (PID) relates to the PID of its âparentâ dataset.\n\nBy default the identifier for a file is dependent on its parent dataset. For example, if the identifier of a dataset is âTJCLKPâ, the identifier for a file within that dataset will consist of the parent datasetâs identifier followed by a slash (â/â), followed by a random 6 character string, yielding âTJCLKP/MLGWJOâ. Identifiers in this format are what you should expect if you leave :DataFilePIDFormat undefined or set it to DEPENDENT and have not changed the :IdentifierGenerationStyle setting from its default.\n\nAlternatively, the identifier for File PIDs can be configured to be independent of Dataset PIDs using the setting âINDEPENDENTâ. In this case, file PIDs will not contain the PIDs of their parent datasets, and their PIDs will be generated the exact same way that datasetsâ PIDs are, based on the :IdentifierGenerationStyle setting described above (random 6 character strings or sequential numbers, pre-pended by any shoulder).\n\nThe chart below shows examples from each possible combination of parameters from the two settings. :IdentifierGenerationStyle can be either randomString (the default) or sequentialNumber and :DataFilePIDFormat can be either DEPENDENT (the default) or INDEPENDENT. In the examples below the âidentifierâ for the dataset is âTJCLKPâ for ârandomStringâ and â100001â for âsequentialNumberâ.\n\nrandomString sequentialNumber DEPENDENT TJCLKP/MLGWJO 100001/1 INDEPENDENT MLGWJO 100002\n\nAs seen above, in cases where :IdentifierGenerationStyle is set to sequentialNumber and :DataFilePIDFormat is set to DEPENDENT, each file within a dataset will be assigned a number within that dataset starting with â1â.\n\nOtherwise, if :DataFilePIDFormat is set to INDEPENDENT, then each file will be assigned a PID with the next number in the overall sequence, regardless of what dataset it is in. If the file is created after a dataset with the PID 100001, then the file will be assigned the PID 100002. This option is functional, but it is not a recommended use case.\n\nNote that in either case, when using the sequentialNumber option, datasets and files share the same database sequence that was created as part of the setup described in :IdentifierGenerationStyle above.\n\n:FilePIDsEnabledÂ¶\n\nToggles publishing of file-based PIDs for the entire installation. By default this setting is absent and Dataverse assumes it to be true.\n\nIf you donât want to register file-based PIDs for your installation, set:\n\ncurl -X PUT -d 'false' http://localhost:8080/api/admin/settings/:FilePIDsEnabled\n\nNote: File-level PID registration was added in 4.9 and is required until version 4.9.3.\n\n:IndependentHandleServiceÂ¶\n\nSpecific for Handle PIDs. Set this setting to true if you want to use a Handle service which is setup to work âindependentlyâ (No communication with the Global Handle Registry). By default this setting is absent and Dataverse assumes it to be false.\n\ncurl -X PUT -d 'true' http://localhost:8080/api/admin/settings/:IndependentHandleService\n\n:ApplicationTermsOfUseÂ¶\n\nUpload an default language HTML file containing the Terms of Use to be displayed at sign up. Supported HTML tags are listed under the Dataset + File Management section of the User Guide.\n\ncurl -X PUT -d@/tmp/apptou.html http://localhost:8080/api/admin/settings/:ApplicationTermsOfUse\n\nTo upload a language specific Terms of Use file,\n\ncurl -X PUT -d@/tmp/apptou_fr.html http://localhost:8080/api/admin/settings/:ApplicationTermsOfUse/lang/fr\n\nTo delete language specific option,\n\ncurl -X DELETE http://localhost:8080/api/admin/settings/:ApplicationTermsOfUse/lang/fr\n\n:ApplicationPrivacyPolicyUrlÂ¶\n\nSpecify a URL where users can read your Privacy Policy, linked from the bottom of the page.\n\ncurl -X PUT -d https://dataverse.org/best-practices/harvard-dataverse-privacy-policy http://localhost:8080/api/admin/settings/:ApplicationPrivacyPolicyUrl\n\n:ApiTermsOfUseÂ¶\n\nSpecify a URL where users can read your API Terms of Use. API users can retrieve this URL from the SWORD Service Document or the Info section of our Native API documentation.\n\ncurl -X PUT -d https://dataverse.org/best-practices/harvard-api-tou http://localhost:8080/api/admin/settings/:ApiTermsOfUse\n\n:ExcludeEmailFromExportÂ¶\n\nSee also Privacy Considerations above.\n\nSet :ExcludeEmailFromExport to prevent email addresses for contacts from being exposed in XML or JSON representations of dataset and dataverse metadata. For a list exported formats such as DDI, see the Metadata Export section of the Admin Guide.\n\ncurl -X PUT -d true http://localhost:8080/api/admin/settings/:ExcludeEmailFromExport\n\nNote: After making a change to this setting, a reExportAll needs to be run before the changes will be reflected in the exports:\n\ncurl http://localhost:8080/api/admin/metadata/reExportAll\n\nThis will force a re-export of every published, local dataset, regardless of whether it has already been exported or not.\n\n:GuidesBaseUrlÂ¶\n\nSet GuidesBaseUrl to override the default value âhttp://guides.dataverse.orgâ. If you are interested in writing your own version of the guides, you may find the Writing Documentation section of the Developer Guide helpful.\n\ncurl -X PUT -d http://dataverse.example.edu http://localhost:8080/api/admin/settings/:GuidesBaseUrl\n\n:GuidesVersionÂ¶\n\nSet :GuidesVersion to override the version number in the URL of guides. For example, rather than http://guides.dataverse.org/en/4.6/user/account.html the version is overriden to http://guides.dataverse.org/en/1234-new-feature/user/account.html in the example below:\n\ncurl -X PUT -d 1234-new-feature http://localhost:8080/api/admin/settings/:GuidesVersion\n\n:MetricsUrlÂ¶\n\nMake the metrics component on the root dataverse a clickable link to a website where you present metrics on your Dataverse installation, perhaps one of the community-supported tools mentioned in the /admin/reporting-tools section of the Admin Guide.\n\ncurl -X PUT -d http://metrics.dataverse.example.edu http://localhost:8080/api/admin/settings/:MetricsUrl\n\n:StatusMessageHeaderÂ¶\n\nFor dynamically adding an informational header to the top of every page. StatusMessageText must also be set for a message to show. For example, âFor testing onlyâ¦â at the top of https://demo.dataverse.org is set with this:\n\ncurl -X PUT -d \"For testing only...\" http://localhost:8080/api/admin/settings/:StatusMessageHeader\n\nYou can make the text clickable and include an additional message in a pop up by setting :StatusMessageText.\n\n:StatusMessageTextÂ¶\n\nAlongside the :StatusMessageHeader you need to add StatusMessageText for the message to show.:\n\ncurl -X PUT -d \"This appears in a popup.\" http://localhost:8080/api/admin/settings/:StatusMessageText\n\n:MaxFileUploadSizeInBytesÂ¶\n\nThis setting controls the maximum size of uploaded files. - To have one limit for all stores, set MaxFileUploadSizeInBytes to â2147483648â, for example, to limit the size of files uploaded to 2 GB:\n\ncurl -X PUT -d 2147483648 http://localhost:8080/api/admin/settings/:MaxFileUploadSizeInBytes\n\nTo have limits per store with an optional default, use a serialized json object for the value of MaxFileUploadSizeInBytes with an entry per store, as in the following example, which maintains a 2 GB default and adds higher limits for stores with ids âfileOneâ and âs3â.\n\ncurl -X PUT -d '{\"default\":\"2147483648\",\"fileOne\":\"4000000000\",\"s3\":\"8000000000\"}' http://localhost:8080/api/admin/settings/:MaxFileUploadSizeInBytes\n\nNotes:\n\nFor SWORD, this size is limited by the Java Integer.MAX_VALUE of 2,147,483,647. (see: https://github.com/IQSS/dataverse/issues/2169)\n\nIf the MaxFileUploadSizeInBytes is NOT set, uploads, including SWORD may be of unlimited size.\n\nFor larger file upload sizes, you may need to configure your reverse proxy timeout. If using apache2 (httpd) with Shibboleth, add a timeout to the ProxyPass defined in etc/httpd/conf.d/ssl.conf (which is described in the Shibboleth setup).\n\n:ZipDownloadLimitÂ¶\n\nFor performance reasons, Dataverse will only create zip files on the fly up to 100 MB but the limit can be increased. Hereâs an example of raising the limit to 1 GB:\n\ncurl -X PUT -d 1000000000 http://localhost:8080/api/admin/settings/:ZipDownloadLimit\n\n:TabularIngestSizeLimitÂ¶\n\nThreshold in bytes for limiting whether or not âingestâ it attempted for tabular files (which can be resource intensive). For example, with the below in place, files greater than 2 GB in size will not go through the ingest process:\n\ncurl -X PUT -d 2000000000 http://localhost:8080/api/admin/settings/:TabularIngestSizeLimit\n\n(You can set this value to 0 to prevent files from being ingested at all.)\n\nYou can override this global setting on a per-format basis for the following formats:\n\nDTA\n\nPOR\n\nSAV\n\nRdata\n\nCSV\n\nXLSX\n\nFor example, if you want your installation of Dataverse to not attempt to ingest Rdata files larger that 1 MB, use this setting:\n\ncurl -X PUT -d 1000000 http://localhost:8080/api/admin/settings/:TabularIngestSizeLimit:Rdata\n\n:ZipUploadFilesLimitÂ¶\n\nLimit the number of files in a zip that Dataverse will accept.\n\n:SolrHostColonPortÂ¶\n\nBy default Dataverse will attempt to connect to Solr on port 8983 on localhost. Use this setting to change the hostname or port. You must restart Glassfish after making this change.\n\ncurl -X PUT -d localhost:8983 http://localhost:8080/api/admin/settings/:SolrHostColonPort\n\n:SolrFullTextIndexingÂ¶\n\nWhether or not to index the content of files such as PDFs. The default is false.\n\ncurl -X PUT -d true http://localhost:8080/api/admin/settings/:SolrFullTextIndexing\n\n:SolrMaxFileSizeForFullTextIndexingÂ¶\n\nIf :SolrFullTextIndexing is set to true, the content of files of any size will be indexed. To set a limit in bytes for which files to index in this way:\n\ncurl -X PUT -d 314572800 http://localhost:8080/api/admin/settings/:SolrMaxFileSizeForFullTextIndexing\n\n:SignUpUrlÂ¶\n\nThe relative path URL to which users will be sent for signup. The default setting is below.\n\ncurl -X PUT -d '/dataverseuser.xhtml?editMode=CREATE' http://localhost:8080/api/admin/settings/:SignUpUrl\n\n:LoginSessionTimeoutÂ¶\n\nSession timeout (in minutes) for logged-in users. The default is 8 hours (480 minutes). For the anonymous user sessions, the timeout is set to the default value, configured in the web.xml file of the Dataverse application.\n\nIn the example below we reduce the timeout to 4 hours:\n\ncurl -X PUT -d 240 http://localhost:8080/api/admin/settings/:LoginSessionTimeout\n\n:TwoRavensUrlÂ¶\n\nThe :TwoRavensUrl option is no longer valid. See TwoRavens and the External Tools section of the Admin Guide.\n\n:TwoRavensTabularViewÂ¶\n\nThe :TwoRavensTabularView option is no longer valid. See TwoRavens and the External Tools section of the Admin Guide.\n\n:GeoconnectCreateEditMapsÂ¶\n\nSet GeoconnectCreateEditMaps to true to allow the user to create GeoConnect Maps. This boolean effects whether the user sees the map button on the dataset page and if the ingest will create a shape file.\n\ncurl -X PUT -d true http://localhost:8080/api/admin/settings/:GeoconnectCreateEditMaps\n\n:GeoconnectViewMapsÂ¶\n\nSet GeoconnectViewMaps to true to allow a user to view existing maps. This boolean effects whether a user will see the âExploreâ button.\n\ncurl -X PUT -d true http://localhost:8080/api/admin/settings/:GeoconnectViewMaps\n\n:SearchHighlightFragmentSizeÂ¶\n\nSet SearchHighlightFragmentSize to override the default value of 100 from https://wiki.apache.org/solr/HighlightingParameters#hl.fragsize . In practice, a value of â320â seemed to fix the issue at https://github.com/IQSS/dataverse/issues/2191\n\ncurl -X PUT -d 320 http://localhost:8080/api/admin/settings/:SearchHighlightFragmentSize\n\n:ScrubMigrationDataÂ¶\n\nAllow for migration of non-conformant data (especially dates) from DVN 3.x to Dataverse 4.\n\n:MinutesUntilConfirmEmailTokenExpiresÂ¶\n\nThe duration in minutes before âConfirm Emailâ URLs expire. The default is 1440 minutes (24 hours). See also the User Administration section of our Admin Guide.\n\n:DefaultAuthProviderÂ¶\n\nIf you have enabled Shibboleth and/or one or more OAuth providers, you may wish to make one of these authentication providers the default when users visit the Log In page. If unset, this will default to builtin but these valid options (depending if youâve done the setup described in the Shibboleth or OAuth Login Options sections) are:\n\nbuiltin\n\nshib\n\norcid\n\ngithub\n\ngoogle\n\nHere is an example of setting the default auth provider back to builtin:\n\ncurl -X PUT -d builtin http://localhost:8080/api/admin/settings/:DefaultAuthProvider\n\n:AllowSignUpÂ¶\n\nSet to false to disallow local accounts to be created. See also the sections on Shibboleth and OAuth Login Options.\n\n:FileFixityChecksumAlgorithmÂ¶\n\nDataverse calculates checksums for uploaded files so that users can determine if their file was corrupted via upload or download. This is sometimes called âfile fixityâ: https://en.wikipedia.org/wiki/File_Fixity\n\nThe default checksum algorithm used is MD5 and should be sufficient for establishing file fixity. âSHA-1â, âSHA-256â and âSHA-512â are alternate values for this setting. For example:\n\ncurl -X PUT -d 'SHA-512' http://localhost:8080/api/admin/settings/:FileFixityChecksumAlgorithm\n\nThe fixity algorithm used on existing files can be changed by a superuser using the API. An optional query parameter (num) can be used to limit the number of updates attempted. The API call will only update the algorithm and checksum for a file if the existing checksum can be validated against the file. Statistics concerning the updates are returned in the response to the API call with details in the log.\n\ncurl http://localhost:8080/api/admin/updateHashValues/{alg} curl http://localhost:8080/api/admin/updateHashValues/{alg}?num=1\n\n:PVMinLengthÂ¶\n\nPassword policy setting for builtin user accounts: a passwordâs minimum valid character length. The default is 6.\n\ncurl -X PUT -d 6 http://localhost:8080/api/admin/settings/:PVMinLength\n\n:PVMaxLengthÂ¶\n\nPassword policy setting for builtin user accounts: a passwordâs maximum valid character length.\n\ncurl -X PUT -d 0 http://localhost:8080/api/admin/settings/:PVMaxLength\n\n:PVNumberOfConsecutiveDigitsAllowedÂ¶\n\nBy default, passwords can contain an unlimited number of digits in a row. However, if your password policy specifies otherwise (e.g. only four digits in a row are allowed), then you can issue the following curl command to set the number of consecutive digits allowed (this example uses 4):\n\ncurl -X PUT -d 4 http://localhost:8080/api/admin/settings/:PVNumberOfConsecutiveDigitsAllowed\n\n:PVCharacterRulesÂ¶\n\nPassword policy setting for builtinuser accounts: dictates which types of characters can be required in a password. This setting goes hand-in-hand with :PVNumberOfCharacteristics. The default setting contains two rules:\n\none letter\n\none digit\n\nThe default setting above is equivalent to specifying âAlphabetical:1,Digit:1â.\n\nBy specifying âUpperCase:1,LowerCase:1,Digit:1,Special:1â, for example, you can put the following four rules in place instead:\n\none uppercase letter\n\none lowercase letter\n\none digit\n\none special character\n\nIf you have implemented 4 different character rules in this way, you can also optionally increase :PVNumberOfCharacteristics to as high as 4. However, please note that :PVNumberOfCharacteristics cannot be set to a number higher than the number of character rules or you will see the error, âNumber of characteristics must be <= to the number of rulesâ.\n\nAlso note that the Alphabetical setting should not be used in tandem with the UpperCase or LowerCase settings. The Alphabetical setting encompasses both of those more specific settings, so using it with them will cause your password policy to be unnecessarily confusing, and potentially easier to bypass.\n\ncurl -X PUT -d 'UpperCase:1,LowerCase:1,Digit:1,Special:1' http://localhost:8080/api/admin/settings/:PVCharacterRules\n\ncurl -X PUT -d 3 http://localhost:8080/api/admin/settings/:PVNumberOfCharacteristics\n\n:PVNumberOfCharacteristicsÂ¶\n\nPassword policy setting for builtin user accounts: the number indicates how many of the character rules defined by :PVCharacterRules are required as part of a password. The default is 2. :PVNumberOfCharacteristics cannot be set to a number higher than the number of rules or you will see the error, âNumber of characteristics must be <= to the number of rulesâ.\n\ncurl -X PUT -d 2 http://localhost:8080/api/admin/settings/:PVNumberOfCharacteristics\n\n:PVDictionariesÂ¶\n\nPassword policy setting for builtin user accounts: set a comma separated list of dictionaries containing words that cannot be used in a user password. /usr/share/dict/words is suggested and shown modified below to not contain words 3 letters or less. You are free to choose a different dictionary. By default, no dictionary is checked.\n\nDIR=THE_PATH_YOU_WANT_YOUR_DICTIONARY_TO_RESIDE sed '/^.\\{,3\\}$/d' /usr/share/dict/words > $DIR/pwdictionary curl -X PUT -d \"$DIR/pwdictionary\" http://localhost:8080/api/admin/settings/:PVDictionaries\n\n:PVGoodStrengthÂ¶\n\nPassword policy setting for builtin user accounts: passwords of equal or greater character length than the :PVGoodStrength setting are always valid, regardless of other password constraints.\n\ncurl -X PUT -d 20 http://localhost:8080/api/admin/settings/:PVGoodStrength\n\nRecommended setting: 20.\n\n:ShibPassiveLoginEnabledÂ¶\n\nSet :ShibPassiveLoginEnabled to true to enable passive login for Shibboleth. When this feature is enabled, an additional Javascript file (isPassive.js) will be loaded for every page. It will generate a passive login request to your Shibboleth SP when an anonymous user navigates to the site. A cookie named â_check_is_passive_dvâ will be created to keep track of whether or not a passive login request has already been made for the user.\n\nThis implementation follows the example on the Shibboleth wiki documentation page for the isPassive feature: https://wiki.shibboleth.net/confluence/display/SHIB2/isPassive\n\nIt is recommended that you configure additional error handling for your Service Provider if you enable passive login. A good way of doing this is described in the Shibboleth wiki documentation:\n\nIn your Service Provider 2.x shibboleth2.xml file, add redirectErrors=â#THIS PAGE#â to the Errors element.\n\nYou can set the value of â#THIS PAGE#â to the URL of your Dataverse homepage, or any other page on your site that is accessible to anonymous users and will have the isPassive.js file loaded.\n\ncurl -X PUT -d true http://localhost:8080/api/admin/settings/:ShibPassiveLoginEnabled\n\n:ShibAffiliationAttributeÂ¶\n\nThe Shibboleth affiliation attribute holds information about the affiliation of the user (e.g. âOUâ) and is read from the DiscoFeed at each login. :ShibAffiliationAttribute is a name of a Shibboleth attribute in the Shibboleth header which Dataverse will read from instead of DiscoFeed. If this value is not set or empty, Dataverse uses the DiscoFeed.\n\nIf the attribute is not yet set for the Shibboleth, please consult the Shibboleth Administrators at your institution. Typically it requires changing of the /etc/shibboleth/attribute-map.xml file by adding an attribute request, e.g.\n\n```\n\n<Attribute name=âurn:oid:2.5.4.11â id=âouâ>\n\n<AttributeDecoder xsi:type=âStringAttributeDecoderâ caseSensitive=âfalseâ/>\n\n</Attribute>\n\n```\n\nIn order to implement the change, you should restart Shibboleth and Apache2 services:\n\n` sudo service shibd restart sudo service apache2 restart `\n\nTo check if the attribute is sent, you should log in again to Dataverse and check Shibbolethâs transaction log. You should see something like this:\n\n` INFO Shibboleth-TRANSACTION [25]: Cached the following attributes with session (ID: _9d1f34c0733b61c0feb0ca7596ef43b2) for (applicationId: default) { INFO Shibboleth-TRANSACTION [25]: givenName (1 values) INFO Shibboleth-TRANSACTION [25]: ou (1 values) INFO Shibboleth-TRANSACTION [25]: sn (1 values) INFO Shibboleth-TRANSACTION [25]: eppn (1 values) INFO Shibboleth-TRANSACTION [25]: mail (1 values) INFO Shibboleth-TRANSACTION [25]: displayName (1 values) INFO Shibboleth-TRANSACTION [25]: } `\n\nIf you see the attribue you requested in this list, you can set the attribute in Dataverse.\n\nTo set :ShibAffiliationAttribute:\n\ncurl -X PUT -d \"ou\" http://localhost:8080/api/admin/settings/:ShibAffiliationAttribute\n\nTo delete :ShibAffiliationAttribute:\n\ncurl -X DELETE http://localhost:8080/api/admin/settings/:ShibAffiliationAttribute\n\nTo check the current value of :ShibAffiliationAttribute:\n\ncurl -X GET http://localhost:8080/api/admin/settings/:ShibAffiliationAttribute\n\n:ComputeBaseUrlÂ¶\n\nSet the base URL for the âComputeâ button for a dataset.\n\ncurl -X PUT -d 'https://giji.massopencloud.org/application/dataverse' http://localhost:8080/api/admin/settings/:ComputeBaseUrl\n\n:CloudEnvironmentNameÂ¶\n\nSet the name of the cloud environment youâve integrated with your Dataverse installation.\n\ncurl -X PUT -d 'Massachusetts Open Cloud (MOC)' http://localhost:8080/api/admin/settings/:CloudEnvironmentName\n\n:PublicInstallÂ¶\n\nSetting an installation to public will remove the ability to restrict data files or datasets. This functionality of Dataverse will be disabled from your installation.\n\nThis is useful for specific cases where an installationâs files are stored in public access. Because files stored this way do not obey Dataverseâs file restrictions, users would still be able to access the files even when theyâre restricted. In these cases itâs best to use :PublicInstall to disable the feature altogether.\n\ncurl -X PUT -d true http://localhost:8080/api/admin/settings/:PublicInstall\n\n:DataCaptureModuleUrlÂ¶\n\nThe URL for your Data Capture Module (DCM) installation. This component is experimental and can be downloaded from https://github.com/sbgrid/data-capture-module .\n\ncurl -X PUT -d 'https://dcm.example.edu' http://localhost:8080/api/admin/settings/:DataCaptureModuleUrl\n\n:RepositoryStorageAbstractionLayerUrlÂ¶\n\nThe URL for your Repository Storage Abstraction Layer (RSAL) installation. This component is experimental and can be downloaded from https://github.com/sbgrid/rsal .\n\ncurl -X PUT -d 'https://rsal.example.edu' http://localhost:8080/api/admin/settings/:RepositoryStorageAbstractionLayerUrl\n\n:UploadMethodsÂ¶\n\nThis setting controls which upload methods are available to users of your installation of Dataverse. The following upload methods are available:\n\nnative/http: Corresponds to âUpload with HTTP via your browserâ and APIs that use HTTP (SWORD and native).\n\ndcm/rsync+ssh: Corresponds to âUpload with rsync+ssh via Data Capture Module (DCM)â. A lot of setup is required, as explained in the Big Data Support section of the Developer Guide.\n\nOut of the box only native/http is enabled and will work without further configuration. To add multiple upload method, separate them using a comma like this:\n\ncurl -X PUT -d 'native/http,dcm/rsync+ssh' http://localhost:8080/api/admin/settings/:UploadMethods\n\nYouâll always want at least one upload method, so the easiest way to remove one of them is to simply PUT just the one you want, like this:\n\ncurl -X PUT -d 'native/http' http://localhost:8080/api/admin/settings/:UploadMethods\n\n:DownloadMethodsÂ¶\n\nThis setting is experimental and related to Repository Storage Abstraction Layer (RSAL).\n\ncurl -X PUT -d 'rsal/rsync' http://localhost:8080/api/admin/settings/:DownloadMethods\n\n:GuestbookResponsesPageDisplayLimitÂ¶\n\nLimit on how many guestbook entries to display on the guestbook-responses page. By default, only the 5000 most recent entries will be shown. Use the standard settings API in order to change the limit. For example, to set it to 10,000, make the following API call:\n\ncurl -X PUT -d 10000 http://localhost:8080/api/admin/settings/:GuestbookResponsesPageDisplayLimit\n\n:CustomDatasetSummaryFieldsÂ¶\n\nYou can replace the default dataset metadata fields that are displayed above files table on the dataset page with a custom list separated by commas using the curl command below.\n\ncurl http://localhost:8080/api/admin/settings/:CustomDatasetSummaryFields -X PUT -d 'producer,subtitle,alternativeTitle'\n\nYou have to put the datasetFieldType name attribute in the :CustomDatasetSummaryFields setting for this to work.\n\n:AllowApiTokenLookupViaApiÂ¶\n\nDataverse 4.8.1 and below allowed API Token lookup via API but for better security this has been disabled by default. Set this to true if you really want the old behavior.\n\ncurl -X PUT -d 'true' http://localhost:8080/api/admin/settings/:AllowApiTokenLookupViaApi\n\n:ProvCollectionEnabledÂ¶\n\nEnable the collection of provenance metadata on Dataverse via the provenance popup.\n\ncurl -X PUT -d 'true' http://localhost:8080/api/admin/settings/:ProvCollectionEnabled\n\n:MetricsCacheTimeoutMinutesÂ¶\n\nSets how long a cached metrics result is used before re-running the query for a request. This timeout is only applied to some of the metrics that query the current state of the system, previous months queries are cached indefinitely. See Metrics API for more info. The default timeout value is 7 days (10080 minutes).\n\ncurl -X PUT -d 10080 http://localhost:8080/api/admin/settings/:MetricsCacheTimeoutMinutes\n\n:MDCLogPathÂ¶\n\nSets the path where the raw Make Data Count logs are stored before being processed. If not set, no logs will be created for Make Data Count. See also the Make Data Count section of the Admin Guide.\n\ncurl -X PUT -d '/usr/local/glassfish4/glassfish/domains/domain1/logs' http://localhost:8080/api/admin/settings/:MDCLogPath\n\n:DisplayMDCMetricsÂ¶\n\n:DisplayMDCMetrics can be set to false to disable display of MDC metrics (e.g. to enable collection of MDC metrics for some period prior to completing the set-up of Counter and performing the other steps described in the Make Data Count section of the Admin Guide).\n\ncurl -X PUT -d 'false' http://localhost:8080/api/admin/settings/:DisplayMDCMetrics\n\n:LanguagesÂ¶\n\nSets which languages should be available. If there is more than one, a dropdown is displayed in the header.\n\nSee Internationalization for a curl example and related settings.\n\n:InheritParentRoleAssignmentsÂ¶\n\n:InheritParentRoleAssignments can be set to a comma-separated list of role aliases or â*â (all) to cause newly created Dataverses to inherit the set of users and/or internal groups who have assignments for those role(s) on the parent Dataverse, i.e. those users/groups will be assigned the same role(s) on the new Dataverse (in addition to the creator of the new Dataverse having an admin role). This can be helpful in situations where multiple organizations are sharing one Dataverse instance. The default, if ::InheritParentRoleAssignments is not set is for the creator of the new Dataverse to be the only one assigned a role.\n\ncurl -X PUT -d 'admin, curator' http://localhost:8080/api/admin/settings/:InheritParentRoleAssignments or curl -X PUT -d '*' http://localhost:8080/api/admin/settings/:InheritParentRoleAssignments\n\n:AllowCorsÂ¶\n\nAllows Cross-Origin Resource sharing(CORS). By default this setting is absent and Dataverse assumes it to be true.\n\nIf you donât want to allow CORS for your installation, set:\n\ncurl -X PUT -d 'false' http://localhost:8080/api/admin/settings/:AllowCors"
    }
}