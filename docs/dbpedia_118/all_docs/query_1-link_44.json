{
    "id": "dbpedia_118_1",
    "rank": 44,
    "data": {
        "url": "https://www.cantorsparadise.com/financial-modeling-a-clean-short-and-simple-statistical-point-of-view-853dc29efb00",
        "read_more_link": "",
        "language": "en",
        "title": "Financial Modeling: A Clean, Short and Simple Statistical Point of View",
        "top_image": "https://miro.medium.com/v2/resize:fit:1200/1*FFqk_tnIg4P8qOpd10GQYQ.png",
        "meta_img": "https://miro.medium.com/v2/resize:fit:1200/1*FFqk_tnIg4P8qOpd10GQYQ.png",
        "images": [
            "https://miro.medium.com/v2/resize:fill:64:64/1*dmbNkD5D-u45r44go_cf0g.png",
            "https://miro.medium.com/v2/resize:fill:88:88/1*7gzMalWe2tk5vAlgKuKkMQ.jpeg",
            "https://miro.medium.com/v2/resize:fill:48:48/1*iODVVKJIKo4wOlnO8yO10Q.png",
            "https://miro.medium.com/v2/resize:fill:144:144/1*7gzMalWe2tk5vAlgKuKkMQ.jpeg",
            "https://miro.medium.com/v2/resize:fill:64:64/1*iODVVKJIKo4wOlnO8yO10Q.png"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [
            "Pierre Blanchart",
            "medium.com",
            "@pierre.blanchart"
        ],
        "publish_date": "2022-04-28T12:33:33.753000+00:00",
        "summary": "",
        "meta_description": "I recently decided to study financial modeling, coming from a machine learning/statistical background, and I found it mostly explained through over-complicated theoretical concepts, especially…",
        "meta_lang": "en",
        "meta_favicon": "https://miro.medium.com/v2/1*m-R_BkNf1Qjr1YbyOIJY2w.png",
        "meta_site_name": "Medium",
        "canonical_link": "https://www.cantorsparadise.com/financial-modeling-a-clean-short-and-simple-statistical-point-of-view-853dc29efb00",
        "text": "I recently decided to study financial modeling, coming from a machine learning/statistical background, and I found it mostly explained through over-complicated theoretical concepts, especially regarding the forced analogy with physical models. Well, to be fairly honest, my first reading of a book of financial modeling (FM) didn’t help me much understanding how the main results are derived, especially when the Black-Scholes model is explained in chapter 16 of the book, after an overly complex introduction to stochastic partial differential equations, Martingale processes, Ito’s calculus, heat diffusion equation, obstacle problem ... In my case, I couldn’t make it past the obstacle thing, hence probably its name, and from here, I decided that there must be necessarily a simpler way to derive the Black-Scholes (BS) model, without any of this. This blog post is not about questioning the usefulness of all the mathematical tools listed above, it’s about explaining some results of FM in a simpler way and using more familiar notions for those coming from the ML/signal processing community. That being said, everyone builds its own understanding of a domain, so my explanation may simplify the life of some, while obfuscating the understanding of others. I apologize to those in the last category.\n\nWhat financial modelling (FM) is about\n\nThere may be something which seems hard to understand but which seems very important to me. It is that you can’t really build predictive models to predict the future value of an asset or even a future trend of how prices will evolve. Whether you use a linear regression (with or without exogenous features), an auto-regressive model to spot a constant auto-correlation pattern in the signal, or a complex model such as recurrent neural network that tries to learn sequential dependencies, you’ll fail miserably in your predictive modelling attempt because there is no such thing in the “signal”. The price curve does not have a constant auto-correlation structure, is not trended, nor does it exhibit repetitive non-linear patterns. Some may argue with this, especially in the algorithmic trading community, but assuming the above properties in the signal aren’t grounded at all from the FM modelling aspect. This is still puzzling because you observe things like on the graphics of the Fig. 1, where your human perception is really tempted to extract a trend/visual pattern. To prove your perception wrong, I generated a few stock price curves using random walks.\n\nSo, you may ask, what are we then trying to do if we can’t predict the future to make big money ? Well, we simply want to assess the risk of an investment, meaning the risk of buying/selling some assets or derivative products such as options, forward/future contracts, or combining all of these in a portfolio. Plus, of course, we want to compute the expected return. So, concretely, given the price of your favorite asset at time t, you’d like to know/model the distribution of the same asset at time T > t. Once you have this distribution, you have access to all the rest, included your expected return, which is anything you care about anyway because big money equals happy life, and the hell with those who think otherwise, they are just envious of the first ones.\n\nYou should be aware that this is an expected return, so you may fall in the wrong tail of the distribution, while betting on your asset, but you won’t be able to sue Black and Scholes for your losses, because, first, they are dead, and second, they are juridically covered by the fact that they only give statistical guarantees, based on statistical assumptions which may be not completely true. Anyway, I don’t want to ruin this secret hope sleeping inside of you that the day you’ll know everything about BS modelling, you’ll be able to upgrade to a jet-set life between New York and Paris.\n\nBank deposit\n\nThis is the simplest model of finance. You make a risk-free investment by placing money on a bank account with continuously compounding interest at a fixed rate r. The deterministic process emerging from this is called a multiplicative growth process, and is governed by the formula:\n\ni.e. the amount S(t) you had at time t becomes S(t+τ) at time t+τ.\n\nThere are several ways of deriving this, the simplest being to consider the (non-stochastic) differential equation:\n\nIntegrating the above and using the initial condition on the value of S(t+τ) at τ=0 gives the formula of Eq. 1. Similarly, in the case of a non-constant interest rate, we obtain:\n\nThe no-arbitrage assumption\n\nYou may have heard very often about this fundamental assumption in financial modelling. The no-arbitrage assumption states that there is no possibility of risk-free profit with no initial investment. In formal terms, it states that if the value of an investment/portfolio is null at a given time, it stays null in the future with a probability of one. Basically, it means that there is no possibility to make money out of nothing.\n\nThe no-arbitrage assumption entails that there is no risk-free investment that brings a bigger reward than a risk-free bank deposit. Put in mathematical terms, it states that the expected growth ratio of an asset price is exactly:\n\nWe can prove this result by showing that if this equality doesn't hold, we can find investment schemes that contradict the no-arbitrage assumption, i.e. open a possibility of risk-free profit with no initial investment.\n\nIf we had E[S(t+τ)/S(t)] > exp(rτ), it would mean there is a risk-free way of earning more money than with the risk-free bank deposit without initial investment. For instance, we could borrow money at an interest rate r in the bank, and being rewarded at an interest q= log[E[S(t+τ)/S(t)]]/τ > r by investing meanwhile this money in the asset S.\n\nOn the contrary, if we had E[S(t+τ)/S(t)] <exp(rτ) — i.e. exp(qτ) < exp(rτ) — we could borrow shares of S from a brokerage entity at an interest rate q, sell that stock immediately at the current price, and place the resulting money in the bank at an interest r > q. This would create also a situation of risk-free profit with no initial investment.\n\nBoth these situations are impossible, because it would mean that people could deterministically get richer in average, so, basically, that the global wealth could increase only thanks to speculation, and not to hard labor at the factory, and/or brain juice from scientists creating new things we absolutely don’t need, but that we feel obliged to use under some artificial societal pressure.\n\nIt should be noted that the considerations above apply to any complex portfolio composed both of assets and derivatives of all kind: the greatest risk-free return that it is possible to achieve with a portfolio of assets is the same as the return obtained by placing the corresponding amount of money on a bank account.\n\nAs a corollary to the no-arbitrage assumption, a potential for bigger profits always implies bigger risks, i.e. make the chance of a loss higher. As simple as the idea that there should be more losses to compensate for bigger gains.\n\nStandard Brownian motion\n\nLet’s start from the very basic statistical assumptions about price models. As I said, there is no particular trend/sequential dependency/structure that can be extracted from price evolution curves. In this respect, a good descriptive tool is a class of continuous stochastic process known as Brownian processes. As you may know, they were at first introduced to describe the random motions of particles in a gas or fluid as a result of collisions with surrounding molecules. A Brownian process decomposes into a succession of random increments independent from each other, which is a very easy way of staying away from specifying any sequential dependencies/structure. Still, in their formulation, they guarantee that any realization of the process will follow a continuous “path”, due to the fact that the position at time “t+1” is obtained by adding a (random) increment to the position at time “t”.\n\nThe mathematical definition of a Brownian motion process “Bt” with constant drift “μ” is the following:\n\nThe drift translates the fact that the farther ahead we look in time, the farther we will get (in average) from the current position. In finance, the drift expresses the compounding of interests. We could use a more general drift function than the constant drift. The formula describing the BM process would then become:\n\n“Quick” notations of the following form are also used:\n\nBut I’ll stay away from these notations in further developments because they tend dangerously towards the usual description of prices evolution using stochastic differential equations, which I promised not to be using here.\n\nGeometric Brownian motion\n\nIn our asset pricing modelling problem, we can’t use directly the standard Brownian process, since prices could take negative values under this model. Moreover, there is the financial point of view that we are rather interested in modelling the increment phenomenon independently of the value of the asset at a given time. The standard Brownian motion (Eq. 5) yields increments that are unrelated to the mean price of the underlying asset. This is not what is observed in real life: an asset with a mean price around 2000 dollars generally exhibits stronger variations than one with a mean price around 100 dollars. Dividing the value of the increment by the value of the asset at the current moment solves the problem by defining the increment as a proportion of the current asset value that is gained over the considered period of time:\n\nThis quantity is called the rate of return of the investment S over the period of time [t, t+τ]. More conveniently, and without loss of generality, we can as well model the ratio S(t+τ)/S(t) to describe the stock price evolution.\n\nWe saw in the case of the continuously compounded deposit that:\n\nTo model random prices fluctuations, we use a random increment model under the form of a Brownian motion, and we substitute it in the deterministic “continuously compounding interest” model, giving:\n\nThis process is called a Geometric Brownian Motion (GBM). In this model, the random fluctuations are multiplicatively compounded in the same way as interests. You may also encounter “quick” notations of the form:\n\nConsidering Eq. 10, the statistical law followed by the ratio S(t+τ)/S(t) is called a log-normal distribution. As a general definition, a random variable Y has log-normal distribution whenever log Y is normally (Gaussian) distributed. The log-normal law is a non-symmetrical distribution skewed towards positive values. Concretely, it models the fact that small losses are quite frequent while large gains are quite rare. It also translates the fact that the chance even small of a large loss is something really bad in the eyes of investors, hence the fat-tail on the right side of the distribution (positive skewness).\n\nEndowed with both the statistical law characterizing the growth ratio and the no-arbitrage assumption, we can define what we were looking for, the probability law of the random variable S(t).\n\nAccording to the analytical expression of the moments of the log-normal law (can be found here for instance), we have:\n\nIn order to respect the no-arbitrage assumption, the following relation should hold:\n\nWe conclude that we must have:\n\nIt gives the following probabilistic formula (considering that S(t+τ) is the random variable and that S(t) is known/observed at current time t):\n\nThe above can also be expressed as:\n\nFrom there, we derive the parameters of the log-normal distribution of S(t+τ):\n\nThis is the main result we need to derive the Black-Scholes formula, so keep it in mind if you have some mental space left.\n\nFinancial derivatives and some vocabulary\n\nI’ll suppose that you know a bit about derivative products in finance, in order to keep this section short and because I’m a bit lazy as well. In the rest of this post, I’ll mostly take the example of a European call option, and I’ll be using the following notations:\n\nBS: short for Black-Scholes\n\nτ or “tau”: remaining time to expiry of an option\n\nT = t+τ: exercise date of an option\n\nE: exercise/strike price of an option\n\nS(t): price of the underlying asset at the current time t\n\nS(t+τ): price of the underlying asset at time t+τ\n\nr: interest rate of the risk-free investment (bank deposit for instance)\n\nσ: volatility (standard deviation of the logarithmic returns of the asset price)\n\nAt the exercise date T, a call option has a payoff max(S(T)-E, 0). The call contract stipulates that the writer of the call is obliged to sell you the underlying asset at a price S at that date, but you may choose not to exercise this right (in practice, if S(T) < E, you won’t, earning nothing. Hence the “max(x, 0)” operator). The buyer of the option has to pay a premium whose price is fixed using the BS formula, generally as: “Premium = intrinsic value + time value”. The intrinsic value is the current value of the option at time t, i.e. max(S(t)-E, 0). The time value is the amount an investor is willing to pay over the option intrinsic value, based on the possibility that the option payoff will increase before its expiration date due to changes in the underlying asset price. The time value is fixed by the writer of the option and computed as: “time value ≈ option value - intrinsic value”, where the “option value” is the expected return of the option as given by the BS formula.\n\nWe distinguish two styles of option exercising: the European and the American one. The European style gives the owner of the option the right to exercise it (or not) only at a precise date called the exercise date. The American style allows the owner of the option to exercise it (or not) at any time between the beginning of the contract and a specified expiry date. We will detail these two types of exercise separately in the following.\n\nBlack-Scholes formula for European options\n\nThe probability distribution of S(t+τ) is about everything we need to land back smoothly onto the BS formula. The later is often presented as a way to perform option pricing, and gives at the current time t, the expected return of a call option (or that of a put, but we’ll mainly consider call options in the developments below), i.e. the quantity:\n\nExpanding the above expression:\n\nIf you compute that stuff, you’ll fall back on the celebrated Black-Scholes formula. If you do not believe me, I did the computation below (you may skip this session if you do).\n\nComputing the BS call option value\n\nAll the job is to compute the integral:\n\nWe start by computing P(S >E):\n\nUsing the analytical expression of the cumulative distribution function (CDF) of the log-normal law, we obtain:\n\nRemains to compute:\n\nThis expression is called the partial expectation (expectation taken over an interval), and its analytical expression is well-known as well (meaning you can find it on the wikipedia page of the log-normal law, along with the derivation which is the result of an integration by parts):\n\nPutting everyone together, we obtain the Black-Scholes formula for the expected return / value of a European call option:\n\nThe figure below shows the BS surface by making vary both the spot and the exercise prices S and E.\n\nIn the case of a put option, similar computations would give the following expected return / value:\n\nIf you’ re in a playful mode or feeling ultra-bored, you could rewrite all the previous developments with a fancy (potentially non-constant interest rate) r(t) (cf. Eq. 3). This is useful for instance to incorporate dividend paying. The dividends are percentage of shares that are paid to the shareholders (and not to option owners: you need to own the stock to get dividends). Since we live in a fair and well-balanced economical world, the money used to remunerate the shareholders is deferred on the stock price.\n\nIn the case of constant dividend yield, the shareholders are remunerated a constant percentage q of the stock price at each instant, meaning that the average growth rate of the stock price changes to “r-q”.\n\nThis can be justified again with the no-arbitrage assumption: if the growth rate was superior to r-q, you could simply buy shares, get remunerated with the constant dividend q, plus benefit from an average growth rate p > r-q on the stock price, which would guarantee you a risk-free average capital growth of q+p > r: impossible. Hence, we simply have to replace “r” by “r-q” in Eq. 14:\n\nIn the case of a discrete/scheduled dividend with a remuneration percentage D1 at time t1, the price of S drops by a percent D1 right after t1, i.e.: S(t1+) = (1-D1)*S(t1-). Considering the risk-free bank deposit, the behavior is the following:\n\nSince:\n\nwe need to replace r by:\n\nin Eq. 14. We finally get:\n\nWe thus have for the European call with a strike price K=E and a single scheduled dividend payment D1 at time t1:\n\nThe reasoning above unfolds a general methodology to handle any fancy (discrete and/or continuous) dividend paying schema.\n\nBlack-Scholes, portfolios and hedging\n\nYou may have heard from your grandma who was putting all her savings in woolen socks that diversification is the key to strong economical foundations. So you may want to put grandma’s advises in practice by combining different products in a portfolio, and/or use this marvelous principle which we call “hedging”. In the later case, we try to remove/limit the risk inherent to investing in a single asset by building a portfolio of assets/derivatives with opposite variations, and/or by taking opposite directions in financial products associated with the same asset.\n\nGenerally formulated, the purpose of hedging is to reduce the variance of the one step ahead evolution of the portfolio value. Doing this reduces the probability of large jumps in the portfolio value between consecutive time steps, and as a consequence, reduces the risk. Concretely, we try to dynamically adjust the proportions of the products in the portfolio Π in order to minimize at each instant t: Var[ Π(t+τ)-Π(t) ] where τ is the time step we are considering for hedging.\n\nIn the BS framework, hedging can be performed by taking a long position on an option (by either buying a call or selling a put) and a contrary short position on the underlying asset. We then have a portfolio of the type Π = V - Δ S, which, given the BS formula (cf. Eq. 24), is valued at time t (supposing V = “buying a call option”):\n\nIt is then obvious that by taking Δ = N(d1), we end up with a portfolio insensitive to the asset price. As such: Var[ Π(t+τ)-Π(t) ] = 0. The coefficient Δ represents the sensitivity of the option value to a change in the underlying since:\n\nWe can easily verify that the average growth rate of the obtained portfolio is still that of the risk-free bank deposit.\n\nSuch a strategy is mainly useful for the writer of an option who wishes to “insure himself” against an unexpected evolution of the underlying asset (meaning contrary to what he expected). Plus, a risk-free extra profit can be made by setting the premium of the option above its fair value (i.e. the one obtained by applying the BS formula), since the premium, a priori, can be set to any price the buyer is willing to pay.\n\nInstantaneous hedging can generally only be used in a no transaction-fee world or by market makers who have low dealing costs. Adding transaction costs may cut you the desire to be too dynamical on your hedging strategy, so you generally won’t do Δ-hedging if you play with 100 bucks of cryptos on etoro during the meetings at work to continue feeling alive. But you could use static intuitive hedging strategies instead, such as going long on one company while shorting its direct concurrent.\n\nBuilding complex portfolios\n\nMy personal opinion, if you’re a Machine Learning specialist and really wants as I do to place your ML models somewhere is that you can use them to optimize complex portfolios according to your investment preferences. For instance, we could try to find a portfolio which maximizes the kurtosis (that’s something crazy, don’t try that, I’m just giving it as an example). The kurtosis is the fourth-order statistical moment, the mean, variance and skewness being respectively the first, second, and third-order statistical moments. As a fourth-order moment, it is very sensitive to extreme events (far from the mean) located in distribution tails. A high kurtosis value thus betrays the fact that we are dealing with fat-tail distributions (the other possibility being that there a few outliers very far away from the mean).\n\nTransposed to finance, it means that ordinarily low-probability occurrence elements such as large losses/gains are getting much more probable to occur (being perfectly understood that when you increase the chance of large gains, you increase as well that of large losses, no free lunch). You could in the same way play with the skewness, to satisfy your immoderate taste for risk.\n\nMost of the time, because you’re reasonable and playing with entire-life savings that were entrusted to you, you’ll want to increase your chances of large gains (large positive skewness) under the constraint of an expected return (mean) as large as possible, and a variance as small as possible (in order to concentrate the realizations as much as possible around the mean). Plus, you’ll likely want to make the probability of extreme events (in particular large losses) as small as possible (low kurtosis).\n\nHence, you’ll have a multi-objective criterion composed of multiple (competing) terms encoding your risk preferences.\n\nWell, enough talking, let’s see some formalism. Let’s denote w1, w2, …, wD the weights/proportions of each of the assets/derivative products that compose your portfolio. Since a weight wi represents the proportion of the asset i in the portfolio, we impose that the weights are positive and sum to 1.\n\nIt’s now that the ML guys will be happy, since we’ll switch to a data-based approach. We suppose that we have observed N realizations of our D portfolio components at different times, meaning we have a dataset R1, R2, …, RN, where each Rj is a D-dimensional vector representing the observation at time j (or some derived quantity such as the excess return). We denote R the “D times N” data matrix. We suppose by the way that the observed D-dimensional process is stationary in time (which may be very wrong but we don’t have much choice). It should be noted that we are obliged to observe all realizations simultaneously since our assets are not independent between each other (for instance a BTC index increase is concomitant with an ETH index increase). In the formulas below, I gave the expression of the fourth moments — M, V, S, K for Mean, Variance, Skewness, Kurtosis:\n\nTo optimize a portfolio, we then build a scalar multi-objective combining the four moments following what I said previously (we roughly speaking want max return, min variance, max skewness, min kurtosis). We end up with the hard task of optimizing a general functional Gw under the constraints that the parameter W to optimize corresponds to proportions of assets. The functional could be a linear combinations of moments, or something more complex, I leave it to your choice and/or imagination.\n\nFor those who wanted a well-posed optimization problem, we have it at last: the optimization of weights parameters (the assets proportions) under a (non-linear) criterion and (linear) constraints on the weights. This problem could be solved for instance using projected gradient techniques, with the risk of falling in a local optimum since the objective is not convex in W. This is an extra risk added to that of formulating the wrong objective. Still, if you fill ready to try a maximum kurtosis porfolio, send me your success or bankrupt stories. To me, that whole thing feels a bit like mushroom picking from the guide. Seems like you found the right stuff, but hey, better watching the effects on your guests first before putting a bite in it yourself :).\n\nBS for American options\n\nThis is a classic as well. The american option allows you to exercise the option at any time or not at all (with still the presence of an expiry date after which you cannot exercise the option anymore). If you consider a call option with no dividend paying, early exercise has no particular interest in average since the value of the option is a growing function of exercise time. We arrive then at the disappointing conclusion that the value of the American call option with no-divident paying is exactly that of the European call option with exercise time at the expiry date T.\n\nIf we add divident paying, it raises the legitimate question: is there a better expected return by exercising my option before divident get paid ?\n\nI unfold the computations for an american call option with a single dividend payment D1 (D1 being a proportion of the asset value, i.e., 0 ≤ D1 < 1) at time t1. There is an important consideration to take into account: if you exercise the option at t1-, you get paid the dividend D1 on the underlying that you acquired (at a price E according to the call contract). After getting paid the dividend, you can invest your gain on a risk-free bank deposit for the remaining time (T-t1). Thus, the test to decide at time t < t1 whether to exercise your american call option is:\n\nIn the expression above, the left side of the inequality is the choice not to exercise the option before t1: the option is then valued as the European call with exercise time T. The right side is the choice to exercise the option at t1-: this is the gain you get from exercising the option at t1-, i.e. the value of the European call at time t1-. To that gain, you need to add the dividend payment D1 (you’re now owning the underlying stock since you exercised the option, and as such you’re touching the dividends on the stock). After dividend payment, the amount is in average continuously compounded with the risk-free interest rate during the remaining time T-t1.\n\nThe price St* for which it is indifferent to exercise the option before t1 or at expiry is called the optimal exercise price of the american option. There is no closed form of this price, but you can compute it numerically in a very precise way. On the diagram of the Fig. 3, I plotted the difference between the right and left members of the inequality in eq.. The optimal exercise price is the lowest value of S so that the difference is positive. There are many works in the literature which aim at obtaining a closed form for the optimal exercise price using approximations of the BS model. In my opinion, these don’t make much sense, since if you’re to make approximations, better use a numerical one which you can get to any degree of accuracy as is needed.\n\nMore complex models\n\nThere is one aspect not covered by Black-Scholes is that of jumps occurring in the course of an asset due to outside events, like kim jong saying he is going to nuke the states because they refused to credit the legend that he is a godsend gift to the earth, and not just a fatheaded idiot who bought his oxford diploma for a price approaching the whole GDP of north korea (I may have compromised my future vacations in north korea by writing this, or rendered them much more hectic an adventure).\n\nThat’s where a third dude enters the stage, named Merton, who got a nobel prize along with Scholes as a reward for his jumping mood and asset prices models. He tweaked a bit the original geometric Brownian motion model to arrive at what is called a normal jump diffusion model. It’s basically the superimposition of a GBM with a Compound Poisson Process (CPP) of the form:\n\nThe combination of the GBM and CPP is then specified mathematically by the following equation:\n\nThe jump diffusion models allows to account for discontinuous jumps in a risky asset price, and better handle the risk for that types of assets that would be poorly modeled using continuous path models as in the traditional Black-Scholes modeling. I put below the plot of one realization of the above process over a fixed arbitrary time horizon.\n\nWe could also imagine using processes with memory instead of a memory-less Poisson one, encoding that well-established real life fact that if no shit happened for a long time, it’s getting more and more probable that one happens in a next future.\n\nWe feel that we could tweak even more the original model to get it closer to the reality but there is an essential-to-know badly-kept secret in finance, it is that financial models are self-fulfilling. It means that the more people use a modeling such as BS, the more true it becomes with regard to the data. We could try to state this as: if many actors apply the same model to interact inside a global process that they influence in some way (and vice versa), this model ends up being the one that governs the process, even if the assumptions of the model weren’t true at first. So, keep this in mind before trying fancy stuffs in finance. You’d better be wrong with every one than trying to create your truth alone. By the way, if there is any of you who knows how to put mathematical concepts over this vague idea of self-fulfilling tripartite ecosystem of players-models-realizations, I’ll be glad to hear from you (or receive critics on the fact that it really exists). There is still this famous example of LTCM hedge fund bankrupt in 98, less than one year after Black-Scholes published their work. The fund had a winning team in the board of directors with Scholes and Merton in spirit and flesh being part of the adventure. One hypothesis to explain the wreckage is that they didn’t wait long enough that the BS theory became self-fulfilling before using it. So, just to say, if even Scholes and Merton themselves can go bankrupt, be careful …\n\nNumerical simulations\n\nBefore I let you go back watching the course of your fetish asset jumping up and down according to some Brownian motion, I wanted to share some general insights about simulation. We are in a 1D case, so we feel that Monte Carlo simulations won’t be too computational-intensive a task. And rather than trying to solve analytically what your expected return could be, you may as well simulate a large number of realizations of your stochastic process and then average them, to get uh … the same result, but without covering two pages of equations at a time where trees are so essential to continue leaving on a breathable earth. Plus, that’s exactly where you may exert your talents as a coder when most tools of financial modeling are Excel sheets/shits with preset formulas for the standard BS model. We feel there is a strong potential to unleash the power of GPU on that, and even more if you know to code ad-hoc cuda kernels. If there is a strong demand and if the weather is bad, I may write one day on this as well (ad-hoc cuda kernels). In the meanwhile, I put on my github an example of simulating a more complex model than the BS-GBM one, to monitor the risk of a complex portfolio, using GPU simulations. Code is in C++/cuda, wrapped in R (using Rcpp modules). Can provide the wrapper in python if you ask (politely). It could serve as a basis for building a more complex simulation tool, if adding extra features and making it more generic. The ideal would be to allow the user to specify the generic features of the process he wants to model, such as, for instance, the presence or not of jumps in the asset prices, the interest / dividend paying profile function over time. On top, we could add portfolio optimization features allowing the user to specify a maximum level of risk vs. expected return ... The current version is only the result of a minimal coding effort in order to produce the graphics in this blog post. If I feel there is a demand, I may put some more efforts in it :).\n\nAs a simulation example, I took a barrier option with punctual dividend paying under the Merton model (jump diffusion process). Maybe there is a closed-form for the distribution of S(t+τ), but it already sounds like a research topic to find it, along with a strong potential for a headache and getting wrong in the mathematical derivation. Plus the fact that finding the distribution isn’t all the job since we would still have to compute the expected return of our option (we saw with Black-Scholes that computing analytically the expected return for as simple a thing as a call option is not a piece of cake even with the help of wikipedia). That’s typically a situation where simulation comes in handy.\n\nIf we plot the distribution of S(t+τ) for a given S(t), we obtain a distribution similar to a log-normal distribution (see Fig. 6 for a graphical illustration of the sampling process):\n\nNotice: If you’re convinced that the log-normal is a perfect modeling of the return distribution at time t+τ, you could still add a step of parameter estimation from the simulated data to formalize things.\n\nNow, we need to compute the expected return of the barrier option on the modeled underlying. A barrier option is an option (call, put or whatever else fancy-style option) whose payoff is conditioned by the underlying asset price going over a barrier price during the option’s lifetime. If we consider a European exercise style for a barrier call option, we get the following payoff formula:\n\nI apologize in advance to those who will execute the code of this figure, I didn’t get the courage to code it on GPU (cheap pure R coding instead — as fast as python but not nearly as fast as a cuda kernel). Well you’ll have the displeasure to track visually a very slowly moving progress bar for a few minutes to get the very unimpressive graphic below (one more proof if it still was needed that patience isn’t a well rewarded quality):\n\nConclusion\n\nI hope you were interested in my vision of things, and that I helped some of you who, like me, were lost in the traditional way of presenting things in the financial modeling community. Most graphical results can be reproduced using the code on my github, with a few extra simulation results that I put there mainly to showcase how simulation can save you the day (even the week) in many desperate cases where there is no closed-form of the solution.\n\nIf I have time to research the topic, I may produce something related to crypto-currency / liquidity pools (LP), and see if traditional financial modelling can have an interest here to assess the risk. It may be an interesting question to investigate if we can quantify the risk associated with a LP protocol for both the owner of the protocol and the investors feeding it. We probably all feel that decentralized finance (deFi) opens a new era for risk assessment, that is still mostly unexplored but interesting in every aspect. Maybe it’s time to unleash the power of Monte Carlo simulations, or maybe it’s time for new mathematical models. I don’t have the answer but definitely will keep an eye on it.\n\nThere exists also an entire research field related to the use of Monte Carlo methods in finance, I may explore it in a next post, with recent works such as those of Jacques Carriere and Datar–Mathews (very similar to what I exposed to you above, don’t expect ground-breaking stuffs). MC methods may not be the most popular way of doing things at the time, because the financial modelling and high performance computing (HPC) communities may be still evolving hermetically one from each other at the time I’m writing . Anyway, keep posted if you want to know how random simulations can help you survive a world of randomness."
    }
}