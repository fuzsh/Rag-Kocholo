{
    "id": "correct_subsidiary_00137_1",
    "rank": 59,
    "data": {
        "url": "https://docs.oracle.com/cd/E12529_01/doc.1013/e10292/logging.htm",
        "read_more_link": "",
        "language": "en",
        "title": "Configuring the Logging System",
        "top_image": "",
        "meta_img": "",
        "images": [
            "https://docs.oracle.com/cd/E12529_01/dcommon/gifs/doclib.gif",
            "https://docs.oracle.com/cd/E12529_01/dcommon/gifs/booklist.gif",
            "https://docs.oracle.com/cd/E12529_01/dcommon/gifs/toc.gif",
            "https://docs.oracle.com/cd/E12529_01/dcommon/gifs/index.gif",
            "https://docs.oracle.com/cd/E12529_01/dcommon/gifs/feedbck2.gif",
            "https://docs.oracle.com/cd/E12529_01/dcommon/gifs/leftnav.gif",
            "https://docs.oracle.com/cd/E12529_01/dcommon/gifs/rightnav.gif",
            "https://docs.oracle.com/cd/E12529_01/doc.1013/e10292/img/sipservlogging.gif",
            "https://docs.oracle.com/cd/E12529_01/doc.1013/e10292/img/app_logs.gif",
            "https://docs.oracle.com/cd/E12529_01/dcommon/gifs/leftnav.gif",
            "https://docs.oracle.com/cd/E12529_01/dcommon/gifs/rightnav.gif",
            "https://docs.oracle.com/cd/E12529_01/dcommon/gifs/oracle.gif",
            "https://docs.oracle.com/cd/E12529_01/dcommon/gifs/doclib.gif",
            "https://docs.oracle.com/cd/E12529_01/dcommon/gifs/booklist.gif",
            "https://docs.oracle.com/cd/E12529_01/dcommon/gifs/toc.gif",
            "https://docs.oracle.com/cd/E12529_01/dcommon/gifs/index.gif",
            "https://docs.oracle.com/cd/E12529_01/dcommon/gifs/feedbck2.gif"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": "2005-07-10T12:57:20+08:00",
        "summary": "",
        "meta_description": "",
        "meta_lang": "en",
        "meta_favicon": "",
        "meta_site_name": "",
        "canonical_link": null,
        "text": "Example 10-1 The Default Rolling File Appenders in log4j.xml\n\n<!-- A size based rolling appender --> <appender name=\"CUSTOMER_FILE_LOG\" class=\"org.apache.log4j.RollingFileAppender\"> <param name=\"File\" value=\"${oracle.j2ee.home}/log/sdp/system/system.log\" /> <param name=\"Append\" value=\"true\" /> <param name=\"Encoding\" value=\"UTF-8\" /> <param name=\"MaxFileSize\" value=\"100000KB\" /> <param name=\"MaxBackupIndex\" value=\"10\" /> <layout class=\"org.apache.log4j.PatternLayout\"> <!-- The default pattern: Date Priority [Category] Message\\n --> <param name=\"ConversionPattern\" value=\"%d{yyyy-MM-dd HH:mm:ss,SSSZ} %-5r %-5p [%c{1}] (%t:%x) %m%n\" /> </layout> </appender> <!-- A size based rolling appender --> <appender name=\"TRAFFIC_FILE_LOG\" class=\"org.apache.log4j.RollingFileAppender\"> <param name=\"File\" value=\"${oracle.j2ee.home}/log/sdp/traffic/traffic.log\" /> <param name=\"Append\" value=\"true\" /> <param name=\"Encoding\" value=\"UTF-8\" /> <param name=\"MaxFileSize\" value=\"100000KB\" /> <param name=\"MaxBackupIndex\" value=\"10\" /> <layout class=\"org.apache.log4j.PatternLayout\"> <!-- The default pattern: Date Priority [Category] Message\\n --> <param name=\"ConversionPattern\" value=\"%d{ISO8601} %-5p [%c{1}] (%t:%x) %m%n\" /> </layout> </appender> <!-- A size based rolling appender --> <appender name=\"BADMSG_FILE_LOG\" class=\"org.apache.log4j.RollingFileAppender\"> <param name=\"File\" value=\"${oracle.j2ee.home}/log/sdp/badmsg/badmsg.log\" /> <param name=\"Append\" value=\"true\" /> <param name=\"Encoding\" value=\"UTF-8\" /> <param name=\"MaxFileSize\" value=\"100000KB\" /> <param name=\"MaxBackupIndex\" value=\"10\" /> <layout class=\"org.apache.log4j.PatternLayout\"> <!-- The default pattern: Date Priority [Category] Message\\n --> <param name=\"ConversionPattern\" value=\"%d{ISO8601} %-5p [%c{1}] (%t:%x) %m%n\" /> </layout> </appender> <!-- A size based rolling appender --> <appender name=\"CONFIG_FILE_LOG\" class=\"org.apache.log4j.RollingFileAppender\"> <param name=\"File\" value=\"${oracle.j2ee.home}/log/sdp/config/config.log\" /> <param name=\"Append\" value=\"true\"/> <param name=\"Encoding\" value=\"UTF-8\" /> <param name=\"MaxFileSize\" value=\"500KB\"/> <param name=\"MaxBackupIndex\" value=\"2\"/> <layout class=\"org.apache.log4j.PatternLayout\"> <!-- The default pattern: Date [Category] Message\\n --> <param name=\"ConversionPattern\" value=\"%d{yyyy-MM-dd HH:mm:ss,SSSZ} [%c{1}] %m%n\" /> </layout> </appender> <!-- A size based rolling appender --> <appender name=\"STATISTICS_FILE_LOG\" class=\"org.apache.log4j.RollingFileAppender\"> <param name=\"File\" value=\"${oracle.j2ee.home}/log/sdp/statistics/statistics.log\" /> <param name=\"Append\" value=\"true\" /> <param name=\"Encoding\" value=\"UTF-8\" /> <param name=\"MaxFileSize\" value=\"100000KB\" /> <param name=\"MaxBackupIndex\" value=\"10\" /> <layout class=\"org.apache.log4j.PatternLayout\"> <param name=\"ConversionPattern\" value=\"%d{yyyy-MM-dd HH:mm:ss,SSSZ} %m%n\" /> </layout> </appender> <appender name=\"STATISTICS_FORMAT_FILE_LOG\" class=\"org.apache.log4j.RollingFileAppender\"> <param name=\"File\" value=\"${oracle.j2ee.home}/log/sdp/statistics/statistics.log\" /> <param name=\"Append\" value=\"true\" /> <param name=\"Encoding\" value=\"UTF-8\" /> <param name=\"MaxFileSize\" value=\"100000KB\" /> <param name=\"MaxBackupIndex\" value=\"10\" /> <layout class=\"org.apache.log4j.PatternLayout\"> <param name=\"ConversionPattern\" value=\"%m%n\" /> </layout> </appender> <!-- A size based rolling appender --> <appender name=\"EVENTLOGGER_FILE_SIZE\" class=\"org.apache.log4j.RollingFileAppender\"> <param name=\"File\" value=\"${oracle.j2ee.home}/log/sdp/events.log\" /> <param name=\"Append\" value=\"true\" /> <param name=\"Encoding\" value=\"UTF-8\" /> <param name=\"MaxFileSize\" value=\"100000KB\" /> <param name=\"MaxBackupIndex\" value=\"10\" /> <layout class=\"oracle.sdp.eventlogger.BasicLayout\"></layout> </appender> <!-- ============================== --> <!-- Append messages to the console --> <!-- ============================== --> <appender name=\"CONSOLE\" class=\"org.apache.log4j.ConsoleAppender\"> <param name=\"Threshold\" value=\"ERROR\" /> <param name=\"Encoding\" value=\"UTF-8\" /> <layout class=\"org.apache.log4j.PatternLayout\"> <!-- The default pattern: Date Priority [Category] Message\\n --> <param name=\"ConversionPattern\" value=\"%d{yyyy-MM-dd HH:mm:ss,SSSZ} %-5p [%c{1}] %m%n\" /> </layout> </appender> <appender name=\"SYSTEM_SOCKET\" class=\"org.apache.log4j.net.SocketAppender\"> <param name=\"RemoteHost\" value=\"127.0.0.1\" /> <param name=\"Port\" value=\"4477\" /> <param name=\"Threshold\" value=\"DEBUG\" /> </appender> <!-- Syslog events --> <appender name=\"TRAFFIC_SYSLOG\" class=\"org.apache.log4j.net.SyslogAppender\"> <param name=\"Threshold\" value=\"INFO\" /> <param name=\"Facility\" value=\"LOCAL1\" /> <!-- param name=\"FacilityPrinting\" value=\"false\"/ --> <param name=\"SyslogHost\" value=\"127.0.0.1\" /> <layout class=\"org.apache.log4j.PatternLayout\"> <!-- The default pattern: Date Priority [Category] Message\\n --> <param name=\"ConversionPattern\" value=\"%d{yyyy-MM-dd HH:mm:ss,SSSZ} %-5r %-5p [%c] (%t:%x) %m%n\" /> </layout> </appender> <appender name=\"SYSTEM_SYSLOG\" class=\"org.apache.log4j.net.SyslogAppender\"> <param name=\"Threshold\" value=\"ERROR\" /> <param name=\"Facility\" value=\"LOCAL0\" /> <!-- param name=\"FacilityPrinting\" value=\"false\"/ --> <param name=\"SyslogHost\" value=\"127.0.0.1\" /> <layout class=\"org.apache.log4j.PatternLayout\"> <!-- The default pattern: Date Priority [Category] Message\\n --> <param name=\"ConversionPattern\" value=\"%d{yyyy-MM-dd HH:mm:ss,SSSZ} %-5r %-5p [%c] (%t:%x) %m%n\" /> </layout> </appender> <appender name=\"EVENTLOGGER_SYSLOG\" class=\"org.apache.log4j.net.SyslogAppender\"> <param name=\"Threshold\" value=\"ALL\" /> <param name=\"Facility\" value=\"LOCAL2\" /> <!-- param name=\"FacilityPrinting\" value=\"false\"/ --> <param name=\"SyslogHost\" value=\"127.0.0.1\" /> <layout class=\"oracle.sdp.eventlogger.BasicLayout\"></layout> </appender>\n\nLogging Output\n\nThe output of the components is written to the log files located within the log/sdp directory of the OCMS OC4J instance's J2EE home (or through the $JBOSS_HOME/server/$jboss_server_name/log/sdp directory of the JBoss Application Server). In standalone OC4J, the log files are located within ORACLE_HOME/j2ee/home; in Oracle Application Server, the log files are located at ORACLE_HOME/j2ee/OCMS. These components write output using the pattern of\n\nDate MS Priority Category (Thread:NDC) Message\n\nFor more information, see \"Viewing Log Files\".\n\nThe log files are automatically backed up by log4j's Rolling File Appender implementation. A minimum number of backups is maintained (up to the MaxBackupIndex), each backup having a maximum file size as specified in the MaxFileSize log4j configuration parameter.\n\nSetting the Default Log Levels by Updating the log4j Configuration\n\nYou can also set the default log level for the core components by modifying the global log4j.xml file for the corresponding categories. OCMS 10.1.3.3 defines the following logger categories for its traffic, system, config, badmsg and statstics components:\n\noracle.sdp.ocms.traffic.\n\noracle.sdp.ocms.system\n\nNote:\n\nThe following categories in the global log4j.xml file control the log level for the system log:\n\n<category name=\"oracle.sdp\" additivity=\"false\"> <priority value=\"INFO\"/> <appender-ref ref=\"CUSTOMER_FILE_LOG\" /> </category> <category name=\"com.hotsip\" additivity=\"false\"> <priority value=\"INFO\"/> <appender-ref ref=\"CUSTOMER_FILE_LOG\" />\n\noracle.sdp.ocms.config\n\noracle.sdp.ocms.badmsg\n\noracle.sdp.ocms.statistics\n\nAs illustrated in Example 10-2, you can change the default log level for the traffic component by setting the <priority value> for the traffic category (oracle.sdp.ocms.traffic).\n\nExample 10-2 Changing the Default Log Level\n\n<category name=\"oracle.sdp.ocms.traffic\" additivity=\"false\"> <!-- change to INFO for logging of traffic --> <priority value=\"INFO\"/> <appender-ref ref=\"TRAFFIC_FILE_LOG\" /> </category>\n\nNote:\n\nBy default, the traffic and badmsg logs are set to OFF. As a consequence, a system using these default settings will not write any messages to the traffic or badsmg logs.\n\nThe mapping of the core components to log4j categories is located in the sdp-log-components.xml file. In a standalone instance of OC4J, this file is located within ORACLE_HOME/j2ee/home/config directory; in the JBoss Application Server, the file is located within the JBOSS_HOME/Server/<$jboss_server_name>/conf directory. In Oracle Application Server, this file is located at ORACLE_HOME/J2EE/ocms/config.\n\nNote:\n\nAll instances of OC4J with a given Oracle home share the same log4j logging system configuration since the log4j logging system is deployed and configured as a global library. Applications employing log4j for logging must add the appropriate configuration to the global log4j.xml properties file."
    }
}