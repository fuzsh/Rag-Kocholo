{
    "id": "dbpedia_8742_2",
    "rank": 64,
    "data": {
        "url": "https://www.trakked.io/en/blog/update-from-contao-4-9-to-contao-4-13",
        "read_more_link": "",
        "language": "en",
        "title": "Update from Contao 4.9 to Contao 4.13",
        "top_image": "https://www.trakked.io/assets/images/d/update-from-contao-4-9-to-contao-4-13-42c41e6a.jpg",
        "meta_img": "https://www.trakked.io/assets/images/d/update-from-contao-4-9-to-contao-4-13-42c41e6a.jpg",
        "images": [
            "https://www.trakked.io/en/blog/layout/images/trakked.svg",
            "https://www.trakked.io/en/blog/assets/images/9/update-from-contao-4-9-to-contao-4-13-51e626d2.jpg",
            "https://www.trakked.io/en/blog/assets/images/2/pakete-aktualisieren-844ec0b0.jpg",
            "https://www.trakked.io/en/blog/assets/images/5/contao-413-79378254.jpg",
            "https://www.trakked.io/en/blog/assets/images/7/erweiterung-version-5426a782.jpg",
            "https://www.trakked.io/en/blog/assets/images/b/template-vergleich-cff495dc.jpg",
            "https://www.trakked.io/en/blog/assets/images/1/cf-e462c8c0.jpg",
            "https://www.trakked.io/en/blog/assets/images/8/contao-open-source-cms-5-4-0-31ad5495.jpg",
            "https://www.trakked.io/en/blog/assets/images/b/contao-open-source-cms-5-3-12-04bf5785.jpg",
            "https://www.trakked.io/en/blog/assets/images/1/contao-open-source-cms-4-13-46-2237c8cd.jpg",
            "https://www.trakked.io/en/blog/layout/images/trakked.svg"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [
            "Christian Feneberg",
            "Bjarke Ammann",
            "television (Contao TV)",
            "together wth Dennis"
        ],
        "publish_date": "2022-03-31T10:42:00+02:00",
        "summary": "",
        "meta_description": "In this tutorial you will learn step by step how to update from Contao 4.9 to version 4.13. We also give you additional tips and hints.",
        "meta_lang": "en",
        "meta_favicon": "layout/icons/apple-touch-icon.png",
        "meta_site_name": "",
        "canonical_link": "https://www.trakked.io/en/blog/update-from-contao-4-9-to-contao-4-13",
        "text": "In this tutorial you will learn step by step how to update from Contao 4.9 to version 4.13. We'll include additional tips and hints as well.\n\nSince the update is of a minor release and the version constraint within the Contao Manager or the \"composer.json\" has to be adjusted, you cannot perform it as usual with the update feature of trakked. Simply put, the update process within the Contao 4 series is always the same and already well documented in the Contao manual. Therefore our instructions specifically include additional notes for Contao 4.13.\n\nTo keep it as simple as possible, we are only going to explain the update using the Contao Manager and leave out the the command line instructions. Furthermore, we are still using PHP 7.4 to avoid problems with extensions. More about the change to PHP 8 at the end of the article.\n\nPreparation\n\nOn your mark, get set, and update! Wait, not so fast. Good preparation can save you a lot of trouble. Please read the entire article to the end before you start with the update.\n\nCreate a backup\n\nAs with any major change, you should always make a backup. Most important are the files \"composer.json\" and \"composer.lock\" as well as a complete database backup.\n\nUpdate Contao 4.9 to the latest version\n\nIf you have not updated Contao 4.9 recently, you should first update to the latest version of Contao 4.9. To do this, open the Contao Manager and select \"Update packages\" and then select \"Update all packages\" from the dropdown menu.\n\nIf you are a using trakked, you can also perform this using our update function.\n\nAlso open the install tool and make sure the database is up to date.\n\nCheck compatibility of extensions\n\nNot every extension is already compatible with Contao 4.13. We recommend to visit the developer's project website and/or the repository on GitHub. Is there a compatibility notice or news? When was the extension last updated? Are there still open tickets for Contao 4.13? Additionally, you can check the Contao forum for recent posts or ask in the Contao Slack channel.\n\nAre you using a ready-made Contao theme?\n\nIf you use a ready-made theme, check with the provider of your theme whether it is compatible with Contao 4.13 or if there is an update available.\n\nUpdate to Contao 4.13\n\nIf all requirements are met, then you can start the update. Depending on the size of the installation, it may be helpful to make a copy of your installation and perform the update there.\n\nUpdate packages\n\nLog in to the Contao Manager and adjust the Contao version constraint. To do this, click on the gear next to the Contao version and enter 4.13.*.\n\nThen click Apply Changes at the bottom and select Update \"All Packages\" in the dropdown.\n\nIf the update process was successful, you can go directly to the Contao install tool and apply the necessary database changes. If you see any deletions, please check if they are justified. If in doubt, do not perform any deletions at first, you can always do it later.\n\nIf the update does not work\n\nIf an error occurs during the update, please check the output of the Contao Manager. Can can most likely see in the console what is causing the problem. In our experience, incompatible extensions are usually what prevents an update.\n\nVersion adjustments for extensions\n\nThis step is not mandatory, but may be necessary if a newer major version of an extension is compatible with Contao 4.13 or PHP 8.\n\nExample: terminal42/contao-easy_themes\n\nTo install the latest version 3.x of Easy-Themes, you have to click the gear just like with Contao and adjust the version accordingly.\n\nHow can you find out if there is a newer version?\n\nTo do so, click on \"Details\" in the Contao Manager for the respective package. Here you can see if a new major version is available. Before you upgrade, be sure to read the upgrade instructions provided by the developer of the extension. It is possible that the new version requires extensive rework or may need to be completely rebuilt.\n\nApply necessary changes\n\nIf the update was successful, your backend and frontend should be available again. Since we updated from Contao 4.9 directly to Contao 4.13, all changes from Contao 4.10, 4.11 and 4.12 have to be considered as well.\n\nPlease read the announcements on contao.org or on our trakked blog:\n\nContao 4.10 Announcement\n\nContao 4.11 Announcement & Change log\n\nContao 4.12 Announcement & Change log\n\nContao 4.13 Announcement & Change log\n\nCheck the log files\n\nMake sure to take a quick look at the log file. You can find it under /var/logs/prod-*.log. Are there any new error messages that need to be fixed?\n\nAdapt template changes\n\nOnly few important changes were made to the templates, but a total of 42 files have been changed. To find out whether a change is relevant for you, use the backend comparison function for your customized templates.\n\nHere is a brief overview of the most important changes\n\nThe schema.org markup has been removed from various templates and the central JSON+LD management has been added.\n\nThe function \"Patchwork\\Utf8::substr\" was replaced by the PHP function \"mb_substr \".\n\nIn the templates for the reader modules, the \"back button\" was adjusted\n\nThe insert tag for {{request_token}} was replaced by <?= $this->requestToken ?>.\n\nMarkup for the preview feature was added to the download templates\n\nThe search templates were adjusted\n\nThe template for the password field was changed\n\nCSS classes «first» und «last»\n\nThe CSS classes \"first\" and \"last\" are no longer automatically added to articles and content elements. If you have used these CSS classes, you need to adjust your CSS accordingly and should replace them with CSS selectors (first-child, last-child, nth-child).\n\nIn general, you should completely avoid using the CSS classes \"first\", \"last\", \"even\" and \"odd\", since Contao 5 removes these classes from all elements.\n\nSwitch the routing mode\n\nWith Contao 4.10, a new routing mode has been introduced. Since some third-party extensions may have problems with the new routing, it is disabled by default and can be enabled in the app configuration. This requires the following entry in the \"config/config.yml\":\n\ncontao:\n\nlegacy_routing: false\n\nDon't forget to clear the application cache for the new configuration to become active.\n\nDynamic sitemaps\n\nThe sitemap.xml is no longer written to the server as a static file like before. Instead it is generated when the /sitemap.xml route is called, depending on the context, and stored in the HTTP cache.\n\nOld: your-domain.com/share/your-sitemap.xml\n\nNew: your-domain.com/sitemap.xml\n\nIf you use the Google Search Console, you should announce the new path to Google.\n\nNo more Google web fonts in page layout\n\nWith Contao 4.11, the entry for Google Web Fonts was removed in the page layout. During migration, an corresponding line should have been automatically added to \"Additional <head>tags\". Make sure this was successful if you used Google fonts. For privacy reasons, it is recommended to remove the entry completely and include the Google Fonts locally.\n\nAdjust permissions\n\nWith the update, new fields have also been added to Contao. To allow editors to use these new fields (e.g. the page title for FAQ entries), you need to adjust the user groups accordingly.\n\nUse public folder\n\nThis step is not mandatory because Contao and the Contao Manager support both the old and the new path. However, if you would like to have a consistent installation environment, you can rename the existing \"web\"-folder to \"public\".\n\nAttention: The path change must also be done in the domain configuration in the hosting.\n\nMySQL strict mode as default\n\nSince Contao 4.13, MySQL strict mode is enabled by default. If you manually added this to your config, you can clean it up in the config/config.yml.\n\nClean up composer.json\n\nThis task is only necessary if you manage Contao from the command line. If you use the Contao Manager, the necessary adjustments will be done automatically.\n\nIf your Contao project has been installed for a long time and you have done several version updates, it is possible that some entries in the \"composer.json\" are outdated and need to be modified. Compare the \"composer.json\" of a fresh Contao 4.13 installation with your local file.\n\nTake a close look at the following sections:\n\nconfig\n\nextra\n\nscripts\n\nAs said before, this is only relevant if you use \"composer\" from the command line.\n\nRemove unnecessary extensions\n\nContao is continuously improved, so certain features of extensions are directly integrated into the Contao core. For example, since Contao 4.11 the metadata for FAQs can be overridden and since Contao 4.13 canonical URLs can be configured.\n\nSwitch to PHP 8\n\nContao 4.13 is compatible with the current PHP 8 version. Unfortunately, not all extensions have been adapted for PHP 8 yet. If the extensions you use are already fit for PHP 8, you should definitely take advantage of the speed benefits and adapt the PHP version.\n\nWhat do I have to keep in mind to make the switch?\n\nFirst of all you have to change your hosting to PHP 8. Then you should check your \"composer.json\" if there is still an entry for PHP 7 under \"require\".\n\nThis could look like this:\n\n\"require\": {\n\n\"php\": \"^7.3\",\n\n…\n\nChange the entry to PHP ^8.0 or delete the line completely.\n\nFinally, it is important that you open the Contao Manager and update all packages by clicking on \"Update packages\" and then on \"Apply changes\" and in the dropdown select \"Update all packages\".\n\nSummary\n\nThe update to Contao 4.13 should in most cases be uncomplicated and feasible without major problems. A bit more difficult might the conversion to PHP 8 be, because of compatibility issues that extensions need to fix. Many developers have already started to adapt their extensions. We expect the switch to PHP 8 will also go smoothly this fall at the latest.\n\nNewsletter\n\nSubscribe to our free newsletter and never miss a blog post.\n\nWe will send you no more than one update a week and you can unsubscribe from the newsletter anytime by clicking the respective link in the email. Your email address will only be used for this very newsletter. For more information on data protection regarding our newsletter, please visit our privacy policy."
    }
}