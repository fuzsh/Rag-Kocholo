{
    "id": "dbpedia_6725_2",
    "rank": 9,
    "data": {
        "url": "https://support.perimeter81.com/docs/configuring-perimeter-site-to-site-ipsec-with-sonicwall-firewall",
        "read_more_link": "",
        "language": "en",
        "title": "SonicWall",
        "top_image": "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/Main_icon.png",
        "meta_img": "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/Main_icon.png",
        "images": [
            "https://cdn.document360.io/logo/44667c0c-50d7-412a-acbd-20d4a41c952e/6b076cb056d040019e15f9b1acf655e6-HarmonySASE.png",
            "https://cdn.document360.io/static/images/document360-logo.svg",
            "https://s.gravatar.com/avatar/7f87112ef94462f2a3f69fd50082450e?s=120&r=pg&d=https%3a%2f%2fcdn.auth0.com%2favatars%2fsu.png?sv=2022-11-02&st=2024-08-17T01%3A42%3A47Z&se=2024-08-17T02%3A02%3A47Z&sr=b&sp=r&sig=PLTPOptU8NZ3xoISHcXlRVR8ighQmDoiMeeP2JPHiYM%3D",
            "https://www.gravatar.com/avatar/7ef43b31b34c04b410c2ddc006c8dfe2?sv=2022-11-02&st=2024-08-17T01%3A42%3A47Z&se=2024-08-17T02%3A02%3A47Z&sr=b&sp=r&sig=T2xzMHzEOcGkLRhNV2%2Fpo2u%2BJ9u4TWzFTP6yMtifivU%3D",
            "https://s.gravatar.com/avatar/7f87112ef94462f2a3f69fd50082450e?s=120&r=pg&d=https%3a%2f%2fcdn.auth0.com%2favatars%2fsu.png?sv=2022-11-02&st=2024-08-17T01%3A42%3A47Z&se=2024-08-17T02%3A02%3A47Z&sr=b&sp=r&sig=PLTPOptU8NZ3xoISHcXlRVR8ighQmDoiMeeP2JPHiYM%3D",
            "https://www.gravatar.com/avatar/7ef43b31b34c04b410c2ddc006c8dfe2?sv=2022-11-02&st=2024-08-17T01%3A42%3A47Z&se=2024-08-17T02%3A02%3A47Z&sr=b&sp=r&sig=T2xzMHzEOcGkLRhNV2%2Fpo2u%2BJ9u4TWzFTP6yMtifivU%3D",
            "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/Screen_Shot_2022-06-02_at_5_53_13_PM.png",
            "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/Screen%20Shot%202022-06-02%20at%205.56.11%20PM.png",
            "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/Screen%20Shot%202022-06-02%20at%205.57.33%20PM.png",
            "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/Policy%20Based.png",
            "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/image-831.png",
            "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/httpsfilesreadmeio2fd53d2-ScreenShot2019-06-12at82419.png",
            "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/image-1670445727270.png",
            "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/httpsfilesreadmeio4e84cf4-ScreenShot2019-06-12at82455.png",
            "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/image-1670272906260.png",
            "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/image-1670272878298.png",
            "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/httpsfilesreadmeiob0446f5-ScreenShot2019-06-12at83447.png",
            "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/httpsfilesreadmeiocc124cd-ScreenShot2019-06-12at83537.png",
            "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/httpsfilesreadmeio9d71774-ScreenShot2019-06-12at90701.png",
            "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/httpsfilesreadmeio86c9b44-ScreenShot2019-06-12at90710.png",
            "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/image-1670447445017.png",
            "https://cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/httpsfilesreadmeio24dc4e6-ScreenShot2019-06-12at90907.png"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            "Enterprise",
            "Essentials",
            "Premium"
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "",
        "meta_lang": "en",
        "meta_favicon": "//cdn.document360.io/44667c0c-50d7-412a-acbd-20d4a41c952e/Images/Documentation/Main_icon.png",
        "meta_site_name": "",
        "canonical_link": null,
        "text": "Introduction\n\nThis guide will lead you through the steps to establish a Site-to-Site VPN tunnel between your Harmony SASE network and the SonicWall Firewall environment.\n\nBreakdown of topics\n\nPre-requisites\n\nConfiguration Steps\n\nVerifying the Setup\n\nTroubleshooting\n\nSupport Contacts\n\nPre-requisites\n\nTo successfully follow this guide, ensure that:\n\nYou have an active Harmony SASE account with an existing network.\n\nThe Harmony SASE application is installed on your devices.\n\nYou have an operational SonicWall Firewall setup with necessary administrative privileges.\n\nCreating a Harmony SASE Site-to-Site Tunnel\n\nGo to the Gateway in your network from which you want to create the tunnel to the SonicWall Firewall.\n\nSelect the three-dotted menu (...) and select Add Tunnel.\n\nSelect IPSec Site-2-Site Tunnel and select Continue.\n\nSelect Single Tunnel, and Click Continue.\n\nUnder General Settings, enter the following:\n\nName - Set the name for the Site.\n\nShared Secret - Put a shared secret or select Generate.\n\nPublic IP and Remote ID - Input your Sonicwall Firewall Public WAN IP address.\n\nDouble NAT\n\nIf the SonicWall firewall is behind another router, please input the local LAN IP of the SonicWall under Remote ID (for example: 192.168.1.2),\n\nIn Harmony SASE Gateway Proposal Subnets Choose your Harmony SASE Network Subnet (By default: 10.255.0.0/16, in this screenshot: 10.254.0.0/16).\n\nIn Remote Gateway Proposal Subnets, input your SonicWall internal LAN subnet.\n\nAt the Advanced Settings section complete the following information:\n\nIKE: IKE Version 2\n\nIKE Lifetime: 8h\n\nTunnel Lifetime: 1h\n\nDead Peer Detection Delay: 10s\n\nDead Peer Detection Timeout: 30s\n\nEncryption (Phase 1): aes256\n\nEncryption (Phase 2): aes256\n\nIntegrity (Phase 1): sha1\n\nIntegrity (Phase 2): sha1\n\nDiffie Hellman Groups (Phase 1): 2\n\nDiffie Hellman Groups (Phase 2): 2\n\nClick \"Add Tunnel\".\n\nCreating objects in SonicWall\n\nOpen the SonicWall user interface, and select Objects.\n\nGo to Address Objects.\n\nClick Add.\n\nCreate an address object for your external Harmony SASE Gateway address.\n\nName: Select a logical name. For example, \"P81-Silicon-Valley\"\n\nZone Assignment: VPN\n\nType: Host\n\nIP Address: Input your Harmony SASE gateway address.\n\nAdd another Object (steps 1-3) for your internal Harmony SASE Subnet.\n\nName: Select a logical name. Example: \"P81-Network\"\n\nZone Assignment: VPN\n\nType: Network\n\nNetwork: Your Harmony SASE Subnet (usually 10.255.0.0).\n\nNetmask/Prefix Length: Your Harmony SASE Subnet mask (usually 255.255.0.0).\n\nFinding your Harmony SASE Subnet\n\nGo to your Harmony SASE Admin console, and navigate to the network.\n\nClick the ellipses (\"...\") -> Edit network.\n\nYour Harmony SASE Subnet should be under Subnet (optional).\n\nDefining firewall Policies in the SonicWall Interface\n\nVPN to WAN Rule\n\nGo to Policy -> Rules.\n\nSelect Add.\n\nPolicy Name: P81-WAN\n\nAction: Allow\n\nFrom: VPN\n\nTo: WAN\n\nSource Port: Any\n\nService: Any\n\nSource: P81-Gateway object\n\nDestination: Your external internet interface object\n\nSelect Add.\n\nVPN to LAN Rule\n\nGo to Policy:-> Rules.\n\nSelect Add.\n\nPolicy Name: P81-LA\n\nAction: Allow\n\nFrom: VPN\n\nTo: LAN\n\nSource Port: Any\n\nService: Any\n\nSource: P81: P81-Network (the Harmony SASE subnet) Object\n\nDestination: Your internal subnet object\n\nSelect Add.\n\nCrating a Site-to-Site connection in the SonicWall interface\n\nIn the SonicWall interface, navigate to VPN.\n\nUnder Base Settings, add a VPN Policy.\n\nGeneral Tab\n\nSecurity Policy\n\nPolicy Type: Site to Site\n\nAuthentication Method: IKE using Preshared Secret.\n\nName: Give it a name ex. \"P81-Silicon Valley\"\n\nIPsec Primary Gateway Name or Address: Input your P81 gateway address.\n\nIPsec Secondary Gateway Name or Address: Leave blank.\n\nIKE Authentication\n\nShared Secret: Input the same shared secret you set in Harmony SASE tunnel configuration.\n\nConfirm Secret: Input the secret again.\n\nLocal IKE ID: \"IPv4 Address: put your local external internet address.\n\nPeer IKE ID: \"IPv4 Address:\" put your P81 gateway address.\n\nNetwork Tab\n\nLocal Networks\n\nChoose a local network from the list:Select your local LAN network from the dropdown list\n\nChoosing your Local Interface:\n\nTypically, this will be the subnet labeled \"X0 (LAN)\" in your SonicWall Network Interface portal.\n\nRemote Networks\n\nChoose destination network from the list: Select the P81-Network (Harmony SASE subnet) object\n\nProposals Tab\n\nIKE (Phase 1) Proposal\n\nExchange: IKEv2 Mode\n\nDH Group: Group 2\n\nEncryption: AES-256\n\nAuthentication: SHA1\n\nLife Time (seconds): 28800\n\nIPSEC (Phase 2) Proposal\n\nProtocol: ESP\n\nEncryption: AES-256\n\nAuthentication: SHA1\n\nEnable \"Enable Perfect Forward Security\"\n\nDH Group: Group 2\n\nLife Time (seconds): 3600\n\nAdvanced Tab\n\nAdvanced Setting\n\nCheck the Enable Keep Alive box.\n\nSelect OK to create the new VPN Policy.\n\nMaking sure the change is committed to SonicWall\n\nIn the VPN Policies Screen - Make sure that the new VPN Policy you've just created is enabled.\n\nYou can select the Play (â–º) button to the right of the Currently Active VPN Tunnels, and you should see that your new tunnel is up.\n\nIf the tunnel won't start you can navigate to the Event Logs and check for errors regarding the new VPN policy you've created.\n\nVerifying the Setup\n\nAfter following the above steps, your tunnel should be active.\n\nTo verify, go to your Harmony SASE dashboard, locate the tunnel you just created, and check the tunnel status.\n\nIt should indicate that the tunnel is \"Up\", signifying a successful connection.\n\nNext, connect to your network using the Harmony SASE agent and attempt to access one of the resources in your environment.\n\nTroubleshooting\n\nIf you encounter issues during or after the setup, try reviewing your settings to ensure everything matches the instructions. In particular, check the IP addresses and other details you entered during setup. If issues persist, please consult our dedicated support."
    }
}