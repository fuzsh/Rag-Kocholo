Summary

Beginning with version 2.3 of Box Drive, admins can configure the Box Drive folder location.

Important

This article discusses resolving issues around file-to-file linking via absolute paths as seen in many popular apps such as Excel, Word, InDesign, and so on. Relative file path links should work regardless of the Box Drive folder location. For more on absolute and relative paths, see the Related Links section at the end of this article.

Background

The default location for the Box Drive folder does not allow content collaborators to access absolute links set by another individual. That’s because the links' file paths incorporate that individual's profile name. So for George Washington, the Box Drive folder location is:

C:\Users\GWashington\Box (on Windows)

/Users/GWashington/Box (on a Mac)

In the above example, only George Washington can access linked files that use absolute paths because other collaborators don't have GWashington in their Box Drive folder path.

You can resolve this by having all collaborators customize their Box Drive folder location to the same folder. If George Washington and colleague Abe Lincoln move their Box Drive folders to C:\Cloud, absolute links to other files in Box Drive will no longer contain the individual's profile name. Both George and Abe can work on the same files containing absolute links to other files because now the Box Drive folder is C:\Cloud\Box on both computers.

Important:

Customizing the Box Drive folder location resolves issues with absolute file path linking when all files and linked files are accessible to a user via Box Drive. It does not resolve these issues when files are downloaded via Box Edit or the Box web application or when some of the files exist outside of Box Drive's folder.

Customizing the Box Drive folder location does not resolve absolute file path linking issues between Mac and Windows environments because it is impossible to set the folder location to a path that works on both operating systems.

On both Windows and Mac systems, Box Drive sets the permissions of the Box Drive folder to the current user. This prevents multiple people on the same machine from accessing each other's files even if the folder is in a shared location such as C:\ or /Users/Shared.

Ensuring paths are available to all collaborators

For this feature to function as expected, all collaborators:

Must use the same custom Box Drive folder location.

Must not alter the location in the future.

Must have access to the same files in the same folder hierarchy under the Box Drive folder.

For example, if one user can see their Excel spreadsheet and linked files under C:\Cloud\Box\Projects\Crossing_the_Delaware and and another user sees them under a different location under C:\Cloud\Box, customizing the Box Drive folder location does not resolve their issue. To resolve this, you must switch your app to use relative paths (if possible), or change the second user's collaboration permissions on the folder so that it does display under the same path as the first user.

Configuring the location

To customize the location of the Box Drive folder, ensure everyone is on Box Drive v2.3 or later and follow the steps below. This involves adding a system setting in the registry on Windows or a user defaults value on Mac. We recommend you set these values before installing Box Drive. If you set the value after installing, Box Drive does not pick up the setting until it is restarted.

Important:

Ensure that the custom folder location already exists and that it does not contain a file or folder called Box. If Box Drive discovers a file or folder called Box under the custom location, it reverts back to the default location under the user's profile directory.

Ensure that everyone has the proper file system permissions at the new location. We recommend testing with a few individuals to ensure they can still continue to access Box content unimpeded.

Customizing the Box Drive folder does not change where Box Drive stores its app data or cached files. So customizing the folder will not save disk space if you relocate the folder to another drive.

Anyone with edit permission to their machine’s registry settings on Windows or user defaults on Mac can customize the Box Drive folder location.

In a Windows environment

Create the parent folder where you want the Box Drive folder to display -- for example, C:\ or C:\Cloud or D:\This\Is\A\Folder

When Box Drive launches, it creates a folder called Box in this folder.

Note

The path does not need to be under the C:\ drive but it cannot be on a network drive or external drive.

Create an new string value (REG_SZ) using the Registry Editor tool under HKEY_LOCAL_MACHINE\SOFTWARE\Box\Box called CustomBoxLocation

Set the value of CustomBoxLocation to the path of the folder you created in step 1.

For example, if you want the Box Drive folder to appear under C:\Cloud:

Name Type Value CustomBoxLocation (REG_SZ) C:\Cloud

Restart Box Drive.

In a Mac environment

Create the parent folder where you want the Box Drive folder to display. For example, /Users/Shared/Cloud or /Users/Shared/This/Is/A/folder

When Box Drive launches, it creates a folder called Box in this folder.

Note

Before macOS 10.15 Catalina, you could create paths at the root of the local drive. 10.15 now prevents access to this location. See "About the read-only system volume in macOS Catalina." We recommend the /Users/Shared base path for compatibility with all MacOS versions.

Add a user defaults value to com.box.desktop called CustomBoxLocation with the value set to the path of the folder you created in step 1.

For example, if you want the Box Drive folder to display under /Users/Shared/Cloud, run the following command in Terminal:

defaults write com.box.desktop CustomBoxLocation -string "/Users/Shared/Cloud"

Restart Box Drive.

Important:

Custom Mount Location is not supported on macOS devices configured using the FPE mode of Box Drive(v 2.23.193 or above).

Custom Mount Location continues to work if you're using the legacy kernel-based Box Drive configuration on macOS 11.x and 10.15. For more details, click here.

To remove the custom mount path

In a Windows environment

Delete the CustomBoxLocation registry value from HKEY_LOCAL_MACHINE\SOFTWARE\Box\Box.

Restart Box Drive.

In a Mac environment

Run the following command in Terminal:

defaults delete com.box.desktop CustomBoxLocation

Restart Box Drive.

Unsupported locations

Box does not support customizing its folder location to:

External Drives

Network Drives

The Box Sync folder or anywhere within the Box Sync folder (serious errors may result)

Migrating legacy file paths

Thus far we’ve discussed creating links in applications after you’ve moved the Drive location. But what about legacy absolute links – links that were set when files were in Box Drive prior to the move, or links set in your old file share, Box Sync, and so on?

After you move Box Drive, none of these absolute legacy links work until you update them manually to point to their new location. See below for links to third-party articles that discuss how to migrate legacy absolute path links per individual application.

Related links

Absolute paths and relative paths from Wikipedia.

Identifying and updating paths in other applications:

Microsoft Word

Microsoft Excel

Microsoft PowerPoint

Adobe InDesign

tech_writers_swarm_kb