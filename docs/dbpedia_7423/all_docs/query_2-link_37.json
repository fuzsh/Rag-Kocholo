{
    "id": "dbpedia_7423_2",
    "rank": 37,
    "data": {
        "url": "https://www.cisco.com/c/en/us/td/docs/security/asa/upgrade/asa-upgrade/asa-appliance-asav.html",
        "read_more_link": "",
        "language": "en",
        "title": "Cisco Secure Firewall ASA Upgrade Guide - Upgrade the ASA [Cisco ASA 5500-X Series Firewalls]",
        "top_image": "",
        "meta_img": "",
        "images": [
            "https://www.cisco.com/etc/designs/cdc/fw/i/ic_clear_gray.png",
            "https://www.cisco.com/etc/designs/cdc/fw/i/ic_clear_gray.png",
            "https://www.cisco.com/content/dam/en/us/td/i/templates/note.gif",
            "https://www.cisco.com/content/dam/en/us/td/i/templates/note.gif",
            "https://www.cisco.com/c/dam/cdc/i/Feedback_OceanBlue.png",
            "https://www.cisco.com/etc/designs/cdc/fw/i/icon_lock_small.png",
            "https://cisco.112.2o7.net/b/ss/cisco-mobile/5/12345"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": "2024-04-30T10:41:37",
        "summary": "",
        "meta_description": "Upgrade the ASA",
        "meta_lang": "en",
        "meta_favicon": "",
        "meta_site_name": "Cisco",
        "canonical_link": "https://www.cisco.com/c/en/us/td/docs/security/asa/upgrade/asa-upgrade/asa-appliance-asav.html",
        "text": "Upgrade the Firepower 1000/2100 and Secure Firewall 3100/4200\n\nThis document describes how to plan and implement an ASA, FXOS, and ASDM upgrade for standalone, failover, or clustering deployments on the Firepower 1000/2100 and Secure Firewall 3100/4200.\n\nFor the Firepower 2100 in 9.12 and earlier, only Platform mode is available. In 9.13 and later, Appliance mode is the default. Check the mode by using the show fxos mode command at the ASA CLI.\n\nUpgrade the Firepower 1000, 2100 in Appliance Mode, and Secure Firewall 3100/4200\n\nThis document describes how to plan and implement an ASA, FXOS, and ASDM upgrade for standalone or failover deployments for the Firepower 1000, 2100 in Appliance mode, and Secure Firewall 3100/4200. Prior to version 9.13, the Firepower 2100 only supported Platform mode. In 9.14 and later, Appliance mode is the default. In 9.14 and later, use the show fxos mode command on the ASA to determine your current mode. For Platform mode procedures, see Upgrade the Firepower 2100 in Platform Mode.\n\nUpgrade a Standalone Unit\n\nUse the CLI or ASDM to upgrade the standalone unit.\n\nUpgrade a Standalone Unit Using the CLI\n\nThis section describes how to install the ASDM and ASA images on the Firepower 1000, Firepower 2100 in Appliance mode, Secure Firewall 3100/4200.\n\nBefore you begin\n\nThis procedure uses FTP. For TFTP, HTTP, or other server types, see the copy command in the ASA command reference.\n\nProcedure\n\nStep 1\n\nIn global configuration mode, if you previously set a non-default ASDM image, then reset it to the image that came with your image bundle.\n\nasdm image disk0:/asdm.bin\n\nwrite memory\n\nThe image bundle includes the ASDM image, and when you upgrade the ASA bundle, the ASDM image in the bundle replaces the previous ASDM bundle image on the ASA after reloading because they have the same name (asdm.bin). If you manually chose a different ASDM image that you uploaded (for example, asdm-7191.bin), then you continue to use that image even after a bundle upgrade. To make sure that you are running a compatible version of ASDM, you should reconfigure the ASA to use the bundled ASDM image.\n\nStep 2\n\nIn privileged EXEC mode (minimum), copy the ASA software to flash memory.\n\ncopy ftp://[[user[:password]@]server[/path]/asa_image_name diskn:/[path/]asa_image_name\n\nExample:\n\nciscoasa# copy ftp://jcrichton:aeryn@10.1.1.1/cisco-asa-fp1k.9.14.1.SPA disk0:/cisco-asa-fp1k.9.14.1.SPA\n\nStep 3\n\nAccess global configuration mode.\n\nconfigure terminal\n\nExample:\n\nciscoasa# configure terminal ciscoasa(config)#\n\nStep 4\n\nShow the current boot image configured, if present.\n\nshow running-config boot system\n\nNote that you may not have a boot system command present in your configuration; for example, if you installed the image from ROMMON, have a new device, or you removed the command manually.\n\nExample:\n\nciscoasa(config)# show running-config boot system boot system disk0:/cisco-asa-fp1k.9.13.1.SPA\n\nStep 5\n\nIf you have a boot system command configured, remove it so that you can enter the new boot image.\n\nno boot system diskn:/[path/]asa_image_name\n\nIf you did not have a boot system command configured, skip this step.\n\nExample:\n\nciscoasa(config)# no boot system disk0:/cisco-asa-fp1k.9.13.1.SPA\n\nStep 6\n\nSet the ASA image to boot (the one you just uploaded).\n\nboot system diskn:/[path/]asa_image_name\n\nYou can only enter a single boot system command. The boot system command performs an action when you enter it: the system validates and unpacks the image and copies it to the boot location (an internal location on disk0 managed by FXOS). The new image will load when you reload the ASA. If you change your mind prior to reloading, you can enter the no boot system command to delete the new image from the boot location, so the current image continues to run.\n\nExample:\n\nciscoasa(config)# boot system disk0:/cisco-asa-fp1k.9.14.1.SPA The system is currently installed with security software package 9.13.1, which has: - The platform version: 2.7.1 - The CSP (asa) version: 9.13.1 Preparing new image for install... !!!!!!!!!!!!! Image download complete (Successful unpack the image). Installation of version 9.14.1 will do the following: - upgrade to the new platform version 2.8.1 - upgrade to the CSP ASA version 9.14.1 After the installation is complete, reload to apply the new image. Finalizing image install process... Install_status: ready........... Install_status: validating-images..... Install_status: update-software-pack-completed ciscoasa(config)#\n\nStep 7\n\nSave the new settings to the startup configuration:\n\nwrite memory\n\nStep 8\n\nReload the ASA:\n\nreload\n\nUpgrade a Standalone Unit from Your Local Computer Using ASDM\n\nThe Upgrade Software from Local Computer tool lets you upload an image file from your computer to the flash file system to upgrade the ASA for the Firepower 1000, Firepower 2100 in Appliance mode, Secure Firewall 3100/4200.\n\nProcedure\n\nUpgrade a Standalone Unit Using the ASDM Cisco.com Wizard\n\nThe Upgrade Software from Cisco.com Wizard lets you automatically upgrade the ASDM and ASA to more current versions for the Firepower 1000, Firepower 2100 in Appliance mode, Secure Firewall 3100.\n\nIn this wizard, you can do the following:\n\nChoose an ASA image file and/or ASDM image file to upgrade.\n\nReview the upgrade changes that you have made.\n\nDownload the image or images and install them.\n\nReview the status of the installation.\n\nIf the installation completed successfully, reload the ASA to save the configuration and complete the upgrade.\n\nBefore you begin\n\nDue to an internal change, the wizard is only supported using ASDM 7.10(1) and later; also, due to an image naming change, you must use ASDM 7.12(1) or later to upgrade to ASA 9.10(1) and later. Because ASDM is backwards compatible with earlier ASA releases, you can upgrade ASDM no matter which ASA version you are running.\n\nProcedure\n\nUpgrade an Active/Standby Failover Pair\n\nUse the CLI or ASDM to upgrade the Active/Standby failover pair for a zero downtime upgrade.\n\nUpgrade an Active/Standby Failover Pair Using the CLI\n\nTo upgrade the Active/Standby failover pair for the Firepower 1000, Firepower 2100 in Appliance mode, Secure Firewall 3100/4200, perform the following steps.\n\nBefore you begin\n\nPerform these steps on the active unit. For SSH access, connect to the active IP address; the active unit always owns this IP address. When you connect to the CLI, determine the failover status by looking at the ASA prompt; you can configure the ASA prompt to show the failover status and priority (primary or secondary), which is useful to determine which unit you are connected to. See the prompt command. Alternatively, enter the show failover command to view this unit's status and priority (primary or secondary).\n\nThis procedure uses FTP. For TFTP, HTTP, or other server types, see the copy command in the ASA command reference.\n\nProcedure\n\nStep 1\n\nOn the primary unit in global configuration mode, if you previously set a non-default ASDM image, then reset it to the image that came with your image bundle.\n\nasdm image disk0:/asdm.bin\n\nwrite memory\n\nThe image bundle includes the ASDM image, and when you upgrade the ASA bundle, the ASDM image in the bundle replaces the previous ASDM bundle image on the ASA after reloading because they have the same name (asdm.bin). If you manually chose a different ASDM image that you uploaded (for example, asdm-7191.bin), then you continue to use that image even after a bundle upgrade. To make sure that you are running a compatible version of ASDM, you should reconfigure the ASA to use the bundled ASDM image.\n\nStep 2\n\nOn the active unit in privileged EXEC mode (minimum), copy the ASA software to the active unit flash memory:\n\ncopy ftp://[[user[:password]@]server[/path]/asa_image_name diskn:/[path/]asa_image_name\n\nExample:\n\nasa/act# copy ftp://jcrichton:aeryn@10.1.1.1/cisco-asa-fp1k.9.14.1.SPA disk0:/cisco-asa-fp1k.9.14.1.SPA\n\nStep 3\n\nCopy the software to the standby unit; be sure to specify the same path as for the active unit:\n\nfailover exec mate copy /noconfirm ftp://[[user[:password]@]server[/path]/asa_image_name diskn:/[path/]asa_image_name\n\nExample:\n\nasa/act# failover exec mate copy /noconfirm ftp://jcrichton:aeryn@10.1.1.1/cisco-asa-fp1k.9.14.1.SPA disk0:/cisco-asa-fp1k.9.14.1.SPA\n\nStep 4\n\nIf you are not already in global configuration mode, access global configuration mode:\n\nconfigure terminal\n\nStep 5\n\nShow the current boot image configured, if present.\n\nshow running-config boot system\n\nNote that you may not have a boot system command present in your configuration; for example, if you installed the image from ROMMON, have a new device, or you removed the command manually.\n\nExample:\n\nciscoasa(config)# show running-config boot system boot system disk0:/cisco-asa-fp1k.9.13.1.SPA\n\nStep 6\n\nIf you have a boot system command configured, remove it so that you can enter the new boot image.\n\nno boot system diskn:/[path/]asa_image_name\n\nIf you did not have a boot system command configured, skip this step.\n\nExample:\n\nciscoasa(config)# no boot system disk0:/cisco-asa-fp1k.9.13.1.SPA\n\nStep 7\n\nSet the ASA image to boot (the one you just uploaded).\n\nboot system diskn:/[path/]asa_image_name\n\nYou can only enter a single boot system command. The boot system command performs an action when you enter it: the system validates and unpacks the image and copies it to the boot location (an internal location on disk0 managed by FXOS). The new image will load when you reload the ASA. If you change your mind prior to reloading, you can enter the no boot system command to delete the new image from the boot location, so the current image continues to run.\n\nExample:\n\nciscoasa(config)# boot system disk0:/cisco-asa-fp1k.9.14.1.SPA The system is currently installed with security software package 9.13.1, which has: - The platform version: 2.7.1 - The CSP (asa) version: 9.13.1 Preparing new image for install... !!!!!!!!!!!!! Image download complete (Successful unpack the image). Installation of version 9.14.1 will do the following: - upgrade to the new platform version 2.8.1 - upgrade to the CSP ASA version 9.14.1 After the installation is complete, reload to apply the new image. Finalizing image install process... Install_status: ready........... Install_status: validating-images..... Install_status: update-software-pack-completed ciscoasa(config)#\n\nStep 8\n\nSave the new settings to the startup configuration:\n\nwrite memory\n\nThese configuration changes are automatically saved on the standby unit.\n\nStep 9\n\nReload the standby unit to boot the new image:\n\nfailover reload-standby\n\nWait for the standby unit to finish loading. Use the show failover command to verify that the standby unit is in the Standby Ready state.\n\nStep 10\n\nForce the active unit to fail over to the standby unit.\n\nno failover active\n\nIf you are disconnected from your SSH session, reconnect to the main IP address, now on the new active/former standby unit.\n\nStep 11\n\nFrom the new active unit, reload the former active unit (now the new standby unit).\n\nfailover reload-standby\n\nExample:\n\nasa/act# failover reload-standby\n\nUpgrade an Active/Standby Failover Pair Using ASDM\n\nThe Upgrade Software from Local Computer tool lets you upload an image file from your computer to the flash file system to upgrade the Active/Standby failover pair for the Firepower 1000, Firepower 2100 in Appliance mode, Secure Firewall 3100/4200.\n\nProcedure\n\nUpgrade an Active/Active Failover Pair\n\nUse the CLI or ASDM to upgrade the Active/Active failover pair for a zero downtime upgrade.\n\nUpgrade an Active/Active Failover Pair Using the CLI\n\nTo upgrade two units in an Active/Active failover configuration, perform the following steps on the Firepower 1000, Firepower 2100 in Appliance mode, Secure Firewall 3100/4200.\n\nBefore you begin\n\nPerform these steps on the primary unit.\n\nPerform these steps in the system execution space.\n\nThis procedure uses FTP. For TFTP, HTTP, or other server types, see the copy command in the ASA command reference.\n\nProcedure\n\nStep 1\n\nOn the primary unit in global configuration mode, if you previously set a non-default ASDM image, then reset it to the image that came with your image bundle.\n\nasdm image disk0:/asdm.bin\n\nwrite memory\n\nThe image bundle includes the ASDM image, and when you upgrade the ASA bundle, the ASDM image in the bundle replaces the previous ASDM bundle image on the ASA after reloading because they have the same name (asdm.bin). If you manually chose a different ASDM image that you uploaded (for example, asdm-7191.bin), then you continue to use that image even after a bundle upgrade. To make sure that you are running a compatible version of ASDM, you should reconfigure the ASA to use the bundled ASDM image.\n\nStep 2\n\nOn the primary unit in privileged EXEC mode (minimum), copy the ASA software to flash memory:\n\ncopy ftp://[[user[:password]@]server[/path]/asa_image_name diskn:/[path/]asa_image_name\n\nExample:\n\nasa/act/pri# copy ftp://jcrichton:aeryn@10.1.1.1/cisco-asa-fp1k.9.14.1.SPA disk0:/cisco-asa-fp1k.9.14.1.SPA\n\nStep 3\n\nCopy the software to the secondary unit; be sure to specify the same path as for the primary unit:\n\nfailover exec mate copy /noconfirm ftp://[[user[:password]@]server[/path]/asa_image_name diskn:/[path/]asa_image_name\n\nExample:\n\nasa/act/pri# failover exec mate copy /noconfirm ftp://jcrichton:aeryn@10.1.1.1/cisco-asa-fp1k.9.14.1.SPA disk0:/cisco-asa-fp1k.9.14.1.SPA\n\nStep 4\n\nIf you are not already in global configuration mode, access global configuration mode:\n\nconfigure terminal\n\nStep 5\n\nShow the current boot image configured, if present.\n\nshow running-config boot system\n\nNote that you may not have a boot system command present in your configuration; for example, if you installed the image from ROMMON, have a new device, or you removed the command manually.\n\nExample:\n\nciscoasa(config)# show running-config boot system boot system disk0:/cisco-asa-fp1k.9.13.1.SPA\n\nStep 6\n\nIf you have a boot system command configured, remove it so that you can enter the new boot image.\n\nno boot system diskn:/[path/]asa_image_name\n\nIf you did not have a boot system command configured, skip this step.\n\nExample:\n\nciscoasa(config)# no boot system disk0:/cisco-asa-fp1k.9.13.1.SPA\n\nStep 7\n\nSet the ASA image to boot (the one you just uploaded).\n\nboot system diskn:/[path/]asa_image_name\n\nYou can only enter a single boot system command. The boot system command performs an action when you enter it: the system validates and unpacks the image and copies it to the boot location (an internal location on disk0 managed by FXOS). The new image will load when you reload the ASA. If you change your mind prior to reloading, you can enter the no boot system command to delete the new image from the boot location, so the current image continues to run.\n\nExample:\n\nciscoasa(config)# boot system disk0:/cisco-asa-fp1k.9.14.1.SPA The system is currently installed with security software package 9.13.1, which has: - The platform version: 2.7.1 - The CSP (asa) version: 9.13.1 Preparing new image for install... !!!!!!!!!!!!! Image download complete (Successful unpack the image). Installation of version 9.14.1 will do the following: - upgrade to the new platform version 2.8.1 - upgrade to the CSP ASA version 9.14.1 After the installation is complete, reload to apply the new image. Finalizing image install process... Install_status: ready........... Install_status: validating-images..... Install_status: update-software-pack-completed ciscoasa(config)#\n\nStep 8\n\nSave the new settings to the startup configuration.\n\nwrite memory\n\nThese configuration changes are automatically saved on the secondary unit.\n\nStep 9\n\nMake both failover groups active on the primary unit.\n\nfailover active group 1\n\nfailover active group 2\n\nExample:\n\nasa/act/pri(config)# failover active group 1 asa/act/pri(config)# failover active group 2\n\nStep 10\n\nReload the secondary unit to boot the new image:\n\nfailover reload-standby\n\nWait for the secondary unit to finish loading. Use the show failover command to verify that both failover groups are in the Standby Ready state.\n\nStep 11\n\nForce both failover groups to become active on the secondary unit:\n\nno failover active group 1\n\nno failover active group 2\n\nExample:\n\nasa/act/pri(config)# no failover active group 1 asa/act/pri(config)# no failover active group 2 asa/stby/pri(config)#\n\nIf you are disconnected from your SSH session, reconnect to the failover group 1 IP address, now on the secondary unit.\n\nStep 12\n\nReload the primary unit:\n\nfailover reload-standby\n\nExample:\n\nasa/act/sec# failover reload-standby\n\nYou may be disconnected from your SSH session.\n\nStep 13\n\nIf the failover groups are configured with the preempt command, they automatically become active on their designated unit after the preempt delay has passed.\n\nUpgrade an Active/Active Failover Pair Using ASDM\n\nThe Upgrade Software from Local Computer tool lets you upload an image file from your computer to the flash file system to upgrade the Active/Active failover pair for the Firepower 1000, Firepower 2100 in Appliance mode, Secure Firewall 3100/4200.\n\nBefore you begin\n\nPerform these steps in the system execution space.\n\nPlace the ASA image on your local management computer.\n\nProcedure\n\nUpgrade an ASA Cluster (Secure Firewall 3100/4200)\n\nUpgrade an ASA Cluster Using the CLI (Secure Firewall 3100/4200)\n\nTo upgrade all nodes in an ASA cluster, perform the following steps. This procedure uses FTP. For TFTP, HTTP, or other server types, see the copy command in the ASA command reference.\n\nBefore you begin\n\nPerform these steps on the control node. You can configure the ASA prompt to show the cluster node and state (control or data), which is useful to determine which node you are connected to. See the prompt command. Alternatively, enter the show cluster info command to view each node's role.\n\nYou must use the console port; you cannot enable or disable clustering from a remote CLI connection.\n\nPerform these steps in the system execution space for multiple context mode.\n\nProcedure\n\nStep 1\n\nOn the control node in global configuration mode, if you previously set a non-default ASDM image, then reset it to the image that came with your image bundle.\n\nasdm image disk0:/asdm.bin\n\nwrite memory\n\nThe image bundle includes the ASDM image, and when you upgrade the ASA bundle, the ASDM image in the bundle replaces the previous ASDM bundle image on the ASA after reloading because they have the same name (asdm.bin). If you manually chose a different ASDM image that you uploaded (for example, asdm-7191.bin), then you continue to use that image even after a bundle upgrade. To make sure that you are running a compatible version of ASDM, you should reconfigure the ASA to use the bundled ASDM image.\n\nStep 2\n\nOn the control node in privileged EXEC mode (minimum), copy the ASA software to all nodes in the cluster.\n\ncluster exec copy /noconfirm ftp://[[user[:password]@]server[/path]/asa_image_name diskn:/[path/]asa_image_name\n\nExample:\n\nasa/unit1/control# cluster exec copy /noconfirm ftp://dwinchester:sam@10.1.1.1/cisco-asa-fp3k.9.19.1.SPA disk0:/cisco-asa-fp3k.9.19.1.SPA\n\nStep 3\n\nIf you are not already in global configuration mode, access it now.\n\nconfigure terminal\n\nExample:\n\nasa/unit1/control# configure terminal asa/unit1/control(config)#\n\nStep 4\n\nShow the current boot image configured, if present.\n\nshow running-config boot system\n\nNote that you may not have a boot system command present in your configuration; for example, if you installed the image from ROMMON, have a new device, or you removed the command manually.\n\nExample:\n\nciscoasa(config)# show running-config boot system boot system disk0:/cisco-asa-fp1k.9.17.1.SPA\n\nStep 5\n\nIf you have a boot system command configured, remove it so that you can enter the new boot image.\n\nno boot system diskn:/[path/]asa_image_name\n\nIf you did not have a boot system command configured, skip this step.\n\nExample:\n\nciscoasa(config)# no boot system disk0:/cisco-asa-fp1k.9.17.1.SPA\n\nStep 6\n\nSet the ASA image to boot (the one you just uploaded).\n\nboot system diskn:/[path/]asa_image_name\n\nYou can only enter a single boot system command. The boot system command performs an action when you enter it: the system validates and unpacks the image and copies it to the boot location (an internal location on disk0 managed by FXOS). The new image will load when you reload the ASA. If you change your mind prior to reloading, you can enter the no boot system command to delete the new image from the boot location, so the current image continues to run.\n\nExample:\n\nciscoasa(config)# boot system disk0:/cisco-asa-fp1k.9.19.1.SPA The system is currently installed with security software package 9.17.1, which has: - The platform version: 2.11.1 - The CSP (asa) version: 9.17.1 Preparing new image for install... !!!!!!!!!!!!! Image download complete (Successful unpack the image). Installation of version 9.19.1 will do the following: - upgrade to the new platform version 2.13.1 - upgrade to the CSP ASA version 9.19.1 After the installation is complete, reload to apply the new image. Finalizing image install process... Install_status: ready........... Install_status: validating-images..... Install_status: update-software-pack-completed ciscoasa(config)#\n\nStep 7\n\nSave the new settings to the startup configuration:\n\nwrite memory\n\nThese configuration changes are automatically saved on the data nodes.\n\nStep 8\n\nUpgrade the data nodes by reloading.\n\nOn the control node, to view member names, enter cluster exec unit ? , or enter the show cluster info command.\n\nReload a data node.\n\ncluster exec unit data-node reload noconfirm\n\nExample:\n\nasa/unit1/control# cluster exec unit node2 reload noconfirm\n\nRepeat for each data node.\n\nTo avoid connection loss and allow traffic to stabilize, wait for each node to come back up and rejoin the cluster (approximately 5 minutes) before repeating these steps for the next node. To view when a node rejoins the cluster, enter show cluster info .\n\nStep 9\n\nUpgrade the control node by reloading.\n\nDisable clustering. We recommend manually disabling clustering on the control node if possible so that a new control node can be elected as quickly and cleanly as possible.\n\ncluster group name\n\nno enable\n\nWait for 5 minutes for a new control node to be selected and traffic to stabilize.\n\nDo not save this configuration; you want clustering to be enabled when you reload.\n\nExample:\n\nasa/unit1/control(config)# cluster group cluster1 asa/unit1/control(cfg-cluster)# no enable Cluster disable is performing cleanup..done. All data interfaces have been shutdown due to clustering being disabled. To recover either enable clustering or remove cluster group configuration. Cluster unit node1 transitioned from CONTROL to DISABLED asa/unit1/ClusterDisabled(cfg-cluster)#\n\nReload this node.\n\nreload noconfirm\n\nWhen the former control node rejoins the cluster, it will be a data node.\n\nUpgrade an ASA Cluster Using ASDM (Secure Firewall 3100/4200)\n\nTo upgrade all nodes in an ASA cluster, perform the following steps.\n\nBefore you begin\n\nPerform these steps on the control node.\n\nPerform these steps in the system execution space for multiple context mode.\n\nPlace the ASA image on your local management computer.\n\nProcedure\n\nUpgrade the Firepower 2100 in Platform Mode\n\nThis document describes how to plan and implement an ASA, FXOS, and ASDM upgrade for standalone or failover deployments for the Firepower 2100 in Platform mode. Prior to version 9.13, the Firepower 2100 only supported Platform mode. In 9.14 and later, Appliance mode is the default. In 9.14 and later, use the show fxos mode command on the ASA to determine your current mode. For appliance mode procedures, see Upgrade the Firepower 1000, 2100 in Appliance Mode, and Secure Firewall 3100/4200.\n\nUpgrade a Standalone Unit\n\nUse the FXOS CLI or Firepower Chassis Manager to upgrade the standalone unit.\n\nUpgrade a Standalone Unit Using the Firepower Chassis Manager\n\nThis section describes how to upgrade the ASA bundle, which includes both ASA and ASDM, for a standalone unit. You will upload the package from your management computer.\n\nProcedure\n\nStep 1\n\nIf you previously set a non-default ASDM image in the ASA configuration, then reset it to the image that came with your image bundle.\n\nThe image bundle includes the ASDM image, and when you upgrade the ASA bundle, the ASDM image in the bundle replaces the previous ASDM bundle image on the ASA after reloading because they have the same name (asdm.bin). If you manually chose a different ASDM image that you uploaded (for example, asdm-7191.bin), then you continue to use that image even after a bundle upgrade. To make sure that you are running a compatible version of ASDM, you should reconfigure the ASA to use the bundled ASDM image.\n\nIn the main ASDM application window, choose Configuration > Device Management > System Image/Configuration > Boot Image/Configuration.\n\nFor the ASDM Image File Path, enter disk0:/asdm.bin.\n\nClick Apply\n\nClick the Save icon on the toolbar to save your configuration changes.\n\nQuit ASDM.\n\nStep 2\n\nConnect to the Firepower Chassis Manager.\n\nStep 3\n\nChoose System > Updates.\n\nThe Available Updates area shows a list of the packages available on the chassis.\n\nStep 4\n\nClick Upload Image to upload the new package from your management computer.\n\nStep 5\n\nClick Choose File to navigate to and select the package that you want to upload.\n\nStep 7\n\nClick the Upgrade icon to the right of the new package.\n\nStep 8\n\nClick Yes to confirm that you want to proceed with installation.\n\nThere is no indicator that the new package is being loaded. You will still see the Firepower Chassis Manager at the beginning of the upgrade process. When the system reboots, you will be logged out. You must wait for the system to come back up before you can log in to the Firepower Chassis Manager. The reboot process takes approximately 20 minutes. After the reboot, you will see the login screen.\n\nUpgrade a Standalone Unit Using the FXOS CLI\n\nThis section describes how to upgrade the ASA bundle, which includes both ASA and ASDM, for a standalone unit. You can use FTP, SCP, SFTP, or TFTP to copy the package to the Firepower 2100 chassis.\n\nProcedure\n\nStep 1\n\nConnect to the FXOS CLI, either the console port (preferred) or using SSH.\n\nStep 2\n\nIf you previously set a non-default ASDM image in the ASA configuration, then reset it to the image that came with your image bundle.\n\nThe image bundle includes the ASDM image, and when you upgrade the ASA bundle, the ASDM image in the bundle replaces the previous ASDM bundle image on the ASA after reloading because they have the same name (asdm.bin). If you manually chose a different ASDM image that you uploaded (for example, asdm-7191.bin), then you continue to use that image even after a bundle upgrade. To make sure that you are running a compatible version of ASDM, you should reconfigure the ASA to use the bundled ASDM image.\n\nConnect to ASA.\n\nconnect asa\n\nExample:\n\nfirepower-2100# connect asa Attaching to Diagnostic CLI ... Press 'Ctrl+a then d' to detach. Type help or '?' for a list of available commands. ciscoasa>\n\nAccess privileged EXEC mode, and then global configuration mode.\n\nenable\n\nconfigure terminal\n\nSet the ASDM image.\n\nasdm image disk0:/asdm.bin\n\nSave the configuration.\n\nwrite memory\n\nReturn to the FXOS console by entering Ctrl+a, d.\n\nStep 3\n\nIn FXOS, download the package to the chassis.\n\nEnter firmware mode.\n\nscope firmware\n\nExample:\n\nfirepower-2110# scope firmware firepower-2110 /firmware#\n\nDownload the package.\n\ndownload image url\n\nSpecify the URL for the file being imported using one of the following:\n\nftp://username@server/[path/]image_name\n\nscp://username@server/[path/]image_name\n\nsftp://username@server/[path/]image_name\n\ntftp://server[:port]/[path/]image_name\n\nExample:\n\nfirepower-2110 /firmware# download image tftp://10.88.29.181/cisco-asa-fp2k.9.8.2.2.SPA Please use the command 'show download-task' or 'show download-task detail' to check download progress.\n\nMonitor the download process.\n\nshow download-task\n\nExample:\n\nfirepower-2110 /firmware # show download Download task: File Name Protocol Server Port Userid State --------- -------- --------------- ---------- --------------- ----- cisco-asa-fp2k.9.8.2.SPA Tftp 10.88.29.181 0 Downloaded cisco-asa-fp2k.9.8.2.2.SPA Tftp 10.88.29.181 0 Downloading firepower-2110 /firmware #\n\nStep 4\n\nWhen the new package finishes downloading (Downloaded state), boot the package.\n\nView the version number of the new package.\n\nshow package\n\nExample:\n\nfirepower-2110 /firmware # show package Name Package-Vers --------------------------------------------- ------------ cisco-asa-fp2k.9.8.2.SPA 9.8.2 cisco-asa-fp2k.9.8.2.2.SPA 9.8.2.2 firepower-2110 /firmware #\n\nInstall the package.\n\nscope auto-install\n\ninstall security-pack version version\n\nIn the show package output, copy the Package-Vers value for the security-pack version number. The chassis installs the ASA image and reboots.\n\nExample:\n\nfirepower-2110 /firmware # scope auto-install firepower-2110 /firmware/auto-install # install security-pack version 9.8.3 The system is currently installed with security software package 9.8.2, which has: - The platform version: 2.2.2.52 - The CSP (asa) version: 9.8.2 If you proceed with the upgrade 9.8.3, it will do the following: - upgrade to the new platform version 2.2.2.97 - upgrade to the CSP asa version 9.8.3 During the upgrade, the system will be reboot Do you want to proceed ? (yes/no):yes This operation upgrades firmware and software on Security Platform Components Here is the checklist of things that are recommended before starting Auto-Install (1) Review current critical/major faults (2) Initiate a configuration backup Do you want to proceed? (yes/no):yes Triggered the install of software package version 9.8.3 Install started. This will take several minutes. For monitoring the upgrade progress, please enter 'show' or 'show detail' command. firepower-2110 /firmware/auto-install #\n\nStep 5\n\nWait for the chassis to finish rebooting (5-10 minutes).\n\nAlthough FXOS is up, you still need to wait for the ASA to come up (5 minutes). Wait until you see the following messages:\n\nfirepower-2110# Cisco ASA: CMD=-install, CSP-ID=cisco-asa.9.8.2.2__asa_001_JAD20280BW90MEZR11, FLAG='' Verifying signature for cisco-asa.9.8.2.2 ... Verifying signature for cisco-asa.9.8.2.2 ... success Cisco ASA: CMD=-start, CSP-ID=cisco-asa.9.8.2.2__asa_001_JAD20280BW90MEZR11, FLAG='' Cisco ASA starting ... Registering to process manager ... Cisco ASA started successfully. […]\n\nUpgrade an Active/Standby Failover Pair\n\nUse the FXOS CLI or Firepower Chassis Manager to upgrade the Active/Standby failover pair for a zero downtime upgrade.\n\nUpgrade an Active/Standby Failover Pair Using the Firepower Chassis Manager\n\nThis section describes how to upgrade the ASA bundle, which includes both ASA and ASDM, for an Active/Standby failover pair. You will upload the package from your management computer.\n\nBefore you begin\n\nYou need to determine which unit is active and which is standby: connect ASDM to the active ASA IP address. The active unit always owns the active IP address. Then choose Monitoring > Properties > Failover > Status to view this unit's priority (primary or secondary) so you know which unit you are connected to.\n\nProcedure\n\nStep 1\n\nIf you previously set a non-default ASDM image in the ASA configuration, then reset it to the image that came with your image bundle.\n\nThe image bundle includes the ASDM image, and when you upgrade the ASA bundle, the ASDM image in the bundle replaces the previous ASDM bundle image on the ASA after reloading because they have the same name (asdm.bin). If you manually chose a different ASDM image that you uploaded (for example, asdm-7191.bin), then you continue to use that image even after a bundle upgrade. To make sure that you are running a compatible version of ASDM, you should reconfigure the ASA to use the bundled ASDM image.\n\nConnect to ASDM on the active unit.\n\nIn the main ASDM application window, choose Configuration > Device Management > System Image/Configuration > Boot Image/Configuration.\n\nFor the ASDM Image File Path, enter disk0:/asdm.bin.\n\nClick Apply\n\nClick the Save icon on the toolbar to save your configuration changes.\n\nQuit ASDM.\n\nStep 2\n\nUpgrade the standby unit.\n\nConnect to the Firepower Chassis Manager on the standby unit.\n\nChoose System > Updates.\n\nThe Available Updates area shows a list of the packages available on the chassis.\n\nClick Upload Image to upload the new package from your management computer.\n\nClick Choose File to navigate to and select the package that you want to upload.\n\nClick Upload.\n\nThe selected package is uploaded to the chassis. The Upload Image dialog box shows the upload status. Wait for the Success dialog box, and click OK. After completing the upload, the integrity of the image is automatically verified.\n\nClick the Upgrade icon to the right of the new package.\n\nClick Yes to confirm that you want to proceed with installation.\n\nThere is no indicator that the new package is being loaded. You will still see the Firepower Chassis Manager at the beginning of the upgrade process. When the system reboots, you will be logged out. You must wait for the system to come back up before you can log in to the Firepower Chassis Manager. The reboot process takes approximately 20 minutes. After the reboot, you will see the login screen.\n\nStep 3\n\nMake the unit that you just upgraded the active unit so that traffic flows to the upgraded unit.\n\nLaunch ASDM on the standby unit by connecting to the standby ASA IP address.\n\nForce the standby unit to become active by choosing Monitoring > Properties > Failover > Status, and clicking Make Active.\n\nStep 4\n\nUpgrade the former active unit.\n\nConnect to the Firepower Chassis Manager on the former active unit.\n\nChoose System > Updates.\n\nThe Available Updates area shows a list of the packages available on the chassis.\n\nClick Upload Image to upload the new package from your management computer.\n\nClick Choose File to navigate to and select the package that you want to upload.\n\nClick Upload.\n\nThe selected package is uploaded to the chassis. The Upload Image dialog box shows the upload status. Wait for the Success dialog box, and click OK. After completing the upload, the integrity of the image is automatically verified.\n\nClick the Upgrade icon to the right of the new package.\n\nClick Yes to confirm that you want to proceed with installation.\n\nThere is no indicator that the new package is being loaded. You will still see the Firepower Chassis Manager at the beginning of the upgrade process. When the system reboots, you will be logged out. You must wait for the system to come back up before you can log in to the Firepower Chassis Manager. The reboot process takes approximately 20 minutes. After the reboot, you will see the login screen.\n\nUpgrade an Active/Standby Failover Pair Using the FXOS CLI\n\nThis section describes how to upgrade the ASA bundle, which includes both ASA and ASDM, for an Active/Standby failover pair. You can use FTP, SCP, SFTP, or TFTP to copy the package to the Firepower 2100 chassis.\n\nBefore you begin\n\nYou need to determine which unit is active and which is standby. To determine the failover status, look at the ASA prompt; you can configure the ASA prompt to show the failover status and priority (primary or secondary), which is useful to determine which unit you are connected to. See the prompt command. However, the FXOS prompt is not aware of ASA failover. Alternatively, enter the ASA show failover command to view this unit's status and priority (primary or secondary).\n\nProcedure\n\nStep 1\n\nIf you previously set a non-default ASDM image in the ASA configuration, then reset it to the image that came with your image bundle.\n\nThe image bundle includes the ASDM image, and when you upgrade the ASA bundle, the ASDM image in the bundle replaces the previous ASDM bundle image on the ASA after reloading because they have the same name (asdm.bin). If you manually chose a different ASDM image that you uploaded (for example, asdm-7191.bin), then you continue to use that image even after a bundle upgrade. To make sure that you are running a compatible version of ASDM, you should reconfigure the ASA to use the bundled ASDM image.\n\nConnect to the FXOS CLI on the active unit, either the console port (preferred) or using SSH.\n\nConnect to ASA.\n\nconnect asa\n\nExample:\n\nfirepower-2100# connect asa Attaching to Diagnostic CLI ... Press 'Ctrl+a then d' to detach. Type help or '?' for a list of available commands. ciscoasa>\n\nAccess privileged EXEC mode, and then global configuration mode.\n\nenable\n\nconfigure terminal\n\nSet the ASDM image.\n\nasdm image disk0:/asdm.bin\n\nSave the configuration.\n\nwrite memory\n\nReturn to the FXOS console by entering Ctrl+a, d.\n\nStep 2\n\nUpgrade the standby unit.\n\nConnect to the FXOS CLI on the standby unit, either the console port (preferred) or using SSH.\n\nEnter firmware mode.\n\nscope firmware\n\nExample:\n\n2110-sec# scope firmware 2110-sec /firmware#\n\nDownload the package.\n\ndownload image url\n\nSpecify the URL for the file being imported using one of the following:\n\nftp://username@server/[path/]image_name\n\nscp://username@server/[path/]image_name\n\nsftp://username@server/[path/]image_name\n\ntftp://server[:port]/[path/]image_name\n\nExample:\n\n2110-sec /firmware# download image tftp://10.88.29.181/cisco-asa-fp2k.9.8.2.2.SPA Please use the command 'show download-task' or 'show download-task detail' to check download progress.\n\nMonitor the download process.\n\nshow download-task\n\nExample:\n\n2110-sec /firmware # show download Download task: File Name Protocol Server Port Userid State --------- -------- --------------- ---------- --------------- ----- cisco-asa-fp2k.9.8.2.SPA Tftp 10.88.29.181 0 Downloaded cisco-asa-fp2k.9.8.2.2.SPA Tftp 10.88.29.181 0 Downloading 2110-sec /firmware #\n\nWhen the new package finishes downloading (Downloaded state), boot the package. View the version number of the new package.\n\nshow package\n\nExample:\n\n2110-sec /firmware # show package Name Package-Vers --------------------------------------------- ------------ cisco-asa-fp2k.9.8.2.SPA 9.8.2 cisco-asa-fp2k.9.8.2.2.SPA 9.8.2.2 2110-sec /firmware #\n\nInstall the package.\n\nscope auto-install\n\ninstall security-pack version version\n\nIn the show package output, copy the Package-Vers value for the security-pack version number. The chassis installs the ASA image and reboots.\n\nExample:\n\n2110-sec /firmware # scope auto-install 2110-sec /firmware/auto-install # install security-pack version 9.8.3 The system is currently installed with security software package 9.8.2, which has: - The platform version: 2.2.2.52 - The CSP (asa) version: 9.8.2 If you proceed with the upgrade 9.8.3, it will do the following: - upgrade to the new platform version 2.2.2.97 - upgrade to the CSP asa version 9.8.3 During the upgrade, the system will be reboot Do you want to proceed ? (yes/no):yes This operation upgrades firmware and software on Security Platform Components Here is the checklist of things that are recommended before starting Auto-Install (1) Review current critical/major faults (2) Initiate a configuration backup Do you want to proceed? (yes/no):yes Triggered the install of software package version 9.8.3 Install started. This will take several minutes. For monitoring the upgrade progress, please enter 'show' or 'show detail' command. 2110-sec /firmware/auto-install #\n\nWait for the chassis to finish rebooting (5-10 minutes).\n\nAlthough FXOS is up, you still need to wait for the ASA to come up (5 minutes). Wait until you see the following messages:\n\n2110-sec# Cisco ASA: CMD=-install, CSP-ID=cisco-asa.9.8.2.2__asa_001_JAD20280BW90MEZR11, FLAG='' Verifying signature for cisco-asa.9.8.2.2 ... Verifying signature for cisco-asa.9.8.2.2 ... success Cisco ASA: CMD=-start, CSP-ID=cisco-asa.9.8.2.2__asa_001_JAD20280BW90MEZR11, FLAG='' Cisco ASA starting ... Registering to process manager ... Cisco ASA started successfully. […]\n\nStep 3\n\nMake the unit that you just upgraded the active unit so that traffic flows to the upgraded unit.\n\nConnect to the standby ASA CLI from FXOS.\n\nconnect asa\n\nenable\n\nExample:\n\n2110-sec# connect asa Attaching to Diagnostic CLI ... Press 'Ctrl+a then d' to detach. Type help or '?' for a list of available commands. asa/stby/sec> enable Password: ***** asa/stby/sec#\n\nForce to the standby unit to become active.\n\nfailover active\n\nExample:\n\nasa/stby/sec> failover active asa/act/sec#\n\nTo return to the FXOS console, enter Ctrl+a, d.\n\nStep 4\n\nUpgrade the former active unit.\n\nConnect to the FXOS CLI on the former active unit, either the console port (preferred) or using SSH.\n\nEnter firmware mode.\n\nscope firmware\n\nExample:\n\n2110-pri# scope firmware 2110-pri /firmware#\n\nDownload the package.\n\ndownload image url\n\nSpecify the URL for the file being imported using one of the following:\n\nftp://username@server/[path/]image_name\n\nscp://username@server/[path/]image_name\n\nsftp://username@server/[path/]image_name\n\ntftp://server[:port]/[path/]image_name\n\nExample:\n\n2110-pri /firmware# download image tftp://10.88.29.181/cisco-asa-fp2k.9.8.2.2.SPA Please use the command 'show download-task' or 'show download-task detail' to check download progress.\n\nMonitor the download process.\n\nshow download-task\n\nExample:\n\n2110-pri /firmware # show download Download task: File Name Protocol Server Port Userid State --------- -------- --------------- ---------- --------------- ----- cisco-asa-fp2k.9.8.2.SPA Tftp 10.88.29.181 0 Downloaded cisco-asa-fp2k.9.8.2.2.SPA Tftp 10.88.29.181 0 Downloading 2110-pri /firmware #\n\nWhen the new package finishes downloading (Downloaded state), boot the package. View the version number of the new package.\n\nshow package\n\nExample:\n\n2110-pri /firmware # show package Name Package-Vers --------------------------------------------- ------------ cisco-asa-fp2k.9.8.2.SPA 9.8.2 cisco-asa-fp2k.9.8.2.2.SPA 9.8.2.2 2110-pri /firmware #\n\nInstall the package.\n\nscope auto-install\n\ninstall security-pack version version\n\nIn the show package output, copy the Package-Vers value for the security-pack version number. The chassis installs the ASA image and reboots.\n\nExample:\n\n2110-pri /firmware # scope auto-install 2110-pri /firmware/auto-install # install security-pack version 9.8.3 The system is currently installed with security software package 9.8.2, which has: - The platform version: 2.2.2.52 - The CSP (asa) version: 9.8.2 If you proceed with the upgrade 9.8.3, it will do the following: - upgrade to the new platform version 2.2.2.97 - upgrade to the CSP asa version 9.8.3 During the upgrade, the system will be reboot Do you want to proceed ? (yes/no):yes This operation upgrades firmware and software on Security Platform Components Here is the checklist of things that are recommended before starting Auto-Install (1) Review current critical/major faults (2) Initiate a configuration backup Do you want to proceed? (yes/no):yes Triggered the install of software package version 9.8.3 Install started. This will take several minutes. For monitoring the upgrade progress, please enter 'show' or 'show detail' command. 2110-pri /firmware/auto-install #\n\nWait for the chassis to finish rebooting (5-10 minutes).\n\nAlthough FXOS is up, you still need to wait for the ASA to come up (5 minutes). Wait until you see the following messages:\n\n2110-pri# Cisco ASA: CMD=-install, CSP-ID=cisco-asa.9.8.2.2__asa_001_JAD20280BW90MEZR11, FLAG='' Verifying signature for cisco-asa.9.8.2.2 ... Verifying signature for cisco-asa.9.8.2.2 ... success Cisco ASA: CMD=-start, CSP-ID=cisco-asa.9.8.2.2__asa_001_JAD20280BW90MEZR11, FLAG='' Cisco ASA starting ... Registering to process manager ... Cisco ASA started successfully. […]\n\nUpgrade an Active/Active Failover Pair\n\nUse the FXOS CLI or Firepower Chassis Manager to upgrade the Active/Active failover pair for a zero downtime upgrade.\n\nUpgrade an Active/Active Failover Pair Using the Firepower Chassis Manager\n\nThis section describes how to upgrade the ASA bundle, which includes both ASA and ASDM, for an Active/Active failover pair. You will upload the package from your management computer.\n\nProcedure\n\nStep 1\n\nMake both failover groups active on the primary unit.\n\nLaunch ASDM on the primary unit (or the unit with failover group 1 active) by connecting to the management address in failover group 1.\n\nChoose Monitoring > Failover > Failover Group 2, and click Make Active.\n\nStay connected to ASDM on this unit for later steps.\n\nStep 2\n\nIf you previously set a non-default ASDM image in the ASA configuration, then reset it to the image that came with your image bundle.\n\nThe image bundle includes the ASDM image, and when you upgrade the ASA bundle, the ASDM image in the bundle replaces the previous ASDM bundle image on the ASA after reloading because they have the same name (asdm.bin). If you manually chose a different ASDM image that you uploaded (for example, asdm-7191.bin), then you continue to use that image even after a bundle upgrade. To make sure that you are running a compatible version of ASDM, you should reconfigure the ASA to use the bundled ASDM image.\n\nIn the main ASDM application window on the primary unit, choose Configuration > Device Management > System Image/Configuration > Boot Image/Configuration.\n\nFor the ASDM Image File Path, enter disk0:/asdm.bin.\n\nClick Apply\n\nClick the Save icon on the toolbar to save your configuration changes.\n\nStep 3\n\nUpgrade the secondary unit.\n\nConnect to the Firepower Chassis Manager on the secondary unit.\n\nChoose System > Updates.\n\nThe Available Updates area shows a list of the packages available on the chassis.\n\nClick Upload Image to upload the new package from your management computer.\n\nClick Choose File to navigate to and select the package that you want to upload.\n\nClick Upload.\n\nThe selected package is uploaded to the chassis. The Upload Image dialog box shows the upload status. Wait for the Success dialog box, and click OK. After completing the upload, the integrity of the image is automatically verified.\n\nClick the Upgrade icon to the right of the new package.\n\nClick Yes to confirm that you want to proceed with installation.\n\nThere is no indicator that the new package is being loaded. You will still see the Firepower Chassis Manager at the beginning of the upgrade process. When the system reboots, you will be logged out. You must wait for the system to come back up before you can log in to the Firepower Chassis Manager. The reboot process takes approximately 20 minutes. After the reboot, you will see the login screen.\n\nStep 4\n\nMake both failover groups active on the secondary unit. In ASDM on the primary unit, choose Monitoring > Failover > Failover Group 1, and click Make Standby.\n\nASDM will automatically reconnect to the failover group 1 IP address on the secondary unit.\n\nStep 5\n\nUpgrade the primary unit.\n\nConnect to the Firepower Chassis Manager on the primary unit.\n\nChoose System > Updates.\n\nThe Available Updates area shows a list of the packages available on the chassis.\n\nClick Upload Image to upload the new package from your management computer.\n\nClick Choose File to navigate to and select the package that you want to upload.\n\nClick Upload.\n\nThe selected package is uploaded to the chassis. The Upload Image dialog box shows the upload status. Wait for the Success dialog box, and click OK. After completing the upload, the integrity of the image is automatically verified.\n\nClick the Upgrade icon to the right of the new package.\n\nClick Yes to confirm that you want to proceed with installation.\n\nThere is no indicator that the new package is being loaded. You will still see the Firepower Chassis Manager at the beginning of the upgrade process. When the system reboots, you will be logged out. You must wait for the system to come back up before you can log in to the Firepower Chassis Manager. The reboot process takes approximately 20 minutes. After the reboot, you will see the login screen.\n\nStep 6\n\nIf the failover groups are configured with Preempt Enabled, they automatically become active on their designated unit after the preempt delay has passed. If the failover groups are not configured with Preempt Enabled, you can return them to active status on their designated units using the ASDM Monitoring > Failover > Failover Group # pane.\n\nUpgrade an Active/Active Failover Pair Using the FXOS CLI\n\nThis section describes how to upgrade the ASA bundle, which includes both ASA and ASDM, for an Active/Active failover pair. You can use FTP, SCP, SFTP, or TFTP to copy the package to the Firepower 2100 chassis.\n\nProcedure\n\nStep 1\n\nIf you previously set a non-default ASDM image in the ASA configuration, then reset it to the image that came with your image bundle.\n\nThe image bundle includes the ASDM image, and when you upgrade the ASA bundle, the ASDM image in the bundle replaces the previous ASDM bundle image on the ASA after reloading because they have the same name (asdm.bin). If you manually chose a different ASDM image that you uploaded (for example, asdm-7191.bin), then you continue to use that image even after a bundle upgrade. To make sure that you are running a compatible version of ASDM, you should reconfigure the ASA to use the bundled ASDM image.\n\nConnect to the FXOS CLI on the primary unit, either the console port (preferred) or using SSH.\n\nConnect to ASA.\n\nconnect asa\n\nExample:\n\nfirepower-2100# connect asa Attaching to Diagnostic CLI ... Press 'Ctrl+a then d' to detach. Type help or '?' for a list of available commands. ciscoasa>\n\nAccess privileged EXEC mode, and then global configuration mode.\n\nenable\n\nconfigure terminal\n\nSet the ASDM image.\n\nasdm image disk0:/asdm.bin\n\nSave the configuration.\n\nwrite memory\n\nReturn to the FXOS console by entering Ctrl+a, d.\n\nStep 2\n\nConnect to the FXOS CLI on the secondary unit, either the console port (preferred) or using SSH.\n\nStep 3\n\nMake both failover groups active on the primary unit.\n\nConnect to the ASA CLI from FXOS.\n\nconnect asa\n\nenable\n\nThe enable password is blank by default.\n\nExample:\n\n2110-sec# connect asa Attaching to Diagnostic CLI ... Press 'Ctrl+a then d' to detach. Type help or '?' for a list of available commands. asa/act/sec> enable Password: <blank> asa/act/sec#\n\nMake both failover groups active on the primary unit.\n\nno failover active group 1\n\nno failover active group 2\n\nExample:\n\nasa/act/sec# no failover active group 1 asa/act/sec# no failover active group 2\n\nEnter Ctrl+a, d to return to the FXOS console.\n\nStep 4\n\nUpgrade the secondary unit.\n\nIn FXOS, enter firmware mode.\n\nscope firmware\n\nExample:\n\n2110-sec# scope firmware 2110-sec /firmware#\n\nDownload the package.\n\ndownload image url\n\nSpecify the URL for the file being imported using one of the following:\n\nftp://username@server/[path/]image_name\n\nscp://username@server/[path/]image_name\n\nsftp://username@server/[path/]image_name\n\ntftp://server[:port]/[path/]image_name\n\nExample:\n\n2110-sec /firmware# download image tftp://10.88.29.181/cisco-asa-fp2k.9.8.2.2.SPA Please use the command 'show download-task' or 'show download-task detail' to check download progress.\n\nMonitor the download process.\n\nshow download-task\n\nExample:\n\n2110-sec /firmware # show download Download task: File Name Protocol Server Port Userid State --------- -------- --------------- ---------- --------------- ----- cisco-asa-fp2k.9.8.2.SPA Tftp 10.88.29.181 0 Downloaded cisco-asa-fp2k.9.8.2.2.SPA Tftp 10.88.29.181 0 Downloading 2110-sec /firmware #\n\nWhen the new package finishes downloading (Downloaded state), boot the package. View the version number of the new package.\n\nshow package\n\nExample:\n\n2110-sec /firmware # show package Name Package-Vers --------------------------------------------- ------------ cisco-asa-fp2k.9.8.2.SPA 9.8.2 cisco-asa-fp2k.9.8.2.2.SPA 9.8.2.2 2110-sec /firmware #\n\nInstall the package.\n\nscope auto-install\n\ninstall security-pack version version\n\nIn the show package output, copy the Package-Vers value for the security-pack version number. The chassis installs the ASA image and reboots.\n\nExample:\n\n2110-sec /firmware # scope auto-install 2110-sec /firmware/auto-install # install security-pack version 9.8.3 The system is currently installed with security software package 9.8.2, which has: - The platform version: 2.2.2.52 - The CSP (asa) version: 9.8.2 If you proceed with the upgrade 9.8.3, it will do the following: - upgrade to the new platform version 2.2.2.97 - upgrade to the CSP asa version 9.8.3 During the upgrade, the system will be reboot Do you want to proceed ? (yes/no):yes This operation upgrades firmware and software on Security Platform Components Here is the checklist of things that are recommended before starting Auto-Install (1) Review current critical/major faults (2) Initiate a configuration backup Do you want to proceed? (yes/no):yes Triggered the install of software package version 9.8.3 Install started. This will take several minutes. For monitoring the upgrade progress, please enter 'show' or 'show detail' command. 2110-sec /firmware/auto-install #\n\nWait for the chassis to finish rebooting (5-10 minutes).\n\nAlthough FXOS is up, you still need to wait for the ASA to come up (5 minutes). Wait until you see the following messages:\n\n2110-sec# Cisco ASA: CMD=-install, CSP-ID=cisco-asa.9.8.2.2__asa_001_JAD20280BW90MEZR11, FLAG='' Verifying signature for cisco-asa.9.8.2.2 ... Verifying signature for cisco-asa.9.8.2.2 ... success Cisco ASA: CMD=-start, CSP-ID=cisco-asa.9.8.2.2__asa_001_JAD20280BW90MEZR11, FLAG='' Cisco ASA starting ... Registering to process manager ... Cisco ASA started successfully. […]\n\nStep 5\n\nMake both failover groups active on the secondary unit.\n\nConnect to the ASA CLI from FXOS.\n\nconnect asa\n\nenable\n\nThe enable password is blank by default.\n\nExample:\n\n2110-sec# connect asa Attaching to Diagnostic CLI ... Press 'Ctrl+a then d' to detach. Type help or '?' for a list of available commands. asa/stby/sec> enable Password: <blank> asa/stby/sec#\n\nMake both failover groups active on the secondary unit.\n\nfailover active group 1\n\nfailover active group 2\n\nExample:\n\nasa/stby/sec# failover active group 1 asa/act/sec# failover active group 2\n\nEnter Ctrl+a, d to return to the FXOS console.\n\nStep 6\n\nUpgrade the primary unit.\n\nConnect to the FXOS CLI on the primary unit, either the console port (preferred) or using SSH.\n\nEnter firmware mode.\n\nscope firmware\n\nExample:\n\n2110-pri# scope firmware 2110-pri /firmware#\n\nDownload the package.\n\ndownload image url\n\nSpecify the URL for the file being imported using one of the following:\n\nftp://username@server/[path/]image_name\n\nscp://username@server/[path/]image_name\n\nsftp://username@server/[path/]image_name\n\ntftp://server[:port]/[path/]image_name\n\nExample:\n\n2110-pri /firmware# download image tftp://10.88.29.181/cisco-asa-fp2k.9.8.2.2.SPA Please use the command 'show download-task' or 'show download-task detail' to check download progress.\n\nMonitor the download process.\n\nshow download-task\n\nExample:\n\n2110-pri /firmware # show download Download task: File Name Protocol Server Port Userid State --------- -------- --------------- ---------- --------------- ----- cisco-asa-fp2k.9.8.2.SPA Tftp 10.88.29.181 0 Downloaded cisco-asa-fp2k.9.8.2.2.SPA Tftp 10.88.29.181 0 Downloading 2110-pri /firmware #\n\nWhen the new package finishes downloading (Downloaded state), boot the package. View the version number of the new package.\n\nshow package\n\nExample:\n\n2110-pri /firmware # show package Name Package-Vers --------------------------------------------- ------------ cisco-asa-fp2k.9.8.2.SPA 9.8.2 cisco-asa-fp2k.9.8.2.2.SPA 9.8.2.2 2110-pri /firmware #\n\nInstall the package.\n\nscope auto-install\n\ninstall security-pack version version\n\nIn the show package output, copy the Package-Vers value for the security-pack version number. The chassis installs the ASA image and reboots.\n\nExample:\n\n2110-pri /firmware # scope auto-install 2110-pri /firmware/auto-install # install security-pack version 9.8.3 The system is currently installed with security software package 9.8.2, which has: - The platform version: 2.2.2.52 - The CSP (asa) version: 9.8.2 If you proceed with the upgrade 9.8.3, it will do the following: - upgrade to the new platform version 2.2.2.97 - upgrade to the CSP asa version 9.8.3 During the upgrade, the system will be reboot Do you want to proceed ? (yes/no):yes This operation upgrades firmware and software on Security Platform Components Here is the checklist of things that are recommended before starting Auto-Install (1) Review current critical/major faults (2) Initiate a configuration backup Do you want to proceed? (yes/no):yes Triggered the install of software package version 9.8.3 Install started. This will take several minutes. For monitoring the upgrade progress, please enter 'show' or 'show detail' command. 2110-pri /firmware/auto-install #\n\nWait for the chassis to finish rebooting (5-10 minutes).\n\nAlthough FXOS is up, you still need to wait for the ASA to come up (5 minutes). Wait until you see the following messages:\n\n2110-pri# Cisco ASA: CMD=-install, CSP-ID=cisco-asa.9.8.2.2__asa_001_JAD20280BW90MEZR11, FLAG='' Verifying signature for cisco-asa.9.8.2.2 ... Verifying signature for cisco-asa.9.8.2.2 ... success Cisco ASA: CMD=-start, CSP-ID=cisco-asa.9.8.2.2__asa_001_JAD20280BW90MEZR11, FLAG='' Cisco ASA starting ... Registering to process manager ... Cisco ASA started successfully. […]\n\nStep 7\n\nIf the failover groups are configured with the ASA preempt command, they automatically become active on their designated unit after the preempt delay has passed. If the failover groups are not configured with the preempt command, you can return them to active status on their designated units by connecting to the ASA CLI and using the failover active group command.\n\nUpgrade the Firepower 4100/9300\n\nThis document describes how to upgrade the ASA on the Firepower 4100/9300.\n\nUpgrade FXOS and an ASA Standalone Device or Intra-Chassis Cluster\n\nUse the FXOS CLI or Firepower Chassis Manager to upgrade FXOS and a standalone ASA device or an ASA intra-chassis cluster on a Firepower 9300.\n\nUpgrade FXOS and an ASA Standalone Device or Intra-Chassis Cluster Using Secure Firewall Chassis Manager\n\nThe upgrade process can take up to 45 minutes. Traffic will not traverse through the device while it is upgrading. Please plan your upgrade activity accordingly.\n\nBefore you begin\n\nBefore beginning your upgrade, make sure that you have already done the following:\n\nDownload the FXOS and ASA software packages to which you are upgrading.\n\nBack up your FXOS and ASA configurations.\n\nProcedure\n\nStep 2\n\nUpload the new FXOS platform bundle image and ASA software image::\n\nClick Upload Image.\n\nClick Choose File to navigate to and select the image that you want to upload.\n\nClick Upload.\n\nThe selected image is uploaded to the chassis.\n\nStep 3\n\nAfter the new FXOS platform bundle image has successfully uploaded, click the Upgrade icon for the FXOS platform bundle to which you want to upgrade.\n\nThe system will first verify the software package that you want to install. It will inform you of any incompatibility between currently-installed applications and the specified FXOS platform software package. It will also warn you that any existing sessions will be terminated and that the system will need to be rebooted as part of the upgrade. As long as the ASA version is listed as upgradeable in the compatibility table, you can ignore these warnings.\n\nStep 4\n\nClick Yes to confirm that you want to proceed with installation.\n\nFXOS unpacks the bundle and upgrades/reloads the components.\n\nStep 5\n\nFirepower Chassis Manager will be unavailable during upgrade. You can monitor the upgrade process using the FXOS CLI (see Monitor the Upgrade Progress).\n\nStep 6\n\nAfter all components have successfully upgraded, verify the status of the security modules/security engine and any installed applications before continuing (see Verify the Installation).\n\nStep 7\n\nChoose Logical Devices.\n\nThe Logical Devices page opens to show a list of configured logical devices on the chassis.\n\nStep 8\n\nFor each ASA logical device that you want to upgrade:\n\nClick the Set Version icon for the logical device that you want to update to open the Update Image Version dialog box.\n\nFor the New Version, choose the software version to which you want to upgrade.\n\nClick OK.\n\nStep 9\n\nAfter the upgrade process finishes, verify that the applications are online and have upgraded successfully:\n\nChoose Logical Devices.\n\nVerify the application version and operational status.\n\nUpgrade FXOS and an ASA Standalone Device or Intra-Chassis Cluster Using the FXOS CLI\n\nThe upgrade process can take up to 45 minutes. Traffic will not traverse through the device while it is upgrading. Please plan your upgrade activity accordingly.\n\nBefore you begin\n\nBefore beginning your upgrade, make sure that you have already done the following:\n\nDownload the FXOS and ASA software packages to which you are upgrading.\n\nBack up your FXOS and ASA configurations.\n\nCollect the following information that you will need to download software images to the chassis:\n\nIP address and authentication credentials for the server from which you are copying the images.\n\nFully qualified names of the image files.\n\nProcedure\n\nStep 1\n\nConnect to the FXOS CLI.\n\nStep 2\n\nDownload the new FXOS platform bundle image to the chassis:\n\nEnter firmware mode:\n\nscope firmware\n\nDownload the FXOS platform bundle software image:\n\ndownload imageURL\n\nSpecify the URL for the file being imported using one of the following syntax:\n\nftp://username@server/ path/ image_name\n\nscp://username@server/ path/ image_name\n\nsftp://username@server/ path/ image_name\n\ntftp://server: port-num/ path/ image_name\n\nTo monitor the download process:\n\nscope download-taskimage_name\n\nshow detail\n\nExample:\n\nThe following example copies an image using the SCP protocol:\n\nFirepower-chassis # scope firmware Firepower-chassis /firmware # download image scp://user@192.168.1.1/images/fxos-k9.2.3.1.58.SPA Firepower-chassis /firmware # scope download-task fxos-k9.2.3.1.58.SPA Firepower-chassis /firmware/download-task # show detail Download task: File Name: fxos-k9.2.3.1.58.SPA Protocol: scp Server: 192.168.1.1 Userid: Path: Downloaded Image Size (KB): 853688 State: Downloading Current Task: downloading image fxos-k9.2.3.1.58.SPA from 192.168.1.1(FSM-STAGE:sam:dme:FirmwareDownloaderDownload:Local)\n\nStep 3\n\nAfter the new FXOS platform bundle image has successfully downloaded, upgrade the FXOS bundle:\n\nIf necessary, return to firmware mode:\n\nup\n\nMake note of the version number for the FXOS platform bundle you are installing:\n\nshow package\n\nEnter auto-install mode:\n\nscope auto-install\n\nInstall the FXOS platform bundle:\n\ninstall platform platform-vers version_number\n\nversion_number is the version number of the FXOS platform bundle you are installing--for example, 2.3(1.58).\n\nThe system will first verify the software package that you want to install. It will inform you of any incompatibility between currently-installed applications and the specified FXOS platform software package. It will also warn you that any existing sessions will be terminated and that the system will need to be rebooted as part of the upgrade. As long as the ASA version is listed as upgradeable in the compatibility table, you can ignore these warnings.\n\nEnter yes to confirm that you want to proceed with verification.\n\nEnter yes to confirm that you want to proceed with installation, or enter no to cancel the installation.\n\nFXOS unpacks the bundle and upgrades/reloads the components.\n\nTo monitor the upgrade process, see Monitor the Upgrade Progress.\n\nStep 4\n\nAfter all components have successfully upgraded, verify the status of the security modules/security engine and any installed applications before continuing (see Verify the Installation).\n\nStep 5\n\nDownload the new ASA software image to the chassis:\n\nEnter Security Services mode:\n\ntop\n\nscope ssa\n\nEnter Application Software mode:\n\nscope app-software\n\nDownload the logical device software image:\n\ndownload imageURL\n\nSpecify the URL for the file being imported using one of the following syntax:\n\nftp://username@server/path\n\nscp://username@server/path\n\nsftp://username@server/path\n\ntftp://server:port-num/path\n\nTo monitor the download process:\n\nshow download-task\n\nTo view the downloaded applications:\n\nup\n\nshow app\n\nMake note of the ASA version for the software package you downloaded. You will need to use the exact version string to enable the application in a later step.\n\nExample:\n\nThe following example copies an image using the SCP protocol:\n\nFirepower-chassis # scope ssa Firepower-chassis /ssa # scope app-software Firepower-chassis /ssa/app-software # download image scp://user@192.168.1.1/images/cisco-asa.9.4.1.65.csp Firepower-chassis /ssa/app-software # show download-task Downloads for Application Software: File Name Protocol Server Userid State ------------------------------ ---------- -------------------- --------------- ----- cisco-asa.9.4.1.65.csp Scp 192.168.1.1 user Downloaded Firepower-chassis /ssa/app-software # up Firepower-chassis /ssa # show app Application: Name Version Description Author Deploy Type CSP Type Is Default App ---------- ---------- ----------- ---------- ----------- ----------- -------------- asa 9.4.1.41 N/A Native Application No asa 9.4.1.65 N/A Native Application Yes\n\nStep 6\n\nFor each ASA logical device that you want to upgrade:\n\nEnter Security Services mode:\n\ntop\n\nscope ssa\n\nSet the scope to the security module you are updating:\n\nscope slotslot_number\n\nSet the scope to the ASA application:\n\nscope app-instance asa instance_name\n\nSet the Startup version to the new ASA software version:\n\nset startup-version version_number\n\nStep 7\n\nCommit the configuration:\n\ncommit-buffer\n\nCommits the transaction to the system configuration. The application image is updated and the application restarts.\n\nStep 8\n\nTo verify the status of the security modules/security engine and any installed applications, see Verify the Installation.\n\nUpgrade FXOS and an ASA Active/Standby Failover Pair\n\nUse the FXOS CLI or Firepower Chassis Manager to upgrade FXOS and an ASA Active/Standby failover pair.\n\nUpgrade FXOS and an ASA Active/Standby Failover Pair Using Secure Firewall Chassis Manager\n\nThe upgrade process can take up to 45 minutes per chassis. Please plan your upgrade activity accordingly.\n\nBefore you begin\n\nBefore beginning your upgrade, make sure that you have already done the following:\n\nYou need to determine which unit is active and which is standby: connect ASDM to the active ASA IP address. The active unit always owns the active IP address. Then choose Monitoring > Properties > Failover > Status to view this unit's priority (primary or secondary) so you know which unit you are connected to.\n\nDownload the FXOS and ASA software packages to which you are upgrading.\n\nBack up your FXOS and ASA configurations.\n\nProcedure\n\nStep 1\n\nOn the chassis that contains the standby ASA logical device, upload the new FXOS platform bundle image and ASA software image:\n\nIn Secure Firewall chassis manager, choose System > Updates.\n\nThe Available Updates area shows a list of the packages available on the chassis.\n\nClick Upload Image.\n\nClick Choose File to navigate to and select the image that you want to upload.\n\nClick Upload.\n\nThe selected image is uploaded to the chassis.\n\nStep 2\n\nAfter the new FXOS platform bundle image has successfully uploaded, upgrade the FXOS bundle on the chassis that contains the standby ASA logical device:\n\nClick the Upgrade icon for the FXOS platform bundle to which you want to upgrade.\n\nThe system will first verify the software package that you want to install. It will inform you of any incompatibility between currently-installed applications and the specified FXOS platform software package. It will also warn you that any existing sessions will be terminated and that the system will need to be rebooted as part of the upgrade. As long as the ASA version is listed as upgradeable in the compatibility table, you can ignore these warnings.\n\nClick Yes to confirm that you want to proceed with installation.\n\nFXOS unpacks the bundle and upgrades/reloads the components.\n\nStep 3\n\nSecure Firewall chassis manager will be unavailable during upgrade. You can monitor the upgrade process using the FXOS CLI (see Monitor the Upgrade Progress).\n\nStep 4\n\nAfter all components have successfully upgraded, verify the status of the security modules/security engine and any installed applications before continuing (see Verify the Installation).\n\nStep 5\n\nUpgrade the ASA logical device image:\n\nChoose Logical Devices to open the Logical Devices page.\n\nThe Logical Devices page opens to show a list of configured logical devices on the chassis.\n\nClick the Set Version icon for the logical device that you want to update to open the Update Image Version dialog box.\n\nFor the New Version, choose the software version to which you want to update.\n\nClick OK.\n\nStep 6\n\nAfter the upgrade process finishes, verify that the applications are online and have upgraded successfully:\n\nChoose Logical Devices.\n\nVerify the application version and operational status.\n\nStep 7\n\nMake the unit that you just upgraded the active unit so that traffic flows to the upgraded unit:\n\nLaunch ASDM on the standby unit by connecting to the standby ASA IP address.\n\nForce the standby unit to become active by choosing Monitoring > Properties > Failover > Status, and clicking Make Active.\n\nStep 8\n\nOn the chassis that contains the new standby ASA logical device, upload the new FXOS platform bundle image and ASA software image:\n\nIn Secure Firewall chassis manager, choose System > Updates.\n\nThe Available Updates area shows a list of the packages available on the chassis.\n\nClick Upload Image.\n\nClick Choose File to navigate to and select the image that you want to upload.\n\nClick Upload.\n\nThe selected image is uploaded to the chassis.\n\nStep 9\n\nAfter the new FXOS platform bundle image has successfully uploaded, upgrade the FXOS bundle on the chassis that contains the new standby ASA logical device:\n\nClick the Upgrade icon for the FXOS platform bundle to which you want to upgrade.\n\nThe system will first verify the software package that you want to install. It will inform you of any incompatibility between currently-installed applications and the specified FXOS platform software package. It will also warn you that any existing sessions will be terminated and that the system will need to be rebooted as part of the upgrade. As long as the ASA version is listed as upgradeable in the compatibility table, you can ignore these warnings.\n\nClick Yes to confirm that you want to proceed with installation.\n\nFXOS unpacks the bundle and upgrades/reloads the components.\n\nStep 10\n\nSecure Firewall chassis manager will be unavailable during upgrade. You can monitor the upgrade process using the FXOS CLI (see Monitor the Upgrade Progress).\n\nStep 11\n\nAfter all components have successfully upgraded, verify the status of the security modules/security engine and any installed applications before continuing (see Verify the Installation).\n\nStep 12\n\nUpgrade the ASA logical device image:\n\nChoose Logical Devices.\n\nThe Logical Devices page opens to shows a list of configured logical devices on the chassis. If no logical devices have been configured, a message stating so is shown instead.\n\nClick the Set Version icon for the logical device that you want to update to open the Update Image Version dialog box.\n\nFor the New Version, choose the software version to which you want to update.\n\nClick OK.\n\nStep 13\n\nAfter the upgrade process finishes, verify that the applications are online and have upgraded successfully:\n\nChoose Logical Devices.\n\nVerify the application version and operational status.\n\nStep 14\n\n(Optional) Make the unit that you just upgraded the active unit as it was before the upgrade:\n\nLaunch ASDM on the standby unit by connecting to the standby ASA IP address.\n\nForce the standby unit to become active by choosing Monitoring > Properties > Failover > Status, and clicking Make Active.\n\nUpgrade FXOS and an ASA Active/Standby Failover Pair Using the FXOS CLI\n\nThe upgrade process can take up to 45 minutes per chassis. Please plan your upgrade activity accordingly.\n\nBefore you begin\n\nBefore beginning your upgrade, make sure that you have already done the following:\n\nYou need to determine which unit is active and which is standby: connect to the ASA console on the chassis and enter the show failover command to view the Active/Standby status of the unit.\n\nDownload the FXOS and ASA software packages to which you are upgrading.\n\nBack up your FXOS and ASA configurations.\n\nCollect the following information that you will need to download software images to the chassis:\n\nIP address and authentication credentials for the server from which you are copying the image.\n\nFully qualified name of the image file.\n\nProcedure\n\nStep 1\n\nOn the chassis that contains the standby ASA logical device, download the new FXOS platform bundle image:\n\nConnect to the FXOS CLI.\n\nEnter firmware mode:\n\nscope firmware\n\nDownload the FXOS platform bundle software image:\n\ndownload imageURL\n\nSpecify the URL for the file being imported using one of the following syntax:\n\nftp://username@server/ path/ image_name\n\nscp://username@server/ path/ image_name\n\nsftp://username@server/ path/ image_name\n\ntftp://server: port-num/ path/ image_name\n\nTo monitor the download process:\n\nscope download-taskimage_name\n\nshow detail\n\nExample:\n\nThe following example copies an image using the SCP protocol:\n\nFirepower-chassis # scope firmware Firepower-chassis /firmware # download image scp://user@192.168.1.1/images/fxos-k9.2.3.1.58.SPA Firepower-chassis /firmware # scope download-task fxos-k9.2.3.1.58.SPA Firepower-chassis /firmware/download-task # show detail Download task: File Name: fxos-k9.2.3.1.58.SPA Protocol: scp Server: 192.168.1.1 Userid: Path: Downloaded Image Size (KB): 853688 State: Downloading Current Task: downloading image fxos-k9.2.3.1.58.SPA from 192.168.1.1(FSM-STAGE:sam:dme:FirmwareDownloaderDownload:Local)\n\nStep 2\n\nAfter the new FXOS platform bundle image has successfully downloaded, upgrade the FXOS bundle:\n\nIf necessary, return to firmware mode:\n\nup\n\nMake note of the version number for the FXOS platform bundle you are installing:\n\nshow package\n\nEnter auto-install mode:\n\nscope auto-install\n\nInstall the FXOS platform bundle:\n\ninstall platform platform-vers version_number\n\nversion_number is the version number of the FXOS platform bundle you are installing--for example, 2.3(1.58).\n\nThe system will first verify the software package that you want to install. It will inform you of any incompatibility between currently-installed applications and the specified FXOS platform software package. It will also warn you that any existing sessions will be terminated and that the system will need to be rebooted as part of the upgrade. As long as the ASA version is listed as upgradeable in the compatibility table, you can ignore these warnings.\n\nEnter yes to confirm that you want to proceed with verification.\n\nEnter yes to confirm that you want to proceed with installation, or enter no to cancel the installation.\n\nFXOS unpacks the bundle and upgrades/reloads the components.\n\nTo monitor the upgrade process, see Monitor the Upgrade Progress.\n\nStep 3\n\nAfter all components have successfully upgraded, verify the status of the security modules/security engine and any installed applications before continuing (see Verify the Installation).\n\nStep 4\n\nDownload the new ASA software image to the chassis:\n\nEnter Security Services mode:\n\ntop\n\nscope ssa\n\nEnter Application Software mode:\n\nscope app-software\n\nDownload the logical device software image:\n\ndownload imageURL\n\nSpecify the URL for the file being imported using one of the following syntax:\n\nftp://username@server/path\n\nscp://username@server/path\n\nsftp://username@server/path\n\ntftp://server:port-num/path\n\nTo monitor the download process:\n\nshow download-task\n\nTo view the downloaded applications:\n\nup\n\nshow app\n\nMake note of the ASA version for the software package you downloaded. You will need to use the exact version string to enable the application in a later step.\n\nExample:\n\nThe following example copies an image using the SCP protocol:\n\nFirepower-chassis # scope ssa Firepower-chassis /ssa # scope app-software Firepower-chassis /ssa/app-software # download image scp://user@192.168.1.1/images/cisco-asa.9.4.1.65.csp Firepower-chassis /ssa/app-software # show download-task Downloads for Application Software: File Name Protocol Server Userid State ------------------------------ ---------- -------------------- --------------- ----- cisco-asa.9.4.1.65.csp Scp 192.168.1.1 user Downloaded Firepower-chassis /ssa/app-software # up Firepower-chassis /ssa # show app Application: Name Version Description Author Deploy Type CSP Type Is Default App ---------- ---------- ----------- ---------- ----------- ----------- -------------- asa 9.4.1.41 N/A Native Application No asa 9.4.1.65 N/A Native Application Yes\n\nStep 5\n\nUpgrade the ASA logical device image:\n\nEnter Security Services mode:\n\ntop\n\nscope ssa\n\nSet the scope to the security module you are updating:\n\nscope slotslot_number\n\nSet the scope to the ASA application:\n\nscope app-instance asa instance_name\n\nSet the Startup version to the version you want to update:\n\nset startup-version version_number\n\nCommit the configuration:\n\ncommit-buffer\n\nCommits the transaction to the system configuration. The application image is updated and the application restarts.\n\nStep 6\n\nTo verify the status of the security modules/security engine and any installed applications, see Verify the Installation.\n\nStep 7\n\nMake the unit that you just upgraded the active unit so that traffic flows to the upgraded unit:\n\nOn the chassis that contains the standby ASA logical device, connect to the module CLI using a console connection or a Telnet connection.\n\nconnect module slot_number { console | telnet}\n\nTo connect to the security engine of a device that does not support multiple security modules, always use 1 as the slot_number .\n\nExample:\n\nFirepower# connect module 1 console Telnet escape character is '~'. Trying 127.5.1.1... Connected to 127.5.1.1. Escape character is '~'. CISCO Serial Over LAN: Close Network Connection to Exit Firepower-module1>\n\nConnect to the application console.\n\nconnect asa\n\nExample:\n\nFirepower-module1> connect asa Connecting to asa(asa1) console... hit Ctrl + A + D to return to bootCLI [...] asa>\n\nMake this unit active:\n\nfailover active\n\nSave the configuration:\n\nwrite memory\n\nVerify that the unit is active:\n\nshow failover\n\nStep 8\n\nExit the application console to the FXOS module CLI.\n\nEnter Ctrl-a, d\n\nStep 9\n\nReturn to the supervisor level of the FXOS CLI.\n\nExit the console:\n\nEnter ~\n\nYou exit to the Telnet application.\n\nTo exit the Telnet application, enter:\n\ntelnet>quit\n\nExit the Telnet session:\n\nEnter Ctrl-], .\n\nStep 10\n\nOn the chassis that contains the new standby ASA logical device, download the new FXOS platform bundle image:\n\nConnect to the FXOS CLI.\n\nEnter firmware mode:\n\nscope firmware\n\nDownload the FXOS platform bundle software image:\n\ndownload imageURL\n\nSpecify the URL for the file being imported using one of the following syntax:\n\nftp://username@server/ path/ image_name\n\nscp://username@server/ path/ image_name\n\nsftp://username@server/ path/ image_name\n\ntftp://server: port-num/ path/ image_name\n\nTo monitor the download process:\n\nscope download-taskimage_name\n\nshow detail\n\nExample:\n\nThe following example copies an image using the SCP protocol:\n\nFirepower-chassis # scope firmware Firepower-chassis /firmware # download image scp://user@192.168.1.1/images/fxos-k9.2.3.1.58.SPA Firepower-chassis /firmware # scope download-task fxos-k9.2.3.1.58.SPA Firepower-chassis /firmware/download-task # show detail Download task: File Name: fxos-k9.2.3.1.58.SPA Protocol: scp Server: 192.168.1.1 Userid: Path: Downloaded Image Size (KB): 853688 State: Downloading Current Task: downloading image fxos-k9.2.3.1.58.SPA from 192.168.1.1(FSM-STAGE:sam:dme:FirmwareDownloaderDownload:Local)\n\nStep 11\n\nAfter the new FXOS platform bundle image has successfully downloaded, upgrade the FXOS bundle:\n\nIf necessary, return to firmware mode:\n\nup\n\nMake note of the version number for the FXOS platform bundle you are installing:\n\nshow package\n\nEnter auto-install mode:\n\nscope auto-install\n\nInstall the FXOS platform bundle:\n\ninstall platform platform-vers version_number\n\nversion_number is the version number of the FXOS platform bundle you are installing--for example, 2.3(1.58).\n\nThe system will first verify the software package that you want to install. It will inform you of any incompatibility between currently-installed applications and the specified FXOS platform software package. It will also warn you that any existing sessions will be terminated and that the system will need to be rebooted as part of the upgrade. As long as the ASA version is listed as upgradeable in the compatibility table, you can ignore these warnings.\n\nEnter yes to confirm that you want to proceed with verification.\n\nEnter yes to confirm that you want to proceed with installation, or enter no to cancel the installation.\n\nFXOS unpacks the bundle and upgrades/reloads the components.\n\nTo monitor the upgrade process, see Monitor the Upgrade Progress.\n\nStep 12\n\nAfter all components have successfully upgraded, verify the status of the security modules/security engine and any installed applications before continuing (see Verify the Installation).\n\nStep 13\n\nDownload the new ASA software image to the chassis:\n\nEnter Security Services mode:\n\ntop\n\nscope ssa\n\nEnter Application Software mode:\n\nscope app-software\n\nDownload the logical device software image:\n\ndownload imageURL\n\nSpecify the URL for the file being imported using one of the following syntax:\n\nftp://username@server/path\n\nscp://username@server/path\n\nsftp://username@server/path\n\ntftp://server:port-num/path\n\nTo monitor the download process:\n\nshow download-task\n\nTo view the downloaded applications:\n\nup\n\nshow app\n\nMake note of the ASA version for the software package you downloaded. You will need to use the exact version string to enable the application in a later step.\n\nExample:\n\nThe following example copies an image using the SCP protocol:\n\nFirepower-chassis # scope ssa Firepower-chassis /ssa # scope app-software Firepower-chassis /ssa/app-software # download image scp://user@192.168.1.1/images/cisco-asa.9.4.1.65.csp Firepower-chassis /ssa/app-software # show download-task Downloads for Application Software: File Name Protocol Server Userid State ------------------------------ ---------- -------------------- --------------- ----- cisco-asa.9.4.1.65.csp Scp 192.168.1.1 user Downloaded Firepower-chassis /ssa/app-software # up Firepower-chassis /ssa # show app Application: Name Version Description Author Deploy Type CSP Type Is Default App ---------- ---------- ----------- ---------- ----------- ----------- -------------- asa 9.4.1.41 N/A Native Application No asa 9.4.1.65 N/A Native Application Yes\n\nStep 14\n\nUpgrade the ASA logical device image:\n\nEnter Security Services mode:\n\ntop\n\nscope ssa\n\nSet the scope to the security module you are updating:\n\nscope slotslot_number\n\nSet the scope to the ASA application:\n\nscope app-instance asa instance_name\n\nSet the Startup version to the version you want to update:\n\nset startup-version version_number\n\nCommit the configuration:\n\ncommit-buffer\n\nCommits the transaction to the system configuration. The application image is updated and the application restarts.\n\nStep 15\n\nTo verify the status of the security modules/security engine and any installed applications, see Verify the Installation.\n\nStep 16\n\n(Optional) Make the unit that you just upgraded the active unit as it was before the upgrade:\n\nOn the chassis that contains the standby ASA logical device, connect to the module CLI using a console connection or a Telnet connection.\n\nconnect module slot_number { console | telnet}\n\nTo connect to the security engine of a device that does not support multiple security modules, always use 1 as the slot_number .\n\nExample:\n\nFirepower# connect module 1 console Telnet escape character is '~'. Trying 127.5.1.1... Connected to 127.5.1.1. Escape character is '~'. CISCO Serial Over LAN: Close Network Connection to Exit Firepower-module1>\n\nConnect to the application console.\n\nconnect asa\n\nExample:\n\nFirepower-module1> connect asa Connecting to asa(asa1) console... hit Ctrl + A + D to return to bootCLI [...] asa>\n\nMake this unit active:\n\nfailover active\n\nSave the configuration:\n\nwrite memory\n\nVerify that the unit is active:\n\nshow failover\n\nUpgrade FXOS and an ASA Active/Active Failover Pair\n\nUse the FXOS CLI or Firepower Chassis Manager to upgrade FXOS and an ASA Active/Active failover pair.\n\nUpgrade FXOS and an ASA Active/Active Failover Pair Using Secure Firewall Chassis Manager\n\nThe upgrade process can take up to 45 minutes per chassis. Please plan your upgrade activity accordingly.\n\nBefore you begin\n\nBefore beginning your upgrade, make sure that you have already done the following:\n\nYou need to determine which unit is the primary unit: connect ASDM and then choose Monitoring > Properties > Failover > Status to view this unit's priority (primary or secondary) so you know which unit you are connected to.\n\nDownload the FXOS and ASA software packages to which you are upgrading.\n\nBack up your FXOS and ASA configurations.\n\nProcedure\n\nStep 1\n\nMake both failover groups active on the primary unit.\n\nLaunch ASDM on the primary unit (or the unit with failover group 1 active) by connecting to the management address in failover group 1.\n\nChoose Monitoring > Failover > Failover Group 2, and click Make Active.\n\nStay connected to ASDM on this unit for later steps.\n\nStep 2\n\nOn the chassis that contains the secondary ASA logical device, upload the new FXOS platform bundle image and ASA software image:\n\nConnect to the Secure Firewall chassis manager on the secondary unit.\n\nChoose System > Updates.\n\nThe Available Updates area shows a list of the packages available on the chassis.\n\nClick Upload Image.\n\nClick Choose File to navigate to and select the image that you want to upload.\n\nClick Upload.\n\nThe selected image is uploaded to the chassis.\n\nStep 3\n\nAfter the new FXOS platform bundle image has successfully uploaded, upgrade the FXOS bundle on the chassis that contains the secondary ASA logical device:\n\nClick the Upgrade icon for the FXOS platform bundle to which you want to upgrade.\n\nThe system will first verify the software package that you want to install. It will inform you of any incompatibility between currently-installed applications and the specified FXOS platform software package. It will also warn you that any existing sessions will be terminated and that the system will need to be rebooted as part of the upgrade. As long as the ASA version is listed as upgradeable in the compatibility table, you can ignore these warnings.\n\nClick Yes to confirm that you want to proceed with installation.\n\nFXOS unpacks the bundle and upgrades/reloads the components.\n\nStep 4\n\nSecure Firewall chassis manager will be unavailable during upgrade. You can monitor the upgrade process using the FXOS CLI (see Monitor the Upgrade Progress).\n\nStep 5\n\nAfter all components have successfully upgraded, verify the status of the security modules/security engine and any installed applications before continuing (see Verify the Installation).\n\nStep 6\n\nUpgrade the ASA logical device image:\n\nChoose Logical Devices.\n\nThe Logical Devices page opens to show a list of configured logical devices on the chassis.\n\nClick the Set Version icon for the logical device that you want to update to open the Update Image Version dialog box.\n\nFor the New Version, choose the software version to which you want to update.\n\nClick OK.\n\nStep 7\n\nAfter the upgrade process finishes, verify that the applications are online and have upgraded successfully:\n\nChoose Logical Devices.\n\nVerify the application version and operational status.\n\nStep 8\n\nMake both failover groups active on the secondary unit.\n\nLaunch ASDM on the primary unit (or the unit with failover group 1 active) by connecting to the management address in failover group 1.\n\nChoose Monitoring > Failover > Failover Group 1, and click Make Standby.\n\nChoose Monitoring > Failover > Failover Group 2, and click Make Standby.\n\nASDM will automatically reconnect to the failover group 1 IP address on the secondary unit.\n\nStep 9\n\nOn the chassis that contains the primary ASA logical device, upload the new FXOS platform bundle image and ASA software image:\n\nConnect to the Secure Firewall chassis manager on the primary unit.\n\nChoose System > Updates.\n\nThe Available Updates area shows a list of the packages available on the chassis.\n\nClick Upload Image to open the Upload Image dialog box.\n\nClick Choose File to navigate to and select the image that you want to upload.\n\nClick Upload.\n\nThe selected package is uploaded to the chassis.\n\nFor certain software images you will be presented with an end-user license agreement after uploading the image. Follow the system prompts to accept the end-user license agreement.\n\nStep 10\n\nAfter the new FXOS platform bundle image has successfully uploaded, upgrade the FXOS bundle on the chassis that contains the primary ASA logical device:\n\nClick the Upgrade icon for the FXOS platform bundle to which you want to upgrade.\n\nThe system will first verify the software package that you want to install. It will inform you of any incompatibility between currently-installed applications and the specified FXOS platform software package. It will also warn you that any existing sessions will be terminated and that the system will need to be rebooted as part of the upgrade. As long as the ASA version is listed as upgradeable in the compatibility table, you can ignore these warnings.\n\nClick Yes to confirm that you want to proceed with installation.\n\nFXOS unpacks the bundle and upgrades/reloads the components.\n\nStep 11\n\nSecure Firewall chassis manager will be unavailable during upgrade. You can monitor the upgrade process using the FXOS CLI (see Monitor the Upgrade Progress).\n\nStep 12\n\nAfter all components have successfully upgraded, verify the status of the security modules/security engine and any installed applications before continuing (see Verify the Installation).\n\nStep 13\n\nUpgrade the ASA logical device image:\n\nChoose Logical Devices.\n\nThe Logical Devices page opens to show a list of configured logical devices on the chassis.\n\nClick the Set Version icon for the logical device that you want to update to open the Update Image Version dialog box.\n\nFor the New Version, choose the software version to which you want to update.\n\nClick OK.\n\nStep 14\n\nAfter the upgrade process finishes, verify that the applications are online and have upgraded successfully:\n\nChoose Logical Devices.\n\nVerify the application version and operational status.\n\nStep 15\n\nIf the failover groups are configured with Preempt Enabled, they automatically become active on their designated unit after the preempt delay has passed. If the failover groups are not configured with Preempt Enabled, you can return them to active status on their designated units using the ASDM Monitoring > Failover > Failover Group # pane.\n\nUpgrade FXOS and an ASA Active/Active Failover Pair Using the FXOS CLI\n\nThe upgrade process can take up to 45 minutes per chassis. Please plan your upgrade activity accordingly.\n\nBefore you begin\n\nBefore beginning your upgrade, make sure that you have already done the following:\n\nYou need to determine which unit is primary: connect to the ASA console on the chassis and enter the show failover command to view the unit's status and priority (primary or secondary).\n\nDownload the FXOS and ASA software packages to which you are upgrading.\n\nBack up your FXOS and ASA configurations.\n\nCollect the following information that you will need to download software images to the chassis:\n\nIP address and authentication credentials for the server from which you are copying the image.\n\nFully qualified name of the image file.\n\nProcedure\n\nStep 1\n\nConnect to the FXOS CLI on the secondary unit, either the console port (preferred) or using SSH.\n\nStep 2\n\nMake both failover groups active on the primary unit.\n\nConnect to the module CLI using a console connection or a Telnet connection.\n\nconnect module slot_number { console | telnet}\n\nTo connect to the security engine of a device that does not support multiple security modules, always use 1 as the slot_number .\n\nExample:\n\nFirepower# connect module 1 console Telnet escape character is '~'. Trying 127.5.1.1... Connected to 127.5.1.1. Escape character is '~'. CISCO Serial Over LAN: Close Network Connection to Exit Firepower-module1>\n\nConnect to the application console.\n\nconnect asa\n\nExample:\n\nFirepower-module1> connect asa Connecting to asa(asa1) console... hit Ctrl + A + D to return to bootCLI [...] asa>\n\nMake both failover groups active on the primary unit.\n\nenable\n\nThe enable password is blank by default.\n\nno failover active group 1\n\nno failover active group 2\n\nExample:\n\nasa> enable Password: <blank> asa# no failover active group 1 asa# no failover active group 2\n\nStep 3\n\nExit the application console to the FXOS module CLI.\n\nEnter Ctrl-a, d\n\nStep 4\n\nReturn to the supervisor level of the FXOS CLI.\n\nExit the console:\n\nEnter ~\n\nYou exit to the Telnet application.\n\nTo exit the Telnet application, enter:\n\ntelnet>quit\n\nExit the Telnet session:\n\nEnter Ctrl-], .\n\nStep 5\n\nOn the chassis that contains the secondary ASA logical device, download the new FXOS platform bundle image and ASA software image:\n\nConnect to the FXOS CLI.\n\nEnter firmware mode:\n\nscope firmware\n\nDownload the FXOS platform bundle software image:\n\ndownload imageURL\n\nSpecify the URL for the file being imported using one of the following syntax:\n\nftp://username@server/ path/ image_name\n\nscp://username@server/ path/ image_name\n\nsftp://username@server/ path/ image_name\n\ntftp://server: port-num/ path/ image_name\n\nTo monitor the download process:\n\nscope download-taskimage_name\n\nshow detail\n\nExample:\n\nThe following example copies an image using the SCP protocol:\n\nFirepower-chassis # scope firmware Firepower-chassis /firmware # download image scp://user@192.168.1.1/images/fxos-k9.2.3.1.58.SPA Firepower-chassis /firmware # scope download-task fxos-k9.2.3.1.58.SPA Firepower-chassis /firmware/download-task # show detail Download task: File Name: fxos-k9.2.3.1.58.SPA Protocol: scp Server: 192.168.1.1 Userid: Path: Downloaded Image Size (KB): 853688 State: Downloading Current Task: downloading image fxos-k9.2.3.1.58.SPA from 192.168.1.1(FSM-STAGE:sam:dme:FirmwareDownloaderDownload:Local)\n\nStep 6\n\nAfter the new FXOS platform bundle image has successfully downloaded, upgrade the FXOS bundle:\n\nIf necessary, return to firmware mode:\n\ntop\n\nscope firmware\n\nMake note of the version number for the FXOS platform bundle you are installing:\n\nshow package\n\nEnter auto-install mode:\n\nscope auto-install\n\nInstall the FXOS platform bundle:\n\ninstall platform platform-vers version_number\n\nversion_number is the version number of the FXOS platform bundle you are installing--for example, 2.3(1.58).\n\nThe system will first verify the software package that you want to install. It will inform you of any incompatibility between currently-installed applications and the specified FXOS platform software package. It will also warn you that any existing sessions will be terminated and that the system will need to be rebooted as part of the upgrade. As long as the ASA version is listed as upgradeable in the compatibility table, you can ignore these warnings.\n\nEnter yes to confirm that you want to proceed with verification.\n\nEnter yes to confirm that you want to proceed with installation, or enter no to cancel the installation.\n\nFXOS unpacks the bundle and upgrades/reloads the components.\n\nTo monitor the upgrade process, see Monitor the Upgrade Progress.\n\nStep 7\n\nAfter all components have successfully upgraded, verify the status of the security modules/security engine and any installed applications before continuing (see Verify the Installation).\n\nStep 8\n\nDownload the new ASA software image to the chassis:\n\nEnter Security Services mode:\n\ntop\n\nscope ssa\n\nEnter Application Software mode:\n\nscope app-software\n\nDownload the logical device software image:\n\ndownload imageURL\n\nSpecify the URL for the file being imported using one of the following syntax:\n\nftp://username@server/path\n\nscp://username@server/path\n\nsftp://username@server/path\n\ntftp://server:port-num/path\n\nTo monitor the download process:\n\nshow download-task\n\nTo view the downloaded applications:\n\nup\n\nshow app\n\nMake note of the ASA version for the software package you downloaded. You will need to use the exact version string to enable the application in a later step.\n\nExample:\n\nThe following example copies an image using the SCP protocol:\n\nFirepower-chassis # scope ssa Firepower-chassis /ssa # scope app-software Firepower-chassis /ssa/app-software # download image scp://user@192.168.1.1/images/cisco-asa.9.4.1.65.csp Firepower-chassis /ssa/app-software # show download-task Downloads for Application Software: File Name Protocol Server Userid State ------------------------------ ---------- -------------------- --------------- ----- cisco-asa.9.4.1.65.csp Scp 192.168.1.1 user Downloaded Firepower-chassis /ssa/app-software # up Firepower-chassis /ssa # show app Application: Name Version Description Author Deploy Type CSP Type Is Default App ---------- ---------- ----------- ---------- ----------- ----------- -------------- asa 9.4.1.41 N/A Native Application No asa 9.4.1.65 N/A Native Application Yes\n\nStep 9\n\nUpgrade the ASA logical device image:\n\nEnter Security Services mode:\n\ntop\n\nscope ssa\n\nSet the scope to the security module you are updating:\n\nscope slotslot_number\n\nSet the scope to the ASA application:\n\nscope app-instance asa instance_name\n\nSet the Startup version to the version you want to update:\n\nset startup-version version_number\n\nCommit the configuration:\n\ncommit-buffer\n\nCommits the transaction to the system configuration. The application image is updated and the application restarts.\n\nStep 10\n\nTo verify the status of the security modules/security engine and any installed applications, see Verify the Installation.\n\nStep 11\n\nMake both failover groups active on the secondary unit.\n\nConnect to the module CLI using a console connection or a Telnet connection.\n\nconnect module slot_number { console | telnet}\n\nTo connect to the security engine of a device that does not support multiple security modules, always use 1 as the slot_number .\n\nExample:\n\nFirepower# connect module 1 console Telnet escape character is '~'. Trying 127.5.1.1... Connected to 127.5.1.1. Escape character is '~'. CISCO Serial Over LAN: Close Network Connection to Exit Firepower-module1>\n\nConnect to the application console.\n\nconnect asa\n\nExample:\n\nFirepower-module1> connect asa Connecting to asa(asa1) console... hit Ctrl + A + D to return to bootCLI [...] asa>\n\nMake both failover groups active on the secondary unit.\n\nenable\n\nThe enable password is blank by default.\n\nfailover active group 1\n\nfailover active group 2\n\nExample:\n\nasa> enable Password: <blank> asa# failover active group 1 asa# failover active group 2\n\nStep 12\n\nExit the application console to the FXOS module CLI.\n\nEnter Ctrl-a, d\n\nStep 13\n\nReturn to the supervisor level of the FXOS CLI.\n\nExit the console:\n\nEnter ~\n\nYou exit to the Telnet application.\n\nTo exit the Telnet application, enter:\n\ntelnet>quit\n\nExit the Telnet session:\n\nEnter Ctrl-], .\n\nStep 14\n\nOn the chassis that contains the primary ASA logical device, download the new FXOS platform bundle image and ASA software image:\n\nConnect to the FXOS CLI.\n\nEnter firmware mode:\n\nscope firmware\n\nDownload the FXOS platform bundle software image:\n\ndownload imageURL\n\nSpecify"
    }
}