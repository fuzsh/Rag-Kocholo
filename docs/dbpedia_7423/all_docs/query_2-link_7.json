{
    "id": "dbpedia_7423_2",
    "rank": 7,
    "data": {
        "url": "https://www.juniper.net/documentation/us/en/software/junos/cli/topics/topic-map/junos-config-files-loading.html",
        "read_more_link": "",
        "language": "en",
        "title": "Loading Configuration Files",
        "top_image": "https://junipernetworks.allegiancetech.com/surveys/images/MRVCXM/juniper_logo.jpg",
        "meta_img": "",
        "images": [
            "https://junipernetworks.allegiancetech.com/surveys/images/MRVCXM/juniper_logo.jpg",
            "https://www.juniper.net/documentation/us/en/software/junos/cli/images/h1628.gif",
            "https://www.juniper.net/documentation/us/en/software/junos/cli/images/h1629.gif",
            "https://www.juniper.net/documentation/us/en/software/junos/cli/images/h1705.gif",
            "https://www.juniper.net/documentation/us/en/software/junos/cli/images/h1969.gif",
            "https://www.juniper.net/documentation/us/en/software/junos/cli/images/g017215.gif"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "Loading configuration files on the device are helpful for loading parts of configuration files that might be common across many devices within a network.",
        "meta_lang": "en",
        "meta_favicon": "",
        "meta_site_name": "",
        "canonical_link": null,
        "text": "You can create a file containing configuration data for a Juniper Networks device, copy the file to the local device, and then load the file into the CLI. After you have loaded the file, you can commit it to activate the configuration on the device, or you can edit the configuration interactively using the CLI and commit the configuration at a later time.\n\nYou can also create a configuration while typing at the terminal and then load the configuration. Loading a configuration from the terminal is useful when you are cutting existing portions of the configuration and pasting them elsewhere in the configuration.\n\nTo load an existing configuration file that is located on the device, you use the load configuration mode command:\n\n[edit] user@host# load (factory-default | merge | override | patch | replace | set | update) filename <relative> <json>\n\nTo load a configuration from the terminal, you use the following version of the load configuration mode command. Press Ctrl-d to end the input.\n\n[edit] user@host# load (factory-default | merge | override | patch | replace | set | update) terminal <relative> <json>\n\nTo replace an entire configuration, you specify the override option at any level of the hierarchy. A load override operation completely replaces the current candidate configuration with the file you are loading. Thus, if you saved a complete configuration, you use this option.\n\nAn override operation discards the current candidate configuration and loads the configuration in filename or the configuration that you type at the terminal. When you use the override option and commit the configuration, all system processes reparse the configuration.\n\nTo replace portions of a configuration, you specify the replace option. The load replace operation looks for replace: tags that you added to the loaded file. The operation then replaces those parts of the candidate configuration with whatever is specified after the tag. This is useful when you want more control over exactly what is being changed. For this operation to work, you must include replace: tags in the file or configuration that you type at the terminal. The software searches for the replace: tags, deletes the existing statements of the same name, if any, and replaces them with the incoming configuration. If no statement of the same name exists, the replace operation adds to the configuration the statements marked with the replace: tag.\n\nIf, in an override or merge operation, you specify a file or type text that contains replace: tags, the replace: tags are ignored. In this scenario, the override or merge operation takes precedence and is performed.\n\nIf you are performing a replace operation, and if the file that you specify lacks replace: tags, the replace operation runs as a merge operation. The replace operation also runs as a merge operation if the text you type lacks replace: tags. This information might be useful if you are running automated scripts and cannot know in advance whether the scripts need to perform a replace operation or a merge operation. The scripts can use the replace operation to cover either case.\n\nThe load merge operation merges the configuration from the saved file or terminal with the existing candidate configuration. This information is useful if you are adding new configuration sections. For example, suppose that you are adding a BGP configuration to the [edit protocols] hierarchy level, where there was no BGP configuration before. You can use the load merge operation to combine the incoming configuration with the existing candidate configuration. If the existing configuration and the incoming configuration contain conflicting statements, the statements in the incoming configuration override those in the existing configuration.\n\nTo replace only those parts of the configuration that have changed, you specify the update option at any level of the hierarchy. The load update operation compares the candidate configuration and the new configuration data. This operation changes only those parts of the candidate configuration that are different from the new configuration. You would use this operation, for example, if there is an existing BGP configuration and the file you are loading changes it in some way.\n\nThe merge, override, and update options support loading configuration data in JavaScript Object Notation (JSON) format. When loading configuration data that uses JSON format, you must specify the json option in the command. To load JSON configuration data that contains unordered list entries, that is, list entries where the list key is not necessarily the first element in the list entry, see Load JSON Configuration Data With Unordered List Entries.\n\nTo change part of the configuration with a patch file, you specify the patch option. The load patch operation loads a file or terminal input that contains configuration changes. First, on a device that already has the configuration changes, you type the show | compare command to output the differences between two configurations. Then you can load the differences on another device. The advantage of the load patch command is that it saves you from having to copy snippets from different hierarchy levels into a text file before loading them into the target device. This might be a useful time saver if you are configuring several devices with the same options. For example, suppose that you configure a routing policy on router1 and you want to replicate the policy configuration on router2, router3, and router4. You can use the load patch operation.\n\nIn this example, you first run the show | compare command.\n\nExample:\n\nuser@router1# show | compare rollback 3 [edit protocols ospf] + export default-static; - export static-default [edit policy-options] + policy-statement default-static { + from protocol static; + then accept; + }\n\nContinuing this example, you copy the output of the show | compare command to the clipboard, making sure to include the hierarchy levels. On router2, router3, and router4, you type load patch terminal and paste the output. You then press Enter and press Ctrl-d to end the operation. If the patch input specifies different values for an existing statement, the patch input overrides the existing statement.\n\nTo use the merge, replace, set, or update option without specifying the full hierarchy level, you specify the relative option. This option loads the incoming configuration relative to your current edit point in the configuration hierarchy.\n\nExample:\n\n[edit system] user@host# show static-host-mapping bob sysid 987.654.321ab [edit system] user@host# load replace terminal relative [Type ^D at a new line to end input] replace: static-host-mapping { bob sysid 0123.456.789bc; } load complete [edit system] user@host# show static-host-mapping bob sysid 0123.456.789bc;\n\nTo load a configuration that contains set configuration mode commands, specify the set option. This option executes the configuration instructions line by line as they are stored in a file or from a terminal. The instructions can contain any configuration mode command, such as set, edit, exit, and top.\n\nTo copy a configuration file from another network system to the local router, you can use the SSH and Telnet utilities, as described in the CLI Explorer."
    }
}