{
    "id": "dbpedia_7423_2",
    "rank": 17,
    "data": {
        "url": "https://docs.vmware.com/en/VMware-vSphere/7.0/com.vmware.esxi.upgrade.doc/GUID-61A14EBB-5CF3-43EE-87EF-DB8EC6D83698.html",
        "read_more_link": "",
        "language": "en",
        "title": "Installation and Upgrade Script Commands",
        "top_image": "https://docs.vmware.com/uicontent/images/vmware-docs-default.png",
        "meta_img": "https://docs.vmware.com/uicontent/images/vmware-docs-default.png",
        "images": [
            "https://docs.vmware.com/uicontent/images/VMware_by_Broadcom.png",
            "https://docs.vmware.com/uicontent/images/VMware_by_Broadcom_Gray-Black.png",
            "https://docs.vmware.com/uicontent/images/nwMyLibrary.png",
            "https://docs.vmware.com/uicontent/images/icon-handshake.png",
            "https://docs.vmware.com/uicontent/images/icon-support.png",
            "https://docs.vmware.com/uicontent/images/icon-networking-bg.png",
            "https://docs.vmware.com/uicontent/images/icon-download-bg.png",
            "https://docs.vmware.com/uicontent/images/share-mylibrary.svg",
            "https://docs.vmware.com/uicontent/images/add-to-library-colorless.svg",
            "https://docs.vmware.com/uicontent/images/twitter.svg",
            "https://docs.vmware.com/uicontent/images/facebook.svg",
            "https://docs.vmware.com/uicontent/images/linkedin.svg",
            "https://docs.vmware.com/uicontent/images/weibo.svg",
            "https://docs.vmware.com/uicontent/images/pdf.svg",
            "https://docs.vmware.com/uicontent/images/feedback.svg",
            "https://docs.vmware.com/uicontent/images/edit.svg",
            "https://docs.vmware.com/uicontent/images/review.svg",
            "https://docs.vmware.com/uicontent/images/scroll_top.svg",
            "https://docs.vmware.com/uicontent/images/feedback.svg"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            "vmaccepteula command",
            "dryrun command",
            "accepteula command",
            "clearpart command",
            "dryrun command",
            "install command",
            "upgrade command",
            "installorupgrade command",
            "keyboard command",
            "%pre command",
            "%post command",
            "network command",
            "paranoid command",
            "part command",
            "partition command",
            "rootpw command",
            "%include command",
            "include command"
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "To modify the default installation or upgrade script or to create your own script, use supported commands. Use supported commands in the installation script, which you specify with a boot command when you boot the installer.",
        "meta_lang": "",
        "meta_favicon": "https://www.vmware.com/favicon.ico",
        "meta_site_name": "",
        "canonical_link": "https://docs.vmware.com/en/VMware-vSphere/7.0/com.vmware.esxi.upgrade.doc/GUID-61A14EBB-5CF3-43EE-87EF-DB8EC6D83698.html",
        "text": "To modify the default installation or upgrade script or to create your own script, use supported commands. Use supported commands in the installation script, which you specify with a boot command when you boot the installer.\n\nTo determine which disk to install or upgrade ESXi on, the installation script requires one of the following commands: install, upgrade, or installorupgrade. The install command creates the default partitions, including a VMFS datastore that occupies all available space after the other partitions are created.\n\naccepteula or vmaccepteula (Required)\n\nAccepts the ESXi license agreement.\n\nclearpart (Optional)\n\nClears any existing partitions on the disk. Requires the install command to be specified. Carefully edit the clearpart command in your existing scripts.\n\n--drives=\n\nRemove partitions on the specified drives.\n\n--alldrives\n\nIgnores the --drives= requirement and allows clearing of partitions on every drive.\n\n--ignoredrives=\n\nRemoves partitions on all drives except those specified. Required unless the --drives= or --alldrives flag is specified.\n\n--overwritevmfs\n\nAllows overwriting of VMFS partitions on the specified drives. By default, overwriting VMFS partitions is not allowed.\n\n--firstdisk=\n\ndisk-type1\n\n[disk-type2,...]\n\nPartitions the first eligible disk found. By default, the eligible disks are set to the following order:\n\nLocally attached storage (local)\n\nNetwork storage (remote)\n\nUSB disks (usb)\n\nYou can change the order of the disks by using a comma-separated list appended to the argument. If you provide a filter list, the default settings are overridden. You can combine filters to specify a particular disk, including esx for the first disk with ESXi installed on it, model and vendor information, or the name of the VMkernel device driver. For example, to prefer a disk with the model name ST3120814A and any disk that uses the mptsas driver rather than a normal local disk, the argument is --firstdisk=ST3120814A,mptsas,local. You can use localesx for local storage that contains ESXi image or remoteesx for remote storage that contains ESXi image.\n\ndryrun (Optional)\n\nParses and checks the installation script. Does not perform the installation.\n\ninstall\n\nSpecifies that this is a fresh installation. Either the install, upgrade, or installorupgrade command is required to determine which disk to install or upgrade ESXi on.\n\n--disk= or --drive=\n\nSpecifies the disk to partition. In the command --disk=diskname, the diskname can be a disk name or a full disk filesystem path in ESXi, for example:\n\nDisk name: --disk=naa.6d09466044143600247aee55ca2a6405 or\n\nDevice path: --disk=/vmfs/devices/disks/mpx.vmhba1:C0:T0:L0\n\nFor accepted disk name formats, see Disk Device Names.\n\n--firstdisk=\n\ndisk-type1,\n\n[ disk-type2,...]\n\nPartitions the first eligible disk found. By default, the eligible disks are set to the following order:\n\nLocally attached storage (local)\n\nNetwork storage (remote)\n\nUSB disks (usb)\n\nYou can change the order of the disks by using a comma-separated list appended to the argument. If you provide a filter list, the default settings are overridden. You can combine filters to specify a particular disk, including esx for the first disk with ESX installed on it, model and vendor information, or the name of the VMkernel device driver. For example, to prefer a disk with the model name ST3120814A and any disk that uses the mptsas driver rather than a normal local disk, the argument is --firstdisk=ST3120814A,mptsas,local. You can use localesx for local storage that contains ESXi image or remoteesx for remote storage that contains ESXi image.\n\n--ignoressd\n\nExcludes solid-state disks from eligibility for partitioning. This option can be used with the install command and the --firstdisk option. This option takes precedence over the --firstdisk option. This option is invalid with the --drive or --disk options and with the upgrade and installorupgrade commands. See the vSphere Storage documentation for more information about preventing SSD formatting during auto-partitioning.\n\n--overwritevsan\n\nYou must use the --overwritevsan option when you install ESXi on a disk, either SSD or HDD (magnetic), that is in a vSAN disk group. If you use this option and no vSAN partition is on the selected disk, the installation fails. When you install ESXi on a disk that is in vSAN disk group, the result depends on the disk that you select:\n\nIf you select an SSD, the SSD and all underlying HDDs in the same disk group is wiped.\n\nIf you select an HDD, and the disk group size is greater than two, only the selected HDD is wiped.\n\nIf you select an HDD disk, and the disk group size is two or less, the SSD and the selected HDD is wiped.\n\nFor more information about managing vSAN disk groups, see the vSphere Storage documentation.\n\n--overwritevmfs\n\nRequired to overwrite an existing VMFS datastore on the disk before installation.\n\n--preservevmfs\n\nPreserves an existing VMFS datastore on the disk during installation.\n\n--novmfsondisk\n\nPrevents a VMFS partition from being created on this disk. Must be used with --overwritevmfs if a VMFS partition exists on the disk.\n\ninstallorupgrade\n\nEither the install, upgrade, or installorupgrade command is required to determine which disk to install or upgrade ESXi on.\n\n--disk= or --drive=\n\nSpecifies the disk to partition. In the command --disk=diskname, the diskname can be a disk name or a full disk filesystem path in ESXi, for example:\n\nDisk name: --disk=naa.6d09466044143600247aee55ca2a6405 or\n\nDevice path: --disk=/vmfs/devices/disks/mpx.vmhba1:C0:T0:L0\n\nFor accepted disk name formats, see Disk Device Names.\n\n--firstdisk=\n\ndisk-type1,\n\n[ disk-type2,...]\n\nPartitions the first eligible disk found. By default, the eligible disks are set to the following order:\n\nLocally attached storage (local)\n\nNetwork storage (remote)\n\nUSB disks (usb)\n\nYou can change the order of the disks by using a comma-separated list appended to the argument. If you provide a filter list, the default settings are overridden. You can combine filters to specify a particular disk, including esx for the first disk with ESX installed on it, model and vendor information, or the name of the VMkernel device driver. For example, to prefer a disk with the model name ST3120814A and any disk that uses the mptsas driver rather than a normal local disk, the argument is --firstdisk=ST3120814A,mptsas,local. You can use localesx for local storage that contains ESXi image or remoteesx for remote storage that contains ESXi image.\n\n--overwritevsan\n\nYou must use the --overwritevsan option when you install ESXi on a disk, either SSD or HDD (magnetic), that is in a vSAN disk group. If you use this option and no vSAN partition is on the selected disk, the installation fails. When you install ESXi on a disk that is in a vSAN disk group, the result depends on the disk that you select:\n\nIf you select an SSD, the SSD and all underlying HDDs in the same disk group is wiped.\n\nIf you select an HDD, and the disk group size is greater than two, only the selected HDD is wiped.\n\nIf you select an HDD disk, and the disk group size is two or less, the SSD and the selected HDD is wiped.\n\nFor more information about managing vSAN disk groups, see the vSphere Storage documentation.\n\n--overwritevmfs\n\nInstall ESXi if a VMFS partition exists on the disk, but no ESX or ESXi installation exists. Unless this option is present, the installer fails if a VMFS partition exists on the disk, but an ESX or ESXi installation is missing.\n\nkeyboard (Optional)\n\nSets the keyboard type for the system.\n\nkeyboardType\n\nSpecifies the keyboard map for the selected keyboard type. keyboardType must be one of the following types.\n\nBelgian\n\nBrazilian\n\nCroatian\n\nCzechoslovakian\n\nDanish\n\nEstonian\n\nFinnish\n\nFrench\n\nGerman\n\nGreek\n\nIcelandic\n\nItalian\n\nJapanese\n\nLatin American\n\nNorwegian\n\nPolish\n\nPortuguese\n\nRussian\n\nSlovenian\n\nSpanish\n\nSwedish\n\nSwiss French\n\nSwiss German\n\nTurkish\n\nUkrainian\n\nUnited Kingdom\n\nUS Default\n\nUS Dvorak\n\nserialnum or vmserialnum (Optional)\n\nThe command is supported in ESXi version 5.1 and later. Configures licensing. If not included, ESXi installs in evaluation mode.\n\n--esx=<license-key>\n\nSpecifies the vSphere license key to use. The format is 5 five-character groups (XXXXX-XXXXX-XXXXX-XXXXX-XXXXX).\n\nnetwork (Optional)\n\nSpecifies a network address for the system.\n\n--bootproto=[dhcp|static]\n\nSpecifies whether to obtain the network settings from DHCP or set them manually.\n\n--device=\n\nSpecifies either the MAC address of the network card or the device name, in the form vmnicNN, as in vmnic0. This option refers to the uplink device for the virtual switch.\n\n--ip=\n\nSets an IP address for the machine to be installed, in the form xxx.xxx.xxx.xxx. Required with the --bootproto=static option and ignored otherwise.\n\n--gateway=\n\nDesignates the default gateway as an IP address, in the form xxx.xxx.xxx.xxx. Used with the --bootproto=static option.\n\n--nameserver=\n\nDesignates the primary name server as an IP address. Used with the --bootproto=static option. Omit this option if you do not intend to use DNS.\n\nThe --nameserver option can accept two IP addresses. For example: --nameserver=\"10.126.87.104[,10.126.87.120]\"\n\n--netmask=\n\nSpecifies the subnet mask for the installed system, in the form 255.xxx.xxx.xxx. Used with the --bootproto=static option.\n\n--hostname=\n\nSpecifies the host name for the installed system.\n\n--vlanid= vlanid\n\nSpecifies which VLAN the system is on. Used with either the --bootproto=dhcp or --bootproto=static option. Set to an integer from 1 to 4096.\n\n--addvmportgroup=(0|1)\n\nSpecifies whether to add the VM Network port group, which is used by virtual machines. The default value is 1.\n\nparanoid (Optional)\n\nCauses warning messages to interrupt the installation. If you omit this command, warning messages are logged.\n\npart or partition (Optional)\n\nCreates an extra VMFS datastore on the system. Only one datastore per disk can be created. Cannot be used on the same disk as the install command. Only one partition can be specified per disk and it can only be a VMFS partition.\n\ndatastore name\n\nSpecifies where the partition is to be mounted.\n\n--ondisk= or --ondrive=\n\nSpecifies the disk or drive where the partition is created.\n\n--onfirstdisk=\n\ndisk-type1,\n\n[ disk-type2,...]\n\nPartitions the first eligible disk found. By default, the eligible disks are set to the following order:\n\nLocally attached storage (local)\n\nNetwork storage (remote)\n\nUSB disks (usb)\n\nYou can change the order of the disks by using a comma-separated list appended to the argument. If you provide a filter list, the default settings are overridden. You can combine filters to specify a particular disk, including esx for the first disk with ESX installed on it, model and vendor information, or the name of the VMkernel device driver. For example, to prefer a disk with the model name ST3120814A and any disk that uses the mptsas driver rather than a normal local disk, the argument is --onfirstdisk=ST3120814A,mptsas,local. You can use localesx for local storage that contains ESXi image or remoteesx for remote storage that contains ESXi image.\n\nreboot (Optional)\n\nReboots the machine after the scripted installation is complete.\n\n<--noeject>\n\nThe CD is not ejected after the installation.\n\nrootpw (Required)\n\nSets the root password for the system.\n\n--iscrypted\n\nSpecifies that the password is encrypted.\n\npassword\n\nSpecifies the password value.\n\nupgrade\n\nEither the install, upgrade, or installorupgrade command is required to determine which disk to install or upgrade ESXi on.\n\n--disk= or --drive=\n\nSpecifies the disk to partition. In the command --disk=diskname, the diskname can be a disk name or a full disk filesystem path in ESXi, for example:\n\nDisk name: --disk=naa.6d09466044143600247aee55ca2a6405 or\n\nDevice path: --disk=/vmfs/devices/disks/mpx.vmhba1:C0:T0:L0\n\nFor accepted disk name formats, see Disk Device Names.\n\n--firstdisk=\n\ndisk-type1,\n\n[ disk-type2,...]\n\nPartitions the first eligible disk found. By default, the eligible disks are set to the following order:\n\nLocally attached storage (local)\n\nNetwork storage (remote)\n\nUSB disks (usb)\n\nYou can change the order of the disks by using a comma-separated list appended to the argument. If you provide a filter list, the default settings are overridden. You can combine filters to specify a particular disk, including esx for the first disk with ESX installed on it, model and vendor information, or the name of the VMkernel device driver. For example, to prefer a disk with the model name ST3120814A and any disk that uses the mptsas driver rather than a normal local disk, the argument is --firstdisk=ST3120814A,mptsas,local. You can use localesx for local storage that contains ESXi image or remoteesx for remote storage that contains ESXi image.\n\n%include or include (Optional)\n\nSpecifies another installation script to parse. This command is treated similarly to a multiline command, but takes only one argument.\n\nfilename\n\nFor example: %include part.cfg\n\n%pre (Optional)\n\nSpecifies a script to run before the kickstart configuration is evaluated. For example, you can use it to generate files for the kickstart file to include.\n\n--interpreter\n\n=[python|busybox]\n\nSpecifies an interpreter to use. The default is busybox.\n\n%post (Optional)\n\nRuns the specified script after package installation is complete. If you specify multiple %post sections, they run in the order that they appear in the installation script.\n\n--interpreter\n\n=[python|busybox]\n\nSpecifies an interpreter to use. The default is busybox.\n\n--timeout=secs\n\nSpecifies a timeout for running the script. If the script is not finished when the timeout expires, the script is forcefully stopped.\n\n--ignorefailure\n\n=[true|false]\n\nIf true, the installation is considered a success even if the %post script stops with an error."
    }
}