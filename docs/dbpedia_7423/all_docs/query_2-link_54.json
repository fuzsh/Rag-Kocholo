{
    "id": "dbpedia_7423_2",
    "rank": 54,
    "data": {
        "url": "https://docs.vmware.com/en/VMware-vSphere/8.0/vsphere-esxi-installation/GUID-51BD0186-50BF-4D0D-8410-79F165918B16.html",
        "read_more_link": "",
        "language": "en",
        "title": "Installation and Upgrade Scripts Used for ESXi Installation",
        "top_image": "https://docs.vmware.com/uicontent/images/vmware-docs-default.png",
        "meta_img": "https://docs.vmware.com/uicontent/images/vmware-docs-default.png",
        "images": [
            "https://docs.vmware.com/uicontent/images/VMware_by_Broadcom.png",
            "https://docs.vmware.com/uicontent/images/VMware_by_Broadcom_Gray-Black.png",
            "https://docs.vmware.com/uicontent/images/nwMyLibrary.png",
            "https://docs.vmware.com/uicontent/images/icon-handshake.png",
            "https://docs.vmware.com/uicontent/images/icon-support.png",
            "https://docs.vmware.com/uicontent/images/icon-networking-bg.png",
            "https://docs.vmware.com/uicontent/images/icon-download-bg.png",
            "https://docs.vmware.com/uicontent/images/share-mylibrary.svg",
            "https://docs.vmware.com/uicontent/images/add-to-library-colorless.svg",
            "https://docs.vmware.com/uicontent/images/twitter.svg",
            "https://docs.vmware.com/uicontent/images/facebook.svg",
            "https://docs.vmware.com/uicontent/images/linkedin.svg",
            "https://docs.vmware.com/uicontent/images/weibo.svg",
            "https://docs.vmware.com/uicontent/images/pdf.svg",
            "https://docs.vmware.com/uicontent/images/feedback.svg",
            "https://docs.vmware.com/uicontent/images/edit.svg",
            "https://docs.vmware.com/uicontent/images/review.svg",
            "https://docs.vmware.com/uicontent/images/scroll_top.svg",
            "https://docs.vmware.com/uicontent/images/feedback.svg"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            "default root password",
            "installation scripts",
            "default",
            "default installation scripts",
            "ks.cfg",
            "boot.cfg file",
            "installation script",
            "supported locations",
            "installation script",
            "path to",
            "vmaccepteula command",
            "dryrun command",
            "accepteula command",
            "clearpart command",
            "dryrun command",
            "install command",
            "upgrade command",
            "installorupgrade command",
            "keyboard command",
            "%pre command",
            "%post command",
            "network command",
            "paranoid command",
            "part command",
            "partition command",
            "rootpw command",
            "%include command",
            "include command",
            "disk device names"
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "You can use a default script to perform a standard ESXi installation to the first detected disk.",
        "meta_lang": "",
        "meta_favicon": "https://www.vmware.com/favicon.ico",
        "meta_site_name": "",
        "canonical_link": "https://docs.vmware.com/en/VMware-vSphere/8.0/vsphere-esxi-installation/GUID-51BD0186-50BF-4D0D-8410-79F165918B16.html",
        "text": "You can use a default script to perform a standard ESXi installation to the first detected disk.\n\nDuring an ESXi installation, you can use a default script to perform a standard installation to the first detected disk, and the boot loader configuration file to specify the kernel, the kernel options, and the boot modules that the mboot.c32 or mboot.efi boot loader uses for the installation.\n\nAbout the Default ks.cfg Installation Script\n\nThe ESXi installer includes a default installation script that performs a standard installation to the first detected disk.\n\nThe default ks.cfg installation script is located in the initial RAM disk at /etc/vmware/weasel/ks.cfg. You can specify the location of the default ks.cfg file with the ks=file://etc/vmware/weasel/ks.cfg boot option. See Enter Boot Options to Run an Installation or Upgrade Script.\n\nWhen you install ESXi using the ks.cfg script, the default root password is myp@ssw0rd.\n\nYou cannot modify the default script on the installation media. After the installation, you can use the vSphere Client to log in to the vCenter Server that manages the ESXi host and modify the default settings.\n\nWith vSphere 8.0, if your system has data processing units (DPU), you use the ks.cfg script also to install ESXi on DPUs.\n\nThe default script contains the following commands:\n\n# # Sample scripted installation file # # Accept the VMware End User License Agreement vmaccepteula # Set the root password for the DCUI and Tech Support Mode rootpw myp@ssw0rd # Install on the first local disk available on machine install --firstdisk --overwritevmfs In case you system has DPUs, you also specify a PCI slot: install --firstdisk --overwritevmfs --dpupcislots=<PCIeSlotID> # Set the network to DHCP on the first network adapter network --bootproto=dhcp --device=vmnic0 # A sample post-install script %post --interpreter=python --ignorefailure=true import time stampFile = open('/finished.stamp', mode='w') stampFile.write( time.asctime() )\n\nAbout the boot.cfg File\n\nThe boot loader configuration file boot.cfg specifies the kernel, the kernel options, and the boot modules that the mboot.c32 or mboot.efi boot loader uses in an ESXi installation.\n\nThe boot.cfg file is provided in the ESXi installer. You can modify the kernelopt line of the boot.cfg file to specify the location of an installation script or to pass other boot options.\n\nThe boot.cfg file has the following syntax:\n\n# boot.cfg -- mboot configuration file # # Any line preceded with '#' is a comment. title=STRING prefix=DIRPATH kernel=FILEPATH kernelopt=STRING modules=FILEPATH1 --- FILEPATH2... --- FILEPATHn # Any other line must remain unchanged.\n\nThe commands in boot.cfg configure the boot loader.\n\nTable 1. Commands in boot.cfg. Command Description title=STRING Sets the boot loader title to STRING. prefix=STRING (Optional) AddsDIRPATH/ in front of every FILEPATH in the kernel= and modules= commands that do not already start with / or with http://. kernel=FILEPATH Sets the kernel path to FILEPATH. kernelopt=STRING Appends STRING to the kernel boot options. modules=FILEPATH1 --- FILEPATH2... --- FILEPATHn Lists the modules to be loaded, separated by three hyphens (---).\n\nSee Create an Installer ISO Image with a Custom Installation or Upgrade Script and Network Booting the ESXi Installer.\n\nLocations Supported for Installation or Upgrade Scripts\n\nIn scripted installations and upgrades, the ESXi installer can access the installation or upgrade script, also called the kickstart file, from several locations.\n\nThe following locations are supported for the installation or upgrade script:\n\nCD/DVD. See Create an Installer ISO Image with a Custom Installation or Upgrade Script.\n\nUSB Flash drive. See Create a USB Flash Drive to Store the ESXi Installation Script or Upgrade Script.\n\nA network location accessible through the following protocols: NFS, HTTP, HTTPS, FTP\n\nPath to the Installation or Upgrade Script\n\nYou can specify the path to an installation or upgrade script.\n\nks=http://XXX.XXX.XXX.XXX/kickstart/KS.CFG is the path to the ESXi installation script, where XXX.XXX.XXX.XXX is the IP address of the machine where the script resides. See Installing ESXi by Using a Script.\n\nTo start an installation script from an interactive installation, you enter the ks= option manually. See Enter Boot Options to Run an Installation or Upgrade Script."
    }
}