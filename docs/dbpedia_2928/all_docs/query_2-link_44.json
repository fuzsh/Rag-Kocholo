{
    "id": "dbpedia_2928_2",
    "rank": 44,
    "data": {
        "url": "https://9pdf.org/document/y9630grd-desicion-support-depot-planning-railway-industry.html",
        "read_more_link": "",
        "language": "en",
        "title": "Desicion Support for Depot Planning in the Railway Industry",
        "top_image": "https://thumb-eu.123doks.com/thumbv2/9pdforg/839393.51396/cover.webp",
        "meta_img": "https://thumb-eu.123doks.com/thumbv2/9pdforg/839393.51396/cover.webp",
        "images": [
            "https://cdn-eu1.123doks.com/logos/9pdf.svg?t=20240716151121"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            "download documents"
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "The overall goal of depot planning is to create a feasible plan with low costs for parking the train units on the shunt tracks with respect to the timetable and the station layout",
        "meta_lang": "da",
        "meta_favicon": "https://9pdf.org/favicons/9.svg",
        "meta_site_name": "",
        "canonical_link": "https://9pdf.org/document/y9630grd-desicion-support-depot-planning-railway-industry.html",
        "text": "Peter Føns\n\nIMM, DTU April 2006\n\nIMM-Thesis-2006-42\n\n(2)\n\nTechnical University of Denmark\n\nInformatics and Mathematical Modelling\n\nBuilding 321, DK-2800 Kongens Lyngby, Denmark Phone +45 45253351, Fax +45 45882673\n\nreception@imm.dtu.dk www.imm.dtu.dk\n\n(3)\n\nPreface\n\nThis M.Sc. thesis has been prepared by Peter Føns during the period from the 5th of September, 2005 to the 7th of April, 2006. This work has been carried out in a collaboration between Informatics and Mathematical Modelling (IMM) at the Technical University of Denmark (DTU) and Carmen Systems AB (Carmen).\n\nI have been supervised by associate professor Jesper Larsen, IMM, DTU and Ph.D. Jesper Hansen, Carmen. This thesis is the final requirement to obtain the degree: Master of Science in Engineering.\n\nReaders of this thesis are assumed to have some knowledge of Operations Re- search (OR).\n\nPeter Føns\n\nDTU, Lyngby, April 2006\n\n(4)\n\nii\n\n(5)\n\nAbstract\n\nIn this project a prototype to increase the efficiency of depot planning in the railway industry has been developed. Depot planning or shunt planning is one of the final steps in the planning process of a passenger railway system. It focuses on the logistics within a station. Usually most of the shunt activities occur around the peak hours in the morning and afternoon and at the end of the day. The prototype is built as a decision support system, which helps the planners quickly making feasible and robust depot plans.\n\nSeveral aspects of depot planning are examined in the project. The main prob- lem is to determine the parking of train units on the shunt tracks. Different mathematical models and approaches are proposed for the problem. The models are solved by using mathematical software. In addition the prototype contains several methods to identify and correct possible conflicts between the timetable and the infrastructure prior to the solution procedure for the parking prob- lem. The robustness of the depot plans are also taken into consideration in the solution process.\n\nThe efficiency of the prototype has been examined by small test cases. Further- more the prototype has been applied to 6 depots at DSB S-tog. The experiments show that high-quality depot plans are typically found within few minutes of computation time.\n\nKeywords: Depot planning, Shunt planning, Shunting, Decision Support Sys- tem, Railway planning, Operations Research.\n\n(6)\n\niv\n\n(7)\n\nResum´ e\n\nI projektet er udviklet en prototype til at forbedre effektiviteten af depotplan- lægning i togindustrien. Depotplanlægning eller rangerplanlægning er en af de sidste procedurer i planlægningsprocessen af et togsystem til passagertrafik. Det fokuserer p˚a logistikken inden for den enkelte station. Sædvanligvis foreg˚ar de fleste rangeraktiviteter omkring myldretid om morgenen og om eftermiddagen og n˚ar dagen er omme. Prototypen er bygget som et beslutningsstøttesystem, der skal hjælpe planlæggerne med hurtigt at lave mulige og robuste depotplaner.\n\nFlere aspekter omkring depotplanlægning undersøges i projektet. Hovedpro- blemet er at bestemme, hvordan togenhederne skal parkeres p˚a sidesporene.\n\nForskellige matematiske modeller og fremgangsm˚ader til problemet præsenteres.\n\nModellerne er løst ved hjælp af matematisk programmel. Desuden indeholder prototypen flere metoder til at identificere og rette eventuelle konflikter mellem køreplanen og infrastrukturen forud for løsningsproceduren til parkeringsprob- lemet. Robustheden af køreplanerne er ogs˚a taget i betragtning i løsningsproces- sen.\n\nEffektiviteten af prototypen undersøges ved hjælp af sm˚a test eksempler. End- videre afprøves prototypen p˚a 6 depoter ved DSB S-tog. Eksperimenterne viser, at det normalt er muligt at generere lovlige og robuste depotplaner sædvanligivs fundet inden for f˚a minutter.\n\n(8)\n\nvi\n\n(9)\n\nAcknowledgements\n\nFirst of all I will like to thank family and friends for supporting me throughout the work with the thesis. I will also like to thank the people at DSB S-tog for helping me understand important aspects of depot planning and Thomas Krog Christensen for proofreading the entire thesis.\n\nFinally a special thanks goes to my two supervisors Jesper Larsen, IMM, DTU and Jesper Hansen, Carmen for valuable discussions about depot planning and thesis writing, and for both being very helpful in general.\n\n(10)\n\nviii Contents\n\n(11)\n\nContents\n\nPreface i\n\nAbstract iii\n\nResum´e v\n\nAcknowledgements vii\n\n1 Introduction 1\n\n1.1 Project description . . . 1 1.2 Structure of the thesis . . . 2\n\n2 Decision Support Systems 5\n\n2.1 Introduction and techniques . . . 5 2.2 The methods used in the prototype . . . 7\n\n3 The Railway Industry 9\n\n(12)\n\nx CONTENTS\n\n3.1 Company profile of DSB S-tog a/s . . . 9 3.2 Company profile of Carmen Systems AB . . . 13 3.3 Concepts . . . 14\n\n4 Literature review 17\n\n4.1 Literature from the Netherlands about train shunting . . . 17 4.2 Literature on shunting in general . . . 21 4.3 Literature on optimization in railway planning . . . 23 4.4 Literature on decision support systems in the railway industry . 26\n\n5 The Parking Problem 29\n\n5.1 Problem definition . . . 30 5.2 Solution procedure . . . 30 5.3 Implementation . . . 39\n\n6 Generalizations of the Parking Problem 41\n\n6.1 Free tracks . . . 41 6.2 Time windows . . . 44 6.3 Branch-and-Cut approach . . . 45\n\n7 The Prototype 49\n\n7.1 Structure of the prototype . . . 52 7.2 Feasibility Check - Problem Analysis . . . 53 7.3 Parameter adjustment . . . 69\n\n(13)\n\nCONTENTS xi\n\n7.4 The parking step . . . 71\n\n7.5 Feedback from depot planning . . . 71\n\n7.6 Capabilities and limitations . . . 73\n\n7.7 Visualization with Arena . . . 75\n\n8 Experiments 79 8.1 Crossings . . . 79\n\n8.2 Application to DSB S-tog . . . 85\n\n8.3 Alternative depot - Shuntvalley (SH) . . . 100\n\n8.4 Overview of the experiments . . . 102\n\n8.5 Conclusion on the experiments . . . 105\n\n8.6 Comparison with results in the literature . . . 106\n\n9 Further research 109 10 Conclusion 111 Bibliography 113 A Tests 115 A.1 Ballerup - Working day (2005-1) . . . 115\n\nA.2 Ballerup - Weekend (2005-1) . . . 117\n\nA.3 Farum - Weekend (2005-1) . . . 118\n\nA.4 Farum - Working day (Test - 17 crossings) . . . 122\n\nA.5 Frederikssund - Working day (2005-1) . . . 123\n\n(14)\n\nxii CONTENTS\n\nA.6 Frederikssund - Weekend (2005-1) . . . 125\n\nA.7 Hillerød - Working day (2005-1) . . . 127\n\nA.8 Hillerød - Weekend (2005-1) . . . 130\n\nA.9 Hillerød - Working day (Test - 49 crossings) . . . 133\n\nA.10 Klampenborg - Working day (2005-1) . . . 135\n\nA.11 Klampenborg - Weekend (2005-1) . . . 137\n\nA.12 Køge - Working day (2005-1) . . . 140\n\nA.13 Køge - Weekend (2005-1) . . . 143\n\n(15)\n\nChapter 1\n\nIntroduction\n\nDepot planning is one of the final steps in the planning process of a passenger railway system. It focuses on the planning of activities within a station. These activities are referred to as shunt activities. Trains arrive to and depart from the station platforms during the day. In the morning and before peak hours train units are moved (shunted) from the shunt tracks to the platforms to either start operating a train or to be attached to an existing train. After peak hours and at the end of the day the opposite occurs, where train units are shunted from the platforms to the shunt tracks. The overall goal of depot planning is to create a feasible plan with low costs for parking the train units on the shunt tracks with respect to the timetable and the station layout1.\n\n1.1 Project description\n\nAt many railway companies depot planning is done manually or with minimal decision support for the planners. To increase the efficiency of depot planning and the previous steps of the planning process DSB S-tog a/s (S-tog) has hired the company Carmen Systems AB (Carmen) to develop an integrated system for the railway planning. The system is developed under the title Carmen Rail\n\n1Referred to as the station topology throughout the thesis.\n\n(16)\n\n2 Introduction\n\nSolution.\n\nThe objective of this project is to develop a prototype for depot planning. The prototype is built as a decision support system and can be seen as an automated tool for supporting the planners. It uses the timetable and the station topologies together with input from the planner to generate feasible depot plans. The generation is based on different algorithms and optimization procedures. The prototype has a text-based interface, but feasible depot plans can be visualized with the simulation program Arena.\n\nThe main focus in the prototype is to determine the parking of train units. This problem is referred to as the parking problem. Prior to the parking problem a thorough analysis is applied in the prototype. This analysis identifies possible infeasibilities between the timetable and the station topology. The planner can adjust several parameters in order to correct the infeasibilities or decide to use other solution procedures. Different strategies are included in the prototype to examine the robustness of a feasible depot plan or identify the problems in an infeasible depot plan.\n\nThe development of the prototype is based on the timetable and the depots used at S-tog. The prototype can also be used by other railway companies, but it may require different kind of modifications.\n\nThe project is made in collaboration with Carmen.\n\n1.2 Structure of the thesis\n\nThe thesis is divided into 10 chapters. Chapter 2 contains a general introduc- tion to decision support systems and presents the main methods used in the prototype. The next chapter introduces the reader to the railway industry and gives a description of DSB S-tog a/s and Carmen Systems AB. Furthermore concepts used in the thesis are explained. A review of the existing literature is given in chapter 4. This includes literature on train shunting, shunting in general, optimization in railway planning and decision support systems in the railway industry.\n\nChapter 5 describes the theory and solution procedure of the parking problem used in the prototype. Chapter 6 contains other theoretical aspects of the parking problem and a different solution procedure to the problem based on a Branch-and-Cut approach. The main description of the prototype is in chapter 7. This chapter includes a thorough examination of the problem analysis process\n\n(17)\n\n1.2 Structure of the thesis 3\n\nand the feedback from the depot planning. Furthermore it contains a section about the visualization in Arena.\n\nChapter 8 contains different experiments with the prototype and the application to S-tog. A discussion of further research is in chapter 9, whereas the conclusions of the project are in chapter 10. Appendix A shows some of the different test results from the experiments. Notice that in order to limit the size of the thesis, not all the output of the experiments are included in the appendix.\n\nThe prototype and all the code, the model in Arena, and the data used in the experiments are included on the enclosed CD-ROM.\n\n(18)\n\n4 Introduction\n\n(19)\n\nChapter 2\n\nDecision Support Systems\n\nIn this chapter I will give an introduction to decision support systems and describe some of the different techniques used in the systems. Finally I will explain the main methods in the decision support system (prototype) developed in this project.\n\n2.1 Introduction and techniques\n\nA decision support system (DSS) is basically a business application, which work as an interactive computer-supported system intended to help managers make decisions, Clausen [Cla05]. Most often the goal of a DSS is not to produce a complete solution, but more to support the decision maker in his/hers solution process. To make the implementation of a DSS a success, it is important that the DSS is made completely controllable and transparent to the user.\n\nAn important aspect of the DSS is the planning horizon of the decision to be made. For some decisions a fast feedback is required, where longer time can be used on other decisions. Notice that the quality of the decision is often based on the time available. The goal of the DSS is to help the decision maker find the best possible solution, but sometimes this can be hard to quantify or the\n\n(20)\n\n6 Decision Support Systems\n\ndecision involves several objectives i.e. a multi-criteria decision problem. These aspects often complicate the design of the DSS.\n\nMost often the DSS is based on a model. If the model can be expressed with mathematical functions and relations it is called a mathematical model. In case of linear functions the model is called a linear programming model (LP-model) and can be solved by using mathematical software. If the decision variables in the model are integer or binary variables, the complexity of the model increases.\n\nOther mathematical methods to base the DSS on include constraint program- ming and heuristics. Constraint programming is a technology that combines mathematical based methods and search based methods known from artifi- cial intelligence. Heuristics are approximation algorithms, which try to find a good and possibly optimal solution quickly. Heuristics are split into two cat- egories: Constructions-heuristics and improvement-heuristics. Constructions- heuristics build from scratch a feasible solution to the decision problem, where improvement-heuristics (as the name imply) improve an existing solution. The technique is to search in the neighborhood also called local search for a bet- ter solution. Some of the classical improvement-heuristics are metaheuristics as simulated annealing, tabu search, genetic algorithms etc. [Cla05].\n\nIf the functions cannot be expressed mathematically the use of simulation can be applied to the DSS. The idea behind simulation is to build a model, which tries to imitate the real world. In one type of simulation, discrete event simulation, an event calendar keeps track of all the events that cause changes in the system.\n\nThe simulation model can evaluate different scenarios based on deterministic or stochastic data. The results can be used to find bottlenecks in the model, optimize procedures etc.\n\nOptimization and simulation are the traditional techniques from an operations researcher point of view, but other methods for a DSS exist. Some of these tech- niques are artificial intelligence, neural networks, probabilistic net or stochastic programming. Each of the methods has its pros and cons and can be applied individually or in connections with other techniques.\n\nBesides choosing the time horizon and techniques used in the DSS, the developer of the system has to consider the knowledge available and the quality of the proposed decision. Making the DSS as specific as possible will often increase the quality of the proposed decision. In this context it is important to have good quality measures.\n\n(21)\n\n2.2 The methods used in the prototype 7\n\n2.2 The methods used in the prototype\n\nThe different planning problems in passenger railway transportation are char- acterized by planning horizon and location (either central or local). Typically the depot planning is part of the local procedures of the operational planning.\n\nAt this level the last details of the timetable are planned and the rolling stock and crew schedules are constructed. Depending on the railway company the operational planning is carried out a small number of times each year. A more thorough analysis of railway planning is in section 4.3.\n\nThe approach to solve the main problem of the depot planning i.e. the parking problem leads to a 0-1 IP-model referring to a model consisting only of binary decision variables. In the prototype it has been chosen to use mathematical software (CPLEX) to solve the model. Prior to solving the model, algorithms and heuristics are applied to the problem in order to generate feasible track as- signments and find possible infeasibilities between the timetable and the station topologies. If infeasibilities exist the heuristics contain different strategies for correcting or removing them.\n\nDiscrete event simulation has also been applied to the prototype, but it is only used to visualize the different depot plans. Thereby, the user is given the pos- sibility to observe, how the situation at the station changes step by step.\n\nThe prototype is developed specifically for depot planning at S-tog. At the same time the algorithms and methods are made as general as possible, but it may require minor modifications or adjustments, if the prototype is going to be applied to depots at other railway companies. Section 8.1 specifies and evaluates some of the quality measures for the prototype.\n\n(22)\n\n8 Decision Support Systems\n\n(23)\n\nChapter 3\n\nThe Railway Industry\n\nIn 1847 the first Danish railway was opened between Copenhagen and Roskilde.\n\nIn the last 159 years the trains and the railways have experienced a major development1. At the moment the industry undergo a period of modernisation, caused by rapid technological developments, the environmental needs and the ageing of existing equipment, Kvist et al. [KHSB02]. On the political scene the railway industry is also on the agenda in order to make it easier to travel through Europe by train.\n\nCompared with other kinds of transport, train traffic has far more restrictions e.g. safety systems, railway infrastructure and much more. This leads to fewer opportunities for overtakings, alternative routes in case of delays etc. In the following a description of DSB S-tog a/s and Carmen Systems AB is given.\n\n3.1 Company profile of DSB S-tog a/s\n\nDSB S-tog a/s (S-tog) is the Danish train company responsible for the trains in the greater Copenhagen area. S-tog is owned by DSB, the Danish State Railways, which runs most of the passenger trains in Denmark. The public\n\n1Some people argue that the railways in Denmark have not changed much...\n\n(24)\n\n10 The Railway Industry\n\ntransport network in Copenhagen also includes busses, metro and a number of small train networks, which S-tog is not responsible for. Much of the information in the following is taken from the DSB S-tog a/s Annual Report 2004.\n\nS-tog has the responsibility of planning and implementing timetables for the S-trains and is in charge of quality control and maintenance. The crew used in the S-trains is also planned and scheduled by S-tog. On the other hand S-tog is not responsible for maintenance of tracks, signals, stations, security systems etc. This is taken care of by Banedanmark, a company run by the Department of Transport and Energy.\n\n66 54 43 32\n\n20 99\n\n89 77\n\n67 55\n\n44 33\n\n2 82\n\n71 61\n\n51\n\n41\n\n30 62\n\n52 41\n\n31 94\n\n85\n\n74\n\n63 53\n\n42\n\n31\n\n2 7\n\n9\n\n1 40\n\n30\n\n2\n\n2 2\n\nKøbenhavn H\n\nSydha vn Peter B\n\nangsVej\n\nSjælør Ellebjerg Åmark Frihedenen Avedøre Brøndby Strand Vallensbæk Ishøj Hundige Grev\n\ne Karlslunde Solrød Strand Jersie Ølby Køge\n\nBern storffsvej Gentofte Jægersborg Lyngby Sorgenfri Viru Holte m Birk Allerøderød Hillerø\n\nd\n\nRødovre Brøndbyøster Glostrup Albertslund Taastrup Høje T\n\naastrup\n\nVesterport Nørreport Nordhavn Svanemøllen Hellerup Charlottenlund Ordrup Klampenborg\n\nEmdrup Ryp arken Dysse Vangedegård Kildebakk\n\ne Buddinge Stengården Bags\n\nværd Skovbrynet Haresk Værl ov\n\nøse Faru\n\nm\n\nBispebjerg\n\nValb y Engha\n\nve Dybbølsbro Vanløse\n\nJyllingev Islevej Husum Herlev Skovlunde Malm\n\npark Ballerupen Måløv Kildedal Veksø\n\nLanggade Stenløse\n\nØlstykk e\n\nGl. T oftegård\n\nHvidovre\n\nØsterport Frederikssund\n\nFlinth olm\n\nNørrebro Fuglebakk\n\nen Grøndal\n\nDanshøj KBHallen Ålholm\n\nVigerslev AlléNy Ellebjerg C\n\nH + AE\n\nB +B H\n\nF+ C\n\nBx B+\n\nB\n\nA+\n\nE\n\nEx\n\nA\n\nA+ E H +H\n\nF\n\nEx\n\nF F +\n\nBx\n\nF+\n\nFigure 3.1: The S-tog network at the beginning of 2005.\n\n(25)\n\n3.1 Company profile of DSB S-tog a/s 11\n\nThe S-tog network consists of 170 kilometers double tracks and 85 stations.\n\nThe network is constantly occupied by approximately 80 trains during the day and there are 1100 departures daily, Hofman and Madsen [HM05]. The S-tog network is displayed in Figure 3.1. It is from the beginning of 2005, which corresponds to the time of the depot plans examined in chapter 8. The figure shows the stations, the train series and the lines in the current plan. The numbers in the figure refer to the different zones relating to the cost of traveling.\n\nThere are 5 main train series in the S-tog network: Køge-Hillerød, Høje Taastrup- Holte, Frederikssund-Farum, Ballerup-Klampenborg and Ny Ellebjerg-Hellerup.\n\nAll the train series run through the central segment around Copenhagen Central Station (København H) except Ny Ellebjerg-Hellerup, which runs around the city and therefore denoted ”The Ring”. The train series are covered by 12 lines, indicated by different colours and letters A, B, C, E, F and H. Furthermore some lines are denoted with a +, which indicates the lines are only running during daily hours. The x-lines are only used during the peak hours in the morning and in the afternoon. Each line has a fixed stopping pattern and two end sta- tions (terminuses). The timetable for S-tog is cyclic with a 20 minutes period, but each train series is covered by more than one line, so most stations have a better frequency than the 20 minutes standard frequency for each individual line. Regional trains link with S-tog network at some of the larger station e.g.\n\nHøje Taastrup, Valby, Hellerup, Nørreport and Copenhagen Central Station.\n\nAt Nørreport, Vanløse and Flintholm the S-tog network intertwines with the metro.\n\n3.1.1 Customers\n\nS-tog serves around 90 million customers per year i.e. 240,000 customers use the trains each day. On average 92% of the population in the greater Copenhagen area use the S-trains to some extent [HM05]. Figure 3.2 shows the number of passengers in each month of 2005. Since the largest customer group for the S-trains is customers traveling to work, school, university etc., the number of passengers is lowest in July. Figure 3.3 illustrates the number of passengers in each hour of a typical day. It is possible to see that the peak hours are around 7:00 and 8:00 in the morning and again from 15:00 to 17:00 in the afternoon.\n\n(26)\n\n12 The Railway Industry\n\nS-tog Passagerstatistik 2006. Grafik: DSB\n\nFigure 3.2: Passengers in 2005. Figure 3.3: Passengers during a day.\n\n3.1.2 Rolling stock\n\nS-tog uses three different types of trains called 2nd, 3rd and 4th generation, where the 4th generation trains are the newest. A picture of the three genera- tions is in Figure 3.4.\n\nFigure 3.4: Three generations. To the left a 4th generation S-train, in the middle a 3rd generation S-train and to the right a 2nd generation S-train [Chr06].\n\nIn Table 3.1 the S-train fleet at the end of 2004 is presented. In 2005 lines A and E were covered by the new 4th generation trains, whereas lines B, C and H were covered by all three types of trains. ”The Ring”, line F, was, and still is, always covered by 3rd generation trains. It is not possible to make any combination of the trains across the three different generations. S-tog has bought new 4th\n\n(27)\n\n3.2 Company profile of Carmen Systems AB 13\n\ngeneration trains, so the 2nd and 3rd generation trains slowly can be phased out. All the generations are powered by electricity.\n\nMaintenance of the trains can only be done at Høje Taastrup, so all the trains have to terminate at this station within given intervals to get a service inspec- tion. A train can normally drive 22,000 kilometers or approximately 60 days before a maintenance check is needed.\n\nType # Trains Size Name\n\n2nd generation 43 4 train units RENO\n\n3rd generation 8 4 train units ASEA\n\n4th generation 92 4 train units (8 coach trains) LHB 14 2 train units (4 coach trains) LHF Table 3.1: S-tog rolling stock at the end of 2004.\n\n3.1.3 Depots\n\nThere are 9 material depots in the S-tog network, where trains can be stored or shunting can occur. The two main depots are Copenhagen Central Station (København H) and Høje Taastrup. Both of these depots are manually operated.\n\nThe depot in Hundige contains a preparation centre, where external cleaning of the trains is carried out. Internal cleaning can be handled at all the depots. The remaining 6 depots are: Ballerup, Farum, Frederikssund, Hillerød, Klampenborg and Køge. These 6 depots are the focus in the development of the prototype in this project. Figure 3.4 shows a picture from the depot in Farum.\n\n3.2 Company profile of Carmen Systems AB\n\nCarmen Systems AB (Carmen) is a Swedish based company founded in 1986 as a department under the car company Volvo. It focuses on develop, market and implement resource optimization solutions for clients found primarily in the transportation sector. There are around 310 employees at the moment.\n\nThe headquarter is in Gothenburg, Sweden, but there are offices in Amsterdam, Austin (Texas), Brisbane, Copenhagen, Madrid, Monterrey (Mexico), Montreal, Paris, Singapore and Stockholm. The 3rd of March 2006 The Boeing Company acquired 100% of Carmen Systems AB.\n\nIn this project I have mainly been working with the office in Copenhagen, which\n\n(28)\n\n14 The Railway Industry\n\nFigure 3.5: A picture from the depot in Farum [Chr06].\n\nis a branch of the office in Stockholm. The two offices are working under the name Carmen Consulting.\n\n3.3 Concepts\n\nIn this section some useful concepts are described. These will be used throughout the thesis. The concepts are inspired by the literature and the notation used at S-tog and Carmen.\n\n3.3.1 General concepts\n\nTrain unit A single train vehicle.\n\nRolling stock The term used to describe the vehicles used in the railway in- dustry excluding the locomotive.\n\nLine Is a series of stations in the network defined by two terminuses.\n\nTimetable The plan the trains follow.\n\n(29)\n\n3.3 Concepts 15\n\nPlatform A track where the passengers get on and off the trains.\n\nShunting Shunting is the process of moving train units or other material from one track to another.\n\nShunt track A track connected to one or more platforms, where rolling stock is parked when it is not needed to operate the timetable.\n\nShunt yard The area where the shunt tracks are.\n\nDepot A depot is a station with a shunt yard.\n\nDriver A person performing all the tasks in the shunt yard including driving the train units from a platform to a shunt track and vice versa.\n\nInfrastructure The entire network on which the trains are applied. The in- frastructure includes the stations, the tracks, the shunt yards etc.\n\nStation topology The term is similar to station layout, which defines the infrastructure of a station/depot.\n\n3.3.2 Specific concepts in the thesis\n\nBlock A number of connected train units that are kept together from their arrival at the station and until their departure from the station.\n\nBlock ID An ID used to characterize a block.\n\nBlock type The type of the train units in the block. It is assumed that all train units in a block are of the same type.\n\nFree track A track which can be approached from both ends.\n\nLIFO track A track which only can be approached from one end. Hence the trains will depart the track by the last-in-first-out principle.\n\nLeg A leg denotes the trip (train number) of the arriving train to the station or the departing train from the station.\n\nPosition in leg The term is referring to the position of the block in the arriv- ing/departing leg. Typically this is either 1 or 2.\n\nDetach Defines that the block is disconnected from a train at the platform.\n\nAttach Defines that the block is connected to a train already at the platform.\n\nIntermediate shunting move A move of a block from one shunt track to another shunt track. The move always takes place after the first parking of the block.\n\n(30)\n\n16 The Railway Industry\n\nPlatform parking Defines that the block is parked at the platform. This is usually used during the night.\n\nEvent calendar A calendar, which consists of a series of events in chronolog- ical order.\n\nDepot plan A final plan showing how the blocks are parked at the depot. It is similar to an event calendar, but it includes all the tracks used for the parkings.\n\n(31)\n\nChapter 4\n\nLiterature review\n\nIn the last years several articles have been published about the use of operations research techniques in the railway industry. Many of the articles are from the Netherlands, where there has been and is currently a great focus on the area.\n\nThe focus includes collaborations between universities and NS Reizigers, the main Dutch passenger railway operator. In this chapter I will describe and comment articles about train shunting. Furthermore I will look at articles, which examine railway planning in a broader perspective and describe some of the decision support systems in the railway industry. These articles give an understanding of concepts behind decision support systems and the planning process and the terminology used in the railway industry.\n\n4.1 Literature from the Netherlands about train shunting\n\nThe following articles about train shunting are written in chronological order and are all based on the work by Blasum et al. [BBH+00], Winter [Win99] and Winter and Zimmermann [WZ00], which examine some of the problems about dispatching trams in a depot. Winter [Win99] includes length restrictions, mixed arrivals and departures and an application at a bus depot in his work. Several\n\n(32)\n\n18 Literature review\n\nvariants of the studied problems are shown to beN P-hard.\n\nShunting of Passenger Train Units in a Railway Station\n\nFreling et al. [FLKH02] introduce the problem of shunting train units in a railway station (depot planning). The authors state the problem definition of the Train Unit Shunting Problem (TUSP) and give an illustrative example of how to create a shunt plan. Furthermore they show some theoretical aspects of the TUSP e.g. the TUSP isN P-hard. A mathematical model for the TUSP is set up, which leads to a two step solution procedure:\n\n1. Matching of arriving and departing train units.\n\n2. Parking of train units.\n\nFor solving the matching of arriving and departing train units called theTrain Matching Problem (TMP), the authors describe a model, which can be solved quite efficiently by using the standard MIP solver of CPLEX. The parking sub- problem, the Track Assignment Problem (TAP), is formulated as a Set Parti- tioning Problem. The feasibility of a track assignment is taken into account implicitly, which is a major advantage of the formulation. The disadvantage is the fact that the number of potential track assignments may be exponential in the number of train units. Hence the authors propose a column generation ap- proach, where a dynamic programming algorithm is used to find a feasible track assignment for the subproblem. This dynamic programming algorithm is based on a new underlying network structure. The network structure depends on the nature of the shunt track i.e. a free track or a LIFO track and the number of blocks to be shunted. An arc in the network is the cost of assigning a certain block to a the shunt track. Hence the strategy behind the dynamic algorithm is to find the feasible paths in the network that dominate others based on assign- ment cost, remaining length of the shunt track and the earliest departure time of the blocks already in the path.\n\nThe solution method is applied to the station Zwolle in the northeastern part of the Netherlands. Different scenarios are set up, which differ from each other by the objective function in the matching step, the approach type of the free tracks and the day of the week. The matching step takes for all scenarios only a couple of seconds and results in around 68 blocks. The total running time for the parking step lies roughly between 20 and 60 minutes, which makes this step by far the most computer intensive. In all scenarios except two the solution method is able to park all blocks and obtain good solutions with reasonable\n\n(33)\n\n4.1 Literature from the Netherlands about train shunting 19\n\ngaps (under 4%) compared to the lower bounds calculated by a LP-relaxation of the parking subproblem.\n\nApplying Operations Research techniques of train shunting\n\nLentink et al. [LFKW03] describe their research of applying operations research techniques to the shunting problem. The authors present the different elements of the shunting problem and set up a solution procedure for the main part of the problem. This solution procedure includes four subproblems/steps:\n\n1. Matching of arriving and departing train units.\n\n2. Estimating routing costs of train units.\n\n3. Parking of train units on the shunt tracks.\n\n4. Routing of train units.\n\nThe focus in the article is on step 2 and step 4. In order to handle the two steps the authors present a new approach to describe the infrastructure of a station.\n\nThis representation detects possible routing conflicts, which cannot be found by the typical representation. Using this representation they describe a search algorithm for finding optimal routes of the train units. This search algorithm, Occupied Network A* search, is an extension of the A* search, which is a well known search algorithm from the field of artificial intelligence. In ONA* search some stop criteria are added, so the algorithm can be used even though part of the network is occupied or unavailable at the time. The algorithm searches routes sequentially, because searching the routes simultaneously is extremely time-consuming in practical cases. A major disadvantage of searching the routes sequentially is the loss of guaranteed optimality. In order to reduce this setback a 2-opt improvement strategy is implemented.\n\nThe solution procedure is applied to two stations in the Netherlands, Enschede and Zwolle. The subproblem with matching of arriving and departing train units takes in both cases few seconds and result in around 57 and 69 blocks to be parked respectively. As in the previous article the parking step is found to be by far the most computer intensive step. The authors have created 4 scenarios for the subproblem with different objectives. The routing of train units imply that it is useful to apply the 2-opt improvement strategy once.\n\n(34)\n\n20 Literature review\n\nShunting of Passenger Train Units: an Integrated Approach\n\nSchrijver et al. [SLK05] describe an integrated approach for solving the TUSP.\n\nThe authors integrate the matching problem and the parking problem in one model, which is extended in various ways in order to make different models incorporate complicating details from practice. The basic model includes only LIFO tracks. This complicated model contains for a real-life instance as Zwolle over 300.000 constraints. They tackle this problem by making improvements to the basic model by aggregating the crossing constraints and aggregating other constraints to clique inequalities. The improvements reduce the number of con- straints greatly, but instead the number of variables increases.\n\nNext they propose a new model with restriction on the number of mixed tracks i.e. tracks containing different types of train units. Finally the basic model is extended to include free tracks. However, this roughly increases the number of decision variables by a factor 4, so the model will not be able to solve real- life instances in the Dutch railway. Instead the arrival and departure side is modeled as a decision variable, which reduces the number of decision variables greatly. The authors indicate some computational results, but none of them are presented in the paper. Furthermore many open issues are stated.\n\n4.1.1 Comments on the articles about train shunting\n\nThe article [FLKH02] is the first from the Dutch authors about the shunting problem. Even though the subject is complicated the authors give an excellent and thorough introduction to the problem. Their solution method by splitting the TUSP into two subproblems seems to be an excellent approach and it has been reused in other articles as well as in the strategy used by Carmen. The solution procedure forms the foundation of this thesis.\n\nThe second article [LFKW03] examines other aspects of the shunting problem. It gives a thorough introduction and describes some of the different characteristics related to the shunting problem. From a practical point of view it has an exciting section about how the solution approach presented in the article will support the planner. It shows how the planner can guide the optimization by adjusting penalties and parameters. The routing of train units is an interesting section, which is aimed at large and complex stations. Compared to the Dutch stations most of the depots handled in this thesis are relatively small and there exists only one route from a shunt track to a platform. At the same time the timetable from S-tog is fairly structured, so simultaneously moves are extremely rare. This is the reason, why routing of train units has not been analyzed in this project.\n\n(35)\n\n4.2 Literature on shunting in general 21\n\nIn the last article [SLK05] the authors try to integrate the matching and parking.\n\nUnfortunately the integrated problem is theoretically much harder to solve than solving the two subproblems separately. Hence this article is more difficult to read than the two other articles. At the same time I find it unstructured and the lack of computational results is very critical. Thus, the strength of the integrated approach is questionable.\n\nAt the end of March 2006 I was able to get Ramon M. Lentink’s Ph.D. thesis\n\n”Algorithmic Decision Support for Shunt Planning” [Len06], which he has just finished. Ramon M. Lentink is co-author of the three Dutch articles above. Even though I have only read briefly in the Ph.D. thesis, I have found similarities between his and my research. I have not had the time to go into details with his work, but I found it interesting in continuation of this project.\n\n4.2 Literature on shunting in general\n\nThe following two articles examine special cases of the TUSP. The first arti- cle, Gallo and Di Miele [GM01], is written before the three articles above and together with [BBH+00], [WZ00] and [Win99] it encircles the shunting prob- lem. The second article, Stefano and Koˇci [SK04], gives an interesting graph theoretical approach to the shunting problem.\n\nDispatching Buses in Parking Depots\n\nGallo and Di Miele [GM01] present the problem of managing the parking space in a vehicle depot optimal. The authors refer to the problem as thedispatching problem. Their initial solution approach is based on a Quadratic Assignment model from [WZ00]. The dispatching of the buses takes place in a first-in- first-out order, which mimic the operations in a queue. The goal is to find a matching of arriving and departing vehicles and optimize the parking of vehicles with respect to the capacity of the columns at the depot. In an optimal solution the number of crossings1 is minimized. In [WZ00] the dispatching problem is shown to be N P-hard. Hence for large instances the problem is very hard to solve exactly, which is also seen by the high solution times in [WZ00]. To improve the structure of the basic model the authors present a two-level model.\n\nThis two-level model focus on the matching in the first step and on the parking in the second step.\n\n1A crossing arise each time a parked vehicle must be moved to clear the way for a leaving vehicle.\n\n(36)\n\n22 Literature review\n\nAs an alternative to the two-level model a heuristic approach is described that takes advantage of the problem’s structure. The solution algorithm follows a Lagrangean Decompostion approach, where Lagrangean relaxation is used to generate an upper bound for the overall maximization problem. In the next step the solution reaches feasibility by fixing some of the variables. A heuristic procedure is applied as postoptimization.\n\nThe authors apply their approaches on some real cases from the Florence Public Transportation Company. The solution value is given by the number of cross- ings. In 7 out of 10 test cases the exact two-level model was not able to obtain a solution due to the problem size. The decomposition approach was able to solve all test cases, and it provides reasonably good solutions at low computational cost at 8 of them. Finally the authors include an extension of their model in order to take into account arrivals and departures of buses that are mixed in time. They do not present any experimental results with this extended model.\n\nA Graph Theoretical Approach To The Shunting Problem\n\nStefano and Koˇci [SK04] describe a graph theoretical approach to the shunting problem. The main goal of the article is to investigate the difficult constraints regarding the type of depot and the arrival and departure sequences using graph theory. Constraints concerning the size of the trains and the track capacities are not taken into consideration. The authors consider the theoretical part of the problem and do not look at any practical cases. In the article two types of depots are defined, a marshalling yard and a shunting yard. Tracks in a marshalling yard can be approach from both sides (free tracks), where tracks in a shunting yard only can be approach from one side (LIFO tracks).\n\nIn the first part of the article, it is assumed that the first departure takes place after the last arrival. This imitates a depot at night. They state four different types of problems based on input to the shunt track from one side or both sides (single/double) and single/double output from the shunt track. The problems are referred to as the SISO, DISO, SIDO and DIDO problem. The objectives in all the problems are to minimize the number of tracks used to park all the trains. For the SISO problem a graph is constructed based on the arrival and departure sequence of thentrain units. The minimum number of tracks needed can be found by determine the chromatic number2 of the graph. In case of the DISO and SIDO problems the situation is more complicated and includes\n\n2The chromatic number of a graphGis the smallest number of colorsχ(G) needed to color the vertices of G, so that no two adjacent vertices share the same color, Bondy and Monty [BM76].\n\n(37)\n\n4.3 Literature on optimization in railway planning 23\n\nthe construction of a valley hypergraph3. The coloring of a general 3-uniform hypergraph is hard and a greedy algorithm is introduced to determine an upper bound of the number of tracks needed. The DIDO problem is even harder, because in order to find the minimum number of tracks needed, it involves a coloring of 4-uniform hypergraph.\n\nNext the authors consider day depots i.e. where arrivals and departures are mixed in time. Only the SISO problem is examined for a shunting yard. By analyzing the arrival and departure time of each block, it is possible to find train units, which overlap each other. Hence if two intervals overlap, the corre- sponding train units cannot be put at the same track of the shunting yard. By identifying these overlaps an ’overlap’ graph also called conflict graph can be constructed. The minimum number of tracks needed to solve the SISO problem on a shunting yard is the chromatic number of the conflict graph. Unfortunately conflict graphs are equivalent to circle graphs and the chromatic number prob- lem for circle graphs is reported to beN P-complete. For a marshalling yard it makes no difference, whether arrivals and departures are mixed or not mixed in time.\n\n4.2.1 Comments on the articles about shunting in general\n\nBoth articles give an excellent analysis of the problems about shunting/dispatching in general. The experimental results in [GM01] show that relative small in- stances can be very hard and actually impossible to solve exactly, when the nature of the problem is complex. Both articles indicate that the difficulty of the problem increases significantly, when arrivals and departures are mixed in time. I will examine the graph theoretical approach from [SK04] further in section 6.3.\n\n4.3 Literature on optimization in railway plan- ning\n\nIn this section I present a thorough review of Huisman et al. [HKLV05].\n\nOther surveys on operations research methods in the railway industry exist e.g. Cordeau et al. [CTV98], but Huisman et al. [HKLV05] is to the best of my knowledge the only one that specifically focus on passenger railway transporta- tion.\n\n3A hypergraph is a graph in which generalized edges (called hyperedges) may connect more than two vertices. In this particular example the graph is a 3-uniform hypergraph.\n\n(38)\n\n24 Literature review\n\nOperations Research in Passenger Railway Transportation\n\nHuisman et al. [HKLV05] give an overview of operations research models and techniques used in passenger railway transportation. The authors divide the planning problems into four levels based on the planning horizon and the phys- ical location of the particular problem. The four levels are: Strategic, tactical, operational and short-term. Furthermore local planning and real-time control are discussed.\n\nThe strategic planning involves rolling stock management, crew management and line planning. Rolling stock management has a planning horizon of 10-20 years. It has not received much attention in the scientific literature, but it has direct implications for the passenger service and involves large amounts of money, so the need for quantitative models to support the decision is highly important in practice. Crew management deals with strategic issues related to the long term availability of drivers and conductors. Crew management has a planning horizon of 2-5 years, since it takes time before newly hired crew is fully operational. Additionally the crews can have a work guarantee for a number of years. Finally the strategic planning involves line planning. Several models for solving variants of line planning problems have been presented in the literature in the last years. One of the main complications in the line planning problems is that passenger behavior has to be considered as well.\n\nThe tactical planning consists of timetabling and 8 o’clock rolling stock as- signment. The planning horizon for these activities are usually 1 year. Most European railway companies have cyclic timetables i.e. each line operate in a cyclic/periodic pattern. Several models have been developed in order to design good cyclic timetables. A good timetable is equal to a robust timetable i.e. the reliability of the timetable has to be high in order to handle delays, small dis- turbances etc. Different techniques have been applied to forecast the reliability of a given timetable. This includes max-plus algebra (an analytical approach), stochastic analysis and simulation. The timetable improvement is often based on a trial-and-error method, but other approaches have been applied as putting an objective into the design of the timetable or integrating the timetabling and evaluation models. The 8 o’clock rolling stock assignment is the allocation of rolling stock to trains that are operated around eight o’clock in the morning.\n\nThe idea behind the approach is, that if it is possible to determine an appropri- ate allocation of the rolling stock to the trains during the morning peak, then it is possible the rest of the day. The solution includes what types and subtypes of rolling stock to assign to each line and how many units to allocate to the trains.\n\nRolling stock circulation and crew scheduling are part of the operation planning, which has a planning horizon of around 2 month, but this depends heavily on\n\n(39)\n\n4.3 Literature on optimization in railway planning 25\n\nthe railway company. In the rolling stock circulation problem the appropriate allocation of rolling stock units to trips to be operated is determined. This allocation is based on the timetable, the expected number of passengers and the numbers of train units (per subtype) that can be used. Furthermore the maximum train lengths per trip and the capacities at the stations have to be respected. There exists several articles about appropriate solution approaches to the problem. Crew scheduling is one of the most successful OR applications in the transportation industry4. Different program packages are used at the railway companies in Europe. The crew scheduling problem can be formulated as a generalized set covering problem, where columns are pairings5and rows are legs. Each leg has to be covered be exactly one pairing. The formulation makes it suitable for applying different OR-techniques as LP-relaxation or lagrangian relaxation, column generation and Branch-and-Price.\n\nThe short-term planning, normally done on a daily basis, is dealing with modi- fications that have an influence on the rolling stock and the crew schedules e.g.\n\nlarge maintenance projects or construction works on the extension of the train network. In the Dutch railway system the short-term planning also includes the maintenance routing of rolling stock. Each day it is determined, which rolling stock units that need to be taken away from the operations in order to undergo a maintenance check. The problem of efficiently routing these train units to a maintenance facility can be formulated as an integer multi-commodity min-cost flow problem.\n\nThe local planning at the stations consists of routing of trains, shunting and crew rostering. A mathematical model is stated for the routing problem, where the objective is to route as many trains as possible. The timetable of arrivals and departures, the infrastructure of the station and the safety system are given for the problem. In the part about shunting the authors give a thorough review of the two previously presented articles, [FLKH02] and [LFKW03]. In the crew rostering problem, the duties resulting from the crew scheduling problem are combined into a number of rosters for a certain period. This problem is solved per station. Where most airline companies use other roster approaches, most European public transportation companies use cyclic/periodic rosters. Finally the authors describe how operations research techniques can be used in real-time control and refer to an article about solving the real-time scheduling problem in the airline industry.\n\n4Carmen is the market leader of this application in the aviation industry.\n\n5A pairing is a group of tasks (legs) that are possible to perform sequentially. Usually the pairing starts and ends the same place.\n\n(40)\n\n26 Literature review\n\n4.4 Literature on decision support systems in the railway industry\n\nThe following two articles focus on the use of decision support systems in the railway industry. The first article, Kvist et al. [KHSB02], examines decision support in the train dispatching process, while the second article, Hoogheimstra and Teunisse [HT98], describes a decision support system applied in practice at the Dutch railway system. The system is used to create timetables.\n\nDecision support in the train dispatching process\n\nKvist et al. [KHSB02] describe how decision support can be used in the train dispatching process. The article is developed in a collaboration between the universities in Uppsala and Dalarne and the Swedish train network operator Banverket. The focus in the article is to identify and show, how a decision support system can help the train dispatchers i.e. the people how operate the real-time planning. This is done by examining, how the dispatchers has handled the process of conflict solution and re-planning earlier, and thereby develop simple, easy to use and practicable support tools.\n\nDisturbances occur often in the train system. Primary delays are a direct effect of the actual disturbance, while secondary delays are the trains that interact with the primary delayed trains. The job of the dispatcher is to minimize the number and length of secondary delays by changing the original timetable and make other adjustments. Decision support systems can be used in this re-planning process to support the dispatcher in making the right decision.\n\nThe authors indicate by looking at existing literature that the focus in the decision support system community has been on issues concerning ”executives”\n\nand their decision support and not on real-time decision making. Hence the authors examine another area called Dynamic Decision Making, which is more appropriate approach in this particular case. One of the goals of the support tool is to give the dispatcher a higher understanding of his/hers tasks.\n\nThe rest of the article describes how the authors have cooperated with the dispatchers to analyze the handling of conflict solution and re-planning. The following requirements have been found to a decision support system:\n\n1. Identify the reason behind a disturbance and from this the following con- flicts. It is important that the system at least is capable of notifying the\n\n(41)\n\n4.4 Literature on decision support systems in the railway industry 27\n\ndispatcher about an arising conflict.\n\n2. Find possible solutions, suggest alternative solutions and predict the effect of alternative solutions.\n\nThe authors will describe the implementation and evaluation of the decision support system in future articles.\n\nThe use of simulation in the planning of the Dutch railway system Hoogheimstra and Teunisse [HT98] describe the decision support system DONS (Designer of Network Schedules) to create timetables. This article focuses on evaluating the robustness of the created timetables by applying a simulator as an advanced analysis function. The authors give an introduction to planning of railway infrastructure and timetable planning. They also state the importance of reliability and punctuality in the timetable. If small disturbances occur, the planner will try to re-establish the original plan, while major disturbances will lead to a re-scheduling. DONS supports the execution of each step of the plan- ning process by interaction with the planner. When a timetable is constructed, the network performance is evaluated by using the DONS-simulation tool. This enables the authors to study the network behavior when submitted to distur- bances in the timetable. The goal is to increase the robustness of the final timetable.\n\nThe authors also present how to model the infrastructure and how to integrate the DONS-simulator with the existing system. The paper does not contain any final results of the research, since the DONS-simulator only exists as a prototype and has, when the article was written, not been implemented yet.\n\n(42)\n\n28 Literature review\n\n(43)\n\nChapter 5\n\nThe Parking Problem\n\nAs described in chapter 4 depot planning or shunt planning has to some degree been studied in the literature and is referred to as the Train Unit Shunting Problem (TUSP) in [FLKH02], [LFKW03] and [SLK05]. In the literature the TUSP basically consists of:\n\n1. Matching of arriving and departing train units.\n\n2. Parking of the train units on the shunt tracks.\n\nThe TUSP is based on a railway station, a shunt yard and a timetable. The applied strategy from Carmen is to solve the matching of arriving and departing train units (connections) in the previous steps1 of the planning process under- lying the railway system [Car05]. Hence all connections between the train units are known before the depot planning is analyzed. I have chosen to apply the same strategy, which means the main focus of the depot planning is how to park the train units. This chapter presents the solution procedure for the parking problem in the prototype.\n\n1At Carmen these steps are known as the composition problem and the rotation problem.\n\n(44)\n\n30 The Parking Problem\n\n5.1 Problem definition\n\nThe objective of the parking problem is to find an optimal plan for parking the train units, usually denoted blocks, on the shunt tracks. The problem is far from trivial, because space and time are usually scarce. Train units may also block for other train units, if they are parked at certain shunt tracks. Furthermore the capacities of the shunt tracks have to be respected. The arrivals and departures of the blocks may be mixed in time i.e. within the planning period the first departure may take place before the last arrival.\n\nIf the connection led to that the blocks departed from the shunt tracks in a last-in-first-out order, it would not be a problem to create feasible depot plans.\n\nUnfortunately this is most often not the case due to restrictions about the maintenance of train units and other dependences in the previous steps of the planning process.\n\n5.2 Solution procedure\n\nFrom the predefined connections i.e. the matching of arriving and departing train units, a set of blocksB to be assigned to the shunt tracks exists. Only blocks that need to be parked are considered i.e. arriving train units, which remain on the platform track for a period and then depart, are removed fromB.\n\nEach remaining block contains a number of train units that are kept together from their arrival at the station and until their departure from the station. The trips (train numbers), which the blocks arrive from or depart to, are defined as legs according to the notation used at Carmen. A block consists of the following 14 records:\n\n• The type of the train units/block2.\n\n• The size of the block3.\n\n• Arrival leg and departure leg.\n\n• Arrival platform and departure platform.\n\n• Arrival time and departure time.\n\n2It is assumed that the train units in the block are of the same type.\n\n3The size is the number of train units in the block.\n\n(45)\n\n5.2 Solution procedure 31\n\n• Number of blocks to be shunted from the arriving leg and number of blocks to be shunted to the departing leg4.\n\n• Position in the arriving leg and position in the departing leg.\n\n• Is detached at the platform from arriving leg or is attached at the platform to departing leg.\n\nA topology exists for each station, which determines the feasible combinations between platforms and shunt tracks. In addition the topology specifies blocks that are parked beforehand i.e. prior to the planning period. Given this infor- mation blocks are assigned to shunt tracks in the Track Assignment Problem (TAP). The main objective of the TAP is to find a feasible solution, where the routing costs are minimized.\n\nAccording to Theorem 4 in [FLKH02], the TAP can be solved in an amount of time that is polynomial in the number of blocks to be shunted, if the topology of the shunt yard is fixed and if each train is composed of a number of train units that does not exceed a certain upper bound.\n\n5.2.1 Feasible assignments\n\nA subset of blocks assigned to a shunt track during the planning period is denoted as a track assignment. The assignment is feasible if the following con- ditions hold:\n\n1. The assignment does not contain crossings5,\n\n2. The total size of the blocks on the shunt track does not exceed the track capacity, and\n\n3. Every block in the assignment is allowed to park on the track6.\n\nTable 5.1 shows an example of a timetable with 4 blocks7. Each row represents a block with arrival and departure data e.g. block 1, type LHB and with the size corresponding to 4 train units, arrives from leg 55148 at platform 1 Monday at\n\n4This information is used to keep connected blocks together as much as possible.\n\n5A crossing is defined as a situation where a blockiobstructs a blockjduring the departure or arrival of blockj.\n\n6Based on the feasible combinations between platforms and shunt tracks at the station.\n\n7Note that not all data of the blocks are included in the table.\n\n(46)\n\n32 The Parking Problem\n\n16:42 and departs to leg 55222 from platform 1 Tuesday at 7:08. The bindings between the arriving and departing trains are based on the predefined connec- tions. Using the data from the table feasible assignments for a shunt track with the capacity of 8 train units are found. It is assumed that each of the 4 blocks is allowed to park on the shunt track.\n\nArriving train Departing train\n\nBlock ID Type Size Time Leg Pl. Time Leg Pl.\n\n1 LHB 4 Mo. 16:42 55148 1 Tu. 7:08 55222 1\n\n2 LHB 4 Mo. 17:02 55149 1 Tu. 7:28 55223 1\n\n3 LHB 4 Mo. 19:22 55156 1 Tu. 5:48 50219 2\n\n4 LHB 4 Tu. 7:18 50120 2 Tu. 9:28 50230 2\n\nTable 5.1: An example with 4 blocks.\n\nThe feasible assignments are presented in Table 5.2. The set of blocks in Table 5.1 is ordered by non-decreasing arrival time, so the order of block ID’s on the shunt track is always increasing.\n\nAssignment Order\n\n1 1\n\n2 1 ; 3\n\n3 1 ; 3 ; 4\n\n4 1 ; 4\n\n5 2\n\n6 2 ; 3\n\n7 3\n\n8 3 ; 4\n\n9 4\n\nTable 5.2: Feasible assignments represented by block ID from Table 5.1.\n\nTable 5.2 shows that there are 9 different feasible assignments for a shunt track with a capacity of 8 train units. Assignment 3 with the three blocks 1, 3 and 4 does not violate the capacity condition, because block 1 and block 3 depart before block 4 arrives. On the other hand an assignment with block 1 and block 2 or with block 2 and block 4 is infeasible, because both assignments contain a crossing. Hence these assignments are not in Table 5.2.\n\nThe number of feasible assignments may be exponential in the number of blocks, but it also depends heavily on the timetable, the predefined connections and the station topology. If e.g. the arriving train units during the day depart according\n\n(47)\n\n5.2 Solution procedure 33\n\nto the first-in-first-out principle, the number of feasible assignments will decrease dramatically. In order to generate a large number of feasible assignments for the solution procedure, this must be taken into consideration when constructing the timetable and the connections in the previous steps of the planning process.\n\n5.2.2 Mathematical formulation\n\nThe TAP can be formulated as a Set Partitioning Problem, see Hillier and Lieberman [HL01]. The general model of the TAP is described in [FLKH02].\n\nSets\n\nB is the set of blocks andS is defined as the set of shunt tracks. Additionally, Fs is defined as the set of feasible assignments on track s ∈ S. Then Fbs is a subset of Fs containing the feasible assignments on track s ∈ S with block b∈B.\n\nVariables\n\nIn the model the following binary decision variables exist:\n\nxsf =\n\n1 if assignmentf ∈Fs is used on shunt tracks∈S, 0 otherwise.\n\nyb =\n\n1 if blockb∈Bis not parked on any shunt tracks∈S, 0 otherwise.\n\nObjective function\n\nA costcsf is connected to each feasible assignment f on tracks. This cost can be an estimate of the routing costs of the different blocks in the assignment. It may also include some penalties, if certain rules are not satisfied. These rules are e.g. to avoid broken departures8or only to park blocks of the same type on a shunt track. The parameterdmodels a penalty if a block is not assigned to any track.\n\n8A broken departure exists when blocks leave in the same departing train, but come from different arriving trains and are parked on different shunt tracks.\n\n(48)\n\n34 The Parking Problem\n\nThe objective is to minimize the total costs of a depot plan, such that as many blocks as possible are assigned to the shunt tracks. The function is as follows\n\nminimize X\n\ns∈S\n\nX\n\nf∈Fs\n\ncsfxsf +dX\n\nb∈B\n\nyb (5.1)\n\nConstraints\n\nThe following types of constraints exist in the model.\n\n1. These constraints state that each block b ∈ B is covered by exactly one assignment on one shunt track or the block is not parked at all. The constraints are as follows\n\nX\n\ns∈S\n\nX\n\nf∈Fbs\n\nxsf+yb= 1 ∀b∈B (5.2)\n\n2. These constraints determine that each shunt tracks∈ S can have at most one assignment. This leads to the following formulation\n\nX\n\nf∈Fs\n\nxsf ≤1 ∀s∈S (5.3)\n\n3. Finally all the variables are binary decision variables\n\nxsf ∈ {0,1} ∀s∈S,∀f ∈Fs (5.4)\n\nyb ∈ {0,1} ∀b∈B (5.5)\n\nA solution of the TAP defined by (5.1)-(5.5) will give a depot plan. If one or more of the blocks cannot be parked, the final depot plan has to be revised. I will go into details with revision strategies in section 7.5.\n\n5.2.2.1 Other models with special extensions\n\nDifferent extensions have been made to the TAP in order to adapt the model for S-tog. The first model takes platforms into consideration as shunt tracks, whereas the second model takes advantage of symmetry in the model under certain circumstances. The models are presented below."
    }
}