{
    "id": "correct_subsidiary_00116_0",
    "rank": 14,
    "data": {
        "url": "https://lists.debian.org/debian-user/2006/10/msg02056.html",
        "read_more_link": "",
        "language": "en",
        "title": "RE: How to change STRATUM",
        "top_image": "",
        "meta_img": "",
        "images": [],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "",
        "meta_lang": "",
        "meta_favicon": "",
        "meta_site_name": "",
        "canonical_link": null,
        "text": "To: <debian-user@lists.debian.org>\n\nSubject: RE: How to change STRATUM\n\nFrom: \"debian\" <debian2@searo.be>\n\nDate: Thu, 19 Oct 2006 09:06:23 +0200\n\nMessage-id: <[ðŸ”Ž] EB998357DB660742877807C9BD7D251B445274@SRVR1.searo.local>\n\nI finally found how to configure. On the server, this is my ntp.org configuration: server 127.127.1.0 fudge 127.127.1.0 stratum 5 restrict 127.127.1.0 I also have a second one with higher stratum. After restarting ntpd and waiting some minutes i get this when doing a ntptrace: localhost.localdomain: stratum 6, offset 0.000000, synch distance 0.011279 So, basically ntp uses its local clock and then puts a stratum 6 on it. My local clock is sync'ed with a windows2003 server like this: Net time -S x.x.x.x set , and put in crontab. My 2003 server is sync'ed with the daytime protocol to a internet time server. I need a good stratum value because my cisco devices (switches etc) will not sync if the stratum is 16. So this is my cisco configuration: service timestamps debug datetime localtime service timestamps log datetime localtime clock timezone GMT 1 ntp server x.x.x.x ==> this is no X ofcourse in my real config! :) ntp server x.x.x.x prefer clock summer-time GMT recurring last sunday march 02:00 last sunday october 03:00 60 Best to put 2 time servers in cisco devices. And this works for a 100%! I can see in my cisco device with \"show ntp associations\" address ref clock st when poll reach delay offset disp *~x.x.x.x 127.127.1.0 6 373 1024 377 3.1 0.28 0.3 ~x.x.x.x 127.127.1.0 8 1012 1024 377 2.4 -760.9 103.9 * master (synced), # master (unsynced), + selected, - candidate, ~ configured (changed the x ofcourse). So, it can be done. Cheers, Phil. -----Original Message----- From: Roberto C. Sanchez [mailto:roberto@connexer.com] Sent: woensdag 18 oktober 2006 10:31 To: debian-user@lists.debian.org Subject: Re: How to change STRATUM On Wed, Oct 18, 2006 at 09:22:59AM +0200, debian wrote: > > Hello, > > i have debian with ntp installed. > ntp works fine, it synchronizes with another pc (with net time and > crontab), that other pc syncs with internet time server. > i tested it with a ntp client on windows and a ups that can sync its > time with the linux ntp server, works fine... > i also want to sync all my cisco switches with that ntp server but > that's not working and probably because the cisco swicht thinks that > the ntp server has stratum 16 (that's what it says) so it thinks it is > not reliable. > Is there a way so that i can my the cisco thinks that the linux server > has stratum 1 ? You will probably have to ask Cisco or on a Cisco support list. > in other words, how can i change on linux the stratum value ? I don't think you can change the stratum on the server. Basically, if you are using GPS or some ultra-precise timekeeping gear, the system will know and report itself at stratum 1. Everything else gets its time from another NTP server and is thus stratum 2. Now, on the NTP client, in the config, you can force it to use a particular server at a particular stratum, but that is a client configuration not a server configuration option. I have two servers in my network which get their time from stratum 2 servers and then provide NTP service to the rest of my network. On any of the clients on my network, the two local NTP servers show up as stratum 2. Again, I have configured nothing special. > > thanks. > Phil > > > > > Disclaimer : > > This e-mail is intended for the exclusive use by the person(s) mentioned as recipient(s). > If you are not the intended recipient, please notify us immediately. > This e-mail does not constitute any commitment for Sea-Ro Terminal N.V. or its subsidiaries except when expressly otherwise > agreed in a written agreement between the intended recipient and the originating subsidiaries of Sea-Ro Terminal N.V. > Sea-Ro Terminal and each of its subsidiaries each reserve the right to monitor all e-mail communications through its networks. > Please either ask your company to get rid of this nonsense or post from a different email account next time. Please note that such disclaimers hold practically no legal water anywhere and that you sent your mail to list with a couple of thousand subscribers and which has archives that are mirrored on hundreds of servers worldwide. > This mail has been checked for viruses by Symantec and Trend Micro. > How comforting. Two of the worst anti-virus packages you can get. Regards, -Roberto -- Roberto C. Sanchez http://people.connexer.com/~roberto http://www.connexer.com Disclaimer : This e-mail is intended for the exclusive use by the person(s) mentioned as recipient(s). If you are not the intended recipient, please notify us immediately. This e-mail does not constitute any commitment for Sea-Ro Terminal N.V. or its subsidiaries except when expressly otherwise agreed in a written agreement between the intended recipient and the originating subsidiaries of Sea-Ro Terminal N.V. Sea-Ro Terminal and each of its subsidiaries each reserve the right to monitor all e-mail communications through its networks. This mail has been checked for viruses by Symantec and Trend Micro.\n\nReply to:\n\ndebian-user@lists.debian.org\n\ndebian (on-list)\n\ndebian (off-list)"
    }
}