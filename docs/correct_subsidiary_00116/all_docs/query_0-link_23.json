{
    "id": "correct_subsidiary_00116_0",
    "rank": 23,
    "data": {
        "url": "https://www.cisco.com/c/en/us/td/docs/routers/ncs4200/configuration/guide/timing/17-1-1/b-timing-sync-xe-17-1-1-ncs4200/b-timing-sync-xe-17-1-1-ncs4200_chapter_010.html",
        "read_more_link": "",
        "language": "en",
        "title": "Timing and Synchronization Configuration Guide, Cisco IOS XE 17 (Cisco NCS 4200 Series)",
        "top_image": "",
        "meta_img": "",
        "images": [
            "https://www.cisco.com/etc/designs/cdc/fw/i/ic_clear_gray.png",
            "https://www.cisco.com/etc/designs/cdc/fw/i/ic_clear_gray.png",
            "https://www.cisco.com/content/dam/en/us/td/i/templates/note.gif",
            "https://www.cisco.com/content/dam/en/us/td/i/templates/note.gif",
            "https://www.cisco.com/content/dam/en/us/td/i/templates/note.gif",
            "https://www.cisco.com/content/dam/en/us/td/i/templates/note.gif",
            "https://www.cisco.com/content/dam/en/us/td/i/templates/note.gif",
            "https://www.cisco.com/content/dam/en/us/td/i/templates/note.gif",
            "https://www.cisco.com/c/dam/cdc/i/Feedback_OceanBlue.png",
            "https://www.cisco.com/etc/designs/cdc/fw/i/icon_lock_small.png",
            "https://cisco.112.2o7.net/b/ss/cisco-mobile/5/12345"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": "2020-01-14T10:10:27",
        "summary": "",
        "meta_description": "Hardcoded placeholder description!",
        "meta_lang": "en",
        "meta_favicon": "",
        "meta_site_name": "Cisco",
        "canonical_link": "https://www.cisco.com/c/en/us/td/docs/routers/ncs4200/configuration/guide/timing/17-1-1/b-timing-sync-xe-17-1-1-ncs4200/b-timing-sync-xe-17-1-1-ncs4200_chapter_010.html",
        "text": "Configuring the Global Navigation Satellite System\n\nThe chassis uses a satellite receiver, also called the global navigation satellite system (GNSS), as a new timing interface.\n\nIn typical telecom networks, synchronization works in a hierarchal manner where the core network is connected to a stratum-1 clock and this clock is then distributed along the network in a tree-like structure. However, with a GNSS receiver, clocking is changed to a flat architecture where access networks can directly take clock from satellites in sky using an on-board GPS chips.\n\nThis capability simplifies network synchronization planning, provides flexibility and resilience in resolving network synchronization issues in the hierarchical network.\n\nInformation About the GNSS\n\nOverview of the GNSS Module\n\nThe GNSS module is present on the front panel of the RSP3 module and can be ordered separately with PID=. However, there is no license required to enable the GNSS module.\n\nThe GNSS LED on the RSP3 front panel indicates the status of the module. The following table explains the different LED status.\n\nLED Status\n\nDescription\n\nGreen\n\nGNSS Normal State. Self survey is complete.\n\nAmber\n\nAll other states\n\nWhen connected to an external antenna, the module can acquire satellite signals and track up to 32 GNSS satellites, and compute location, speed, heading, and time. GNSS provides an accurate one pulse-per-second (PPS), a stable 10 MHz frequency output to synchronize broadband wireless, aggregation and pre-aggregation routers, and an accurate time-of-day (ToD).\n\nNote\n\nThe RSP3 module can also receive 1PPS, 10 MHz, and ToD signals from an external clocking and timing source. However, the timing signals from the GNSS module (when enabled) take precedence over those of the external source.\n\nBy default, anti-jamming is enabled on the GNSS module.\n\nOperation of the GNSS Module\n\nThe GNSS module has the following stages of acquiring and providing timing signals to the Cisco router:\n\nSelf-Survey Mode—When the router is reset, the GNSS module comes up in self-survey mode. It tries to lock on to minimum four different satellites and computes approximately 2000 different positions of the satellites to obtain a 3-D location (Latitude, Longitude, and Height) of it current position. This operation takes about 35-to-40 minutes. During this stage also, the module is able to generate accurate timing signals and achieve a Normal or Phase-locked state.\n\nWhen GNSS moves into Normal state, you can start using the 1PPS, 10 MHz, and ToD inputs from GNSS. The quality of the signal in Self-Survey mode with Normal state is considered good enough to lock to GNSS.\n\nOver determined clock mode—The router switches to over determined (OD) mode when the self-survey mode is complete and the position information is stored in non-volatile memory on the router. In this mode, the module only processes the timing information based on satellite positions captured in self-survey mode.\n\nThe router saves the tracking data, which is retained even when the router is reloaded. If you want to change the tracking data, use the no shutdown command to set the GNSS interface to its default value.\n\nThe GNSS module stays in the OD mode unless one of the following conditions occur:\n\nA position relocation of the antenna of more than 100 meters is detected. This detection causes an automatic restart of the self-survey mode.\n\nA manual restart of the self-survey mode or when the stored reference position is deleted.\n\nA worst-case recovery option after a jamming-detection condition that cannot be resolved with other methods.\n\nYou can configure the GNSS module to automatically track any satellite or configure it to explicitly use a specific constellation. However, the module uses configured satellites only in the OD mode.\n\nNote\n\nGLONASS and BeiDou satellites cannot be enabled simultaneously. GALILEO is not supported.\n\nWhen the router is reloaded, it always comes up in the OD mode unless:\n\nthe router is reloaded when the Self-Survey mode is in progress\n\nthe physical location of the router is changed to more than 100 m from it’s pre-reloaded condition.\n\nWhen the GNSS self-survey is restarted using the default gnss slot R0/R1 command in config mode, the 10MHz, 1PPS, and ToD signals are not changed and remain up.\n\nHigh Availability for GNSS\n\nThe chassis has two GNSS modules, one each on the active and standby RSP3 modules. Each GNSS module must have a separate connection to the antenna in case of an RSP3 switchover.\n\nFirmware Upgrade\n\nGNSS firmware is integrated into the Cisco IOS XE Everest 16.5.1 image. When you load this image, the GNSS firmware is copied to the /usr/binos/bin/ directory.\n\nIf the version of the firmware in the software image is greater than the current running verison, firmware is automatically upgraded.\n\nPoints to Note During Upgrade\n\nDuring firmware upgrade, the GNSS module status is displayed as not detected and lock status as disabled.\n\nAfter firmware upgrade is complete or if firmware upgrade is not required, firmware upgrade progress in the show command is displayed as NA (Not-Applicable).\n\nSyslog messages are displayed to indicate the firmware upgrade start, abort, and finish states.\n\nWhile firmware upgrade is in progress, GNSS configuration is not allowed.\n\nTo display the status of the firmware ugrade or downgrade, use the show platform hardware slot R0/R1 network-clock | sec GNSS or the show gnss status commands.\n\nPrerequisites for GNSS\n\nTo use GNSS:\n\n1PPS, 10 MHz, and ToD must be configured for netsync and PTP. For more information see the Configuring Clocking and Timing chapter .\n\nThe antenna should see as much as possible from the total sky. For proper timing, minimum of four satellites should be locked. For information, see the Cisco NCS 4206 Series Hardware Installation Guide .\n\nRestrictions for GNSS\n\nThe GNSS module is not supported through SNMP; all configurations are performed through commands.\n\nOn HA system, the traps from the standby system are logged to the console as the SNMP infra does not get enabled on standby RSP module.\n\nGNSS objects or performance counters are updated every 5 seconds locally and acknowledge the MIB object request accordingly.\n\nGNSS traps generation is delayed for 300 seconds for the first time after system startes to avoid any drop of GNSS traps.\n\nGNSS MIB\n\nThe MIB file, CISCO-GNSS-MIB, has the following objects:\n\ncGnssModuleLockStatus: This object specifies the lock status of GNSS module. If the GNSS module is able to acquire and lock a set of satellites and provide a valid 10 M and 1 pps signal to the system, it indicates that the GNSS module is locked and its status is Up.\n\nSimilarly, if it is not able to acquire or lock to the satellites or is unable to provide valid signals to the router where it is inserted, it indicates that the GNSS module is not locked and its status is Down.\n\nGNSS Lock Status\n\nValue\n\nDown\n\n1\n\nUp\n\n2\n\ncGnssModulePresenceStatus:\n\nThis object specifies the presence of the GNSS module on system. Hence, if the GNSS module is present or inserted and if it is not present or removed from the router, the status is updated as Present or Absent.\n\nGNSS Module\n\nValue\n\nAbsent\n\n1\n\nPresent\n\n2\n\ncGnssModuleSlotInfo: This object specifies slot information where the GNSS module is inserted. It can be Slot-0 or Slot-1 for Cisco RSP3 Module and is Slot-0 for Cisco ASR-920-12SZ-IM and ASR-920U-12SZ-IM and Cisco ASR-920-12SZ-A and Cisco ASR-920-12SZ-D.\n\ncGnssModuleSlotState:\n\nThis object specifies state of the RSP (active or standby) where the GNSS module is inserted.\n\ncGnssSatelliteVisibilityStatus:\n\nThis object specifies the status of the GNSS satellite visibility (good or bad). If the tracking is minimum 3 satellites with more than 30 dBm, then GNSS satellite visibility is good, otherwise bad.\n\nGNSS Module Satellite Visibility\n\nValue\n\nBad\n\n1\n\nGood\n\n2\n\ncGnssModuleSatelliteCount:\n\nThis object specifies the total number of satellites tracked by GNSS module at that particular time.\n\ncGnssModuleSvIdSNR:\n\nThis object specifies the SNR value and the satellite ID for each visible satellite. Satellite ID and SNR of satellites are formatted in a string as show below:\n\n\"<SvID1:SNR SvID2:SNR …. SvID32:SNR>\"\n\ncGnssAntennaShortAlarmStatus:\n\nThis object specifies GNSS module antenna short alarm status. It is used as the antenna short alarm status identifier of the GNSS module. Notification generated for the antenna short alarm is Raise or Clear status.\n\nAntenna Short Status\n\nValue\n\nRaise\n\n1\n\nClear\n\n2\n\ncGnssAntennaOpenAlarmStatus:\n\nThis object specifies GNSS module antenna open alarm status. It is used as the antenna open alarm status identifier of the GNSS module. Notification generated for the antenna open alarm is Raise or Clear status.\n\nAntenna Open Status\n\nValue\n\nRaise\n\n1\n\nClear\n\n2\n\nGNSS Traps\n\nGNSS Antenna Short Alarm Trap:\n\nOnce the GNSS module is inserted or powered on to the router and configured, the module detects if there is any antenna short present according to the power drawn from the module. If the power drawn is above the threshold level, it is notified as an antenna short alarm.\n\nA trap is generated when the GNSS module detects an antenna short alarm. Similarly, the trap is cleared when the antenna short alarm is cleared. This trap and its clearance are generated based on the antenna short alarm status reading from the GNSS module.\n\nGNSS Antenna Open Alarm Trap:\n\nOnce the GNSS module is inserted or powered on to the router and configured, the module detects if there is any antenna open present according to the power drawn from the module. If the power drawn is below the threshold level, it is notified as an antenna open alarm.\n\nA trap is generated when the GNSS module detects an antenna open alarm. Similarly, the trap is cleared when the antenna open alarm is cleared. This trap and its clearance are generated based on the antenna open alarm status reading from the GNSS module.\n\nGNSS Satellite Visibility Trap:\n\nOnce the GNSS module is inserted or powered on to the router and configured, it gets locked onto a set of satellites and provides valid 10 M and 1 pps signals to the system.\n\nBased on the following conditions, the satellite visibility condition is decided:\n\nNumber of satellites tracked is less than three\n\nSignal strength of the tracked satellites is less than 30 dBm\n\nSo, if more than 3 satellites are visible with more than 30 dBm, then it indicates the signal strength is good, else its bad. Traps are generated accordingly when the signal strength status changes between good and bad. This trap and its clearance are generated based on the signal strength status reading from the GNSS module.\n\nTrap OID\n\nWhen a trap is generated, it contains a unique OID for each trap that acts as primary key to identify a trap.\n\nThe following tables show the mapping of trap and clearance names to its OIDs:\n\nTrap Name\n\nOID\n\nObjects/Performance Counters\n\nHow to Configure the GNSS\n\nNote\n\nTo know more about the commands referenced in this document, see the Cisco IOS Master Command List .\n\nEnabling the GNSS on the Cisco Router\n\nenable configure terminal gnss slot r0 no shutdown exit\n\nNote\n\nAfter the GNSS module is enabled, GNSS will be the source for 1PPS, ToD, and 10MHz clocking functions.\n\nConfiguring the Satellite Constellation for GNSS\n\nenable configure terminal gnss slot r0 constellation [auto | gps | galelio | beidou | qzss exit\n\nConfiguring Pulse Polarity\n\nenable configure terminal gnss slot r0 1pps polarity negative exit\n\nNote\n\nThe no 1pps polarity negative command returns the GNSS to default mode (positive is the default value).\n\nDisabling Anti-Jam Configuration\n\nenable configure terminal gnss slot ro anti-jam disable exit\n\nVerifying the Configuration of the GNSS\n\nUse the show gnss status command to display status of GNSS.\n\nRouter# show gnss status GNSS status: GNSS device: detected Lock status: Normal Receiver Status: Auto Clock Progress: Phase Locking Survey progress: 100 Satellite count: 22 Holdover Duration: 0 PDOP: 1.04 TDOP: 1.00 HDOP: 0.73 VDOP: 0.74 Minor Alarm: NONE Major Alarm: None\n\nUse the show gnss satellite command to display the status of all satellite vehicles that are tracked by the GNSS module.\n\nRouter# show gnss satellite all All Satellites Info: SV PRN No Channel No Acq Flg Ephemeris Flg SV Type Sig Strength ---------------------------------------------------------------------------------- 14 0 1 1 0 47 21 2 1 1 0 47 22 3 1 1 0 46 18 4 1 1 0 47 27 6 1 1 0 44 31 8 1 1 0 49 24 10 1 1 0 42 79 12 0 1 1 18 78 13 1 1 1 26 Router# show gnss satellite 21 Selected Satellite Info: SV PRN No: 21 Channel No: 2 Acquisition Flag: 1 Ephemeris Flag: 1 SV Type: 0 Signal Strength: 47\n\nRouter# show gnss time Current GNSS Time: Time: 2015/10/14 12:31:01 UTC Offset: 17 Router# show gnss location Current GNSS Location: LOC: 12:56.184000 N 77:41.768000 E 814.20 m\n\nUse the show gnss device to displays the hardware information of the active GNSS module.\n\nRouter# show gnss device GNSS device: Serial number: FOC2130ND5X Firmware version: 1.4 Firmware update progress: NA Authentication: Passed\n\nConfiguration Example For Configuring GNSS\n\ngnss slot R0 no shutdown anti-jam disable constellation glonass 1pps polarity negative 1pps offset 1000 negative"
    }
}