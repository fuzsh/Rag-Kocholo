{
    "id": "correct_subsidiary_00116_3",
    "rank": 13,
    "data": {
        "url": "http://www.cisco.com/en/US/docs/switches/lan/catalyst3850/software/release/3.2_0_se/multibook/configuration_guide/b_consolidated_config_guide_3850_chapter_010.html",
        "read_more_link": "",
        "language": "en",
        "title": "Administering the System [Cisco Catalyst 3850 Series Switches]",
        "top_image": "http://www.cisco.com/web/fw/i/logo-open-graph.gif",
        "meta_img": "http://www.cisco.com/web/fw/i/logo-open-graph.gif",
        "images": [
            "http://www.cisco.com/web/fw/i/logo.gif",
            "http://www.cisco.com/web/fw/i/logo_bottom_border_bg.gif",
            "http://www.cisco.com/web/fw/i/book_content_masthead.gif",
            "http://www.cisco.com/swa/i/icon_pdf.gif",
            "http://www.cisco.com/web/fw/i/sm_0000EE_oo1.gif",
            "http://www.cisco.com/en/US/i/100001-200000/100001-110000/101001-102000/101349.jpg",
            "http://www.cisco.com/en/US/i/templates/note.gif"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": "2013-11-06T21:52:24",
        "summary": "",
        "meta_description": "",
        "meta_lang": "",
        "meta_favicon": "",
        "meta_site_name": "Cisco",
        "canonical_link": "http://www.cisco.com/en/US/docs/switches/lan/catalyst3850/software/release/3.2_0_se/multibook/configuration_guide/b_consolidated_config_guide_3850_chapter_010.html",
        "text": "Download this chapter\n\nFeedback\n\nContents\n\nAdministering the System\n\nFinding Feature Information\n\nInformation About Administering the Switch\n\nSystem Time and Date Management\n\nSystem Clock\n\nNetwork Time Protocol\n\nNTP Stratum\n\nNTP Associations\n\nNTP Security\n\nNTP Implementation\n\nNTP Version 4\n\nSystem Name and Prompt\n\nStack System Name and Prompt\n\nDefault System Name and Prompt Configuration\n\nDNS\n\nDefault DNS Settings\n\nLogin Banners\n\nDefault Banner Configuration\n\nMAC Address Table\n\nMAC Address Table Creation\n\nMAC Addresses and VLANs\n\nMAC Addresses and Switch Stacks\n\nDefault MAC Address Table Settings\n\nARP Table Management\n\nHow to Administer the Switch\n\nConfiguring the Time and Date Manually\n\nSetting the System Clock\n\nConfiguring the Time Zone\n\nConfiguring Summer Time (Daylight Saving Time)\n\nConfiguring a System Name\n\nSetting Up DNS\n\nConfiguring a Message-of-the-Day Login Banner\n\nConfiguring a Login Banner\n\nManaging the MAC Address Table\n\nChanging the Address Aging Time\n\nConfiguring MAC Address Change Notification Traps\n\nConfiguring MAC Address Move Notification Traps\n\nConfiguring MAC Threshold Notification Traps\n\nAdding and Removing Static Address Entries\n\nConfiguring Unicast MAC Address Filtering\n\nMonitoring and Maintaining Administration of the Switch\n\nConfiguration Examples for Switch Administration\n\nSetting the System Clock: Example\n\nConfiguring Summer Time: Examples\n\nConfiguring a MOTD Banner: Example\n\nConfiguring a Login Banner: Example\n\nConfiguring MAC Address Change Notification Traps: Example\n\nConfiguring MAC Threshold Notification Traps: Example\n\nAdding the Static Address to the MAC Address Table: Example\n\nConfiguring Unicast MAC Address Filtering: Example\n\nAdditional References for Switch Administration\n\nAdditional References for Switch Administration\n\nFeature History and Information for Switch Administration\n\nAdministering the System\n\nThis module contains the following topics:\n\nFinding Feature Information\n\nInformation About Administering the Switch\n\nHow to Administer the Switch\n\nMonitoring and Maintaining Administration of the Switch\n\nConfiguration Examples for Switch Administration\n\nAdditional References for Switch Administration\n\nAdditional References for Switch Administration\n\nFeature History and Information for Switch Administration\n\nFinding Feature Information\n\nYour software release may not support all the features documented in this module. For the latest feature information and caveats, see the release notes for your platform and software release.\n\nUse Cisco Feature Navigator to find information about platform support and Cisco software image support. To access Cisco Feature Navigator, go to http:/​/​www.cisco.com/​go/​cfn. An account on Cisco.com is not required.\n\nInformation About Administering the Switch\n\nSystem Time and Date Management\n\nSystem Clock\n\nNetwork Time Protocol\n\nSystem Name and Prompt\n\nDNS\n\nLogin Banners\n\nMAC Address Table\n\nARP Table Management\n\nSystem Time and Date Management\n\nYou can manage the system time and date on your switch using automatic configuration, such as the Network Time Protocol (NTP), or manual configuration methods.\n\nSystem Clock\n\nThe basis of the time service is the system clock. This clock runs from the moment the system starts up and keeps track of the date and time.\n\nThe system clock can then be set from these sources:\n\nNTP\n\nManual configuration\n\nThe system clock can provide time to these services:\n\nUser show commands\n\nLogging and debugging messages\n\nThe system clock keeps track of time internally based on Coordinated Universal Time (UTC), also known as Greenwich Mean Time (GMT). You can configure information about the local time zone and summer time (daylight saving time) so that the time appears correctly for the local time zone.\n\nThe system clock keeps track of whether the time is authoritative or not (that is, whether it has been set by a time source considered to be authoritative). If it is not authoritative, the time is available only for display purposes and is not redistributed.\n\nNetwork Time Protocol\n\nThe NTP is designed to time-synchronize a network of devices. NTP runs over User Datagram Protocol (UDP), which runs over IP. NTP is documented in RFC 1305.\n\nAn NTP network usually gets its time from an authoritative time source, such as a radio clock or an atomic clock attached to a time server. NTP then distributes this time across the network. NTP is extremely efficient; no more than one packet per minute is necessary to synchronize two devices to within a millisecond of one another.\n\nNTP Stratum\n\nNTP Associations\n\nNTP Security\n\nNTP Implementation\n\nNTP Version 4\n\nNTP Stratum\n\nNTP uses the concept of a stratum to describe how many NTP hops away a device is from an authoritative time source. A stratum 1 time server has a radio or atomic clock directly attached, a stratum 2 time server receives its time through NTP from a stratum 1 time server, and so on. A device running NTP automatically chooses as its time source the device with the lowest stratum number with which it communicates through NTP. This strategy effectively builds a self-organizing tree of NTP speakers.\n\nNTP avoids synchronizing to a device whose time might not be accurate by never synchronizing to a device that is not synchronized. NTP also compares the time reported by several devices and does not synchronize to a device whose time is significantly different than the others, even if its stratum is lower.\n\nNTP Associations\n\nThe communications between devices running NTP (known as associations) are usually statically configured; each device is given the IP address of all devices with which it should form associations. Accurate timekeeping is possible by exchanging NTP messages between each pair of devices with an association. However, in a LAN environment, NTP can be configured to use IP broadcast messages instead. This alternative reduces configuration complexity because each device can simply be configured to send or receive broadcast messages. However, in that case, information flow is one-way only.\n\nNTP Security\n\nThe time kept on a device is a critical resource; you should use the security features of NTP to avoid the accidental or malicious setting of an incorrect time. Two mechanisms are available: an access list-based restriction scheme and an encrypted authentication mechanism.\n\nNTP Implementation\n\nImplementation of NTP does not support stratum 1 service; it is not possible to connect to a radio or atomic clock. We recommend that the time service for your network be derived from the public NTP servers available on the IP Internet.\n\nFigure 1. Typical NTP Network Configuration. The following figure shows a typical network example using NTP. Switch A is the NTP master, with the Switch B, C, and D configured in NTP server mode, in server association with Switch A. Switch E is configured as an NTP peer to the upstream and downstream switches, Switch B and Switch F, respectively.\n\nIf the network is isolated from the Internet, NTP allows a device to act as if it is synchronized through NTP, when in fact it has learned the time by using other means. Other devices then synchronize to that device through NTP.\n\nWhen multiple sources of time are available, NTP is always considered to be more authoritative. NTP time overrides the time set by any other method.\n\nSeveral manufacturers include NTP software for their host systems, and a publicly available version for systems running UNIX and its various derivatives is also available. This software allows host systems to be time-synchronized as well.\n\nNTP Version 4\n\nNTP version 4 is implemented on the switch. NTPv4 is an extension of NTP version 3. NTPv4 supports both IPv4 and IPv6 and is backward-compatible with NTPv3.\n\nNTPv4 provides these capabilities:\n\nSupport for IPv6.\n\nImproved security compared to NTPv3. The NTPv4 protocol provides a security framework based on public key cryptography and standard X509 certificates.\n\nAutomatic calculation of the time-distribution hierarchy for a network. Using specific multicast groups, NTPv4 automatically configures the hierarchy of the servers to achieve the best time accuracy for the lowest bandwidth cost. This feature leverages site-local IPv6 multicast addresses.\n\nSystem Name and Prompt\n\nYou configure the system name on the switch to identify it. By default, the system name and prompt are Switch.\n\nIf you have not configured a system prompt, the first 20 characters of the system name are used as the system prompt. A greater-than symbol [>] is appended. The prompt is updated whenever the system name changes.\n\nStack System Name and Prompt\n\nDefault System Name and Prompt Configuration\n\nStack System Name and Prompt\n\nIf you are accessing a stack member through the , you must use the session stack-member-number privileged EXEC command. The stack member number range is from 1 through 9. When you use this command, the stack member number is appended to the system prompt. For example, Switch-2# is the prompt in privileged EXEC mode for stack member 2, and the system prompt for the switch stack is Switch.\n\nDefault System Name and Prompt Configuration\n\nThe default switch system name and prompt is Switch.\n\nDNS\n\nThe DNS protocol controls the Domain Name System (DNS), a distributed database with which you can map hostnames to IP addresses. When you configure DNS on your switch, you can substitute the hostname for the IP address with all IP commands, such as ping, telnet, connect, and related Telnet support operations.\n\nIP defines a hierarchical naming scheme that allows a device to be identified by its location or domain. Domain names are pieced together with periods (.) as the delimiting characters. For example, Cisco Systems is a commercial organization that IP identifies by a com domain name, so its domain name is cisco.com. A specific device in this domain, for example, the File Transfer Protocol (FTP) system is identified as ftp.cisco.com.\n\nTo keep track of domain names, IP has defined the concept of a domain name server, which holds a cache (or database) of names mapped to IP addresses. To map domain names to IP addresses, you must first identify the hostnames, specify the name server that is present on your network, and enable the DNS.\n\nDefault DNS Settings\n\nDefault DNS Settings\n\nTable 1 Default DNS Settings\n\nFeature\n\nDefault Setting\n\nLogin Banners\n\nYou can configure a message-of-the-day (MOTD) and a login banner. The MOTD banner is displayed on all connected terminals at login and is useful for sending messages that affect all network users (such as impending system shutdowns).\n\nThe login banner is also displayed on all connected terminals. It appears after the MOTD banner and before the login prompts.\n\nThe MOTD and login banners are not configured.\n\nDefault Banner Configuration\n\nDefault Banner Configuration\n\nThe MOTD and login banners are not configured.\n\nMAC Address Table\n\nThe MAC address table contains address information that the switch uses to forward traffic between ports. All MAC addresses in the address table are associated with one or more ports. The address table includes these types of addresses:\n\nDynamic address—A source MAC address that the switch learns and then ages when it is not in use.\n\nStatic address—A manually entered unicast address that does not age and that is not lost when the switch resets.\n\nThe address table lists the destination MAC address, the associated VLAN ID, and port number associated with the address and the type (static or dynamic).\n\nMAC Address Table Creation\n\nMAC Addresses and VLANs\n\nMAC Addresses and Switch Stacks\n\nDefault MAC Address Table Settings\n\nMAC Address Table Creation\n\nWith multiple MAC addresses supported on all ports, you can connect any port on the switch to other network devices. The switch provides dynamic addressing by learning the source address of packets it receives on each port and adding the address and its associated port number to the address table. As devices are added or removed from the network, the switch updates the address table, adding new dynamic addresses and aging out those that are not in use.\n\nThe aging interval is globally configured. However, the switch maintains an address table for each VLAN, and STP can accelerate the aging interval on a per-VLAN basis.\n\nThe switch sends packets between any combination of ports, based on the destination address of the received packet. Using the MAC address table, the switch forwards the packet only to the port associated with the destination address. If the destination address is on the port that sent the packet, the packet is filtered and not forwarded. The switch always uses the store-and-forward method: complete packets are stored and checked for errors before transmission.\n\nMAC Addresses and VLANs\n\nAll addresses are associated with a VLAN. An address can exist in more than one VLAN and have different destinations in each. Unicast addresses, for example, could be forwarded to port 1 in VLAN 1 and ports 9, 10, and 1 in VLAN 5.\n\nEach VLAN maintains its own logical address table. A known address in one VLAN is unknown in another until it is learned or statically associated with a port in the other VLAN.\n\nMAC Addresses and Switch Stacks\n\nThe MAC address tables on all stack members are synchronized. At any given time, each stack member has the same copy of the address tables for each VLAN. When an address ages out, the address is removed from the address tables on all stack members. When a switch joins a switch stack, that switch receives the addresses for each VLAN learned on the other stack members. When a stack member leaves the switch stack, the remaining stack members age out or remove all addresses learned by the former stack member.\n\nDefault MAC Address Table Settings\n\nThe following table shows the default settings for the MAC address table.\n\nTable 2 Default Settings for the MAC Address\n\nFeature\n\nDefault Setting\n\nAging time\n\n300 seconds\n\nDynamic addresses\n\nAutomatically learned\n\nStatic addresses\n\nNone configured\n\nARP Table Management\n\nTo communicate with a device (over Ethernet, for example), the software first must learn the 48-bit MAC address or the local data link address of that device. The process of learning the local data link address from an IP address is called address resolution.\n\nThe Address Resolution Protocol (ARP) associates a host IP address with the corresponding media or MAC addresses and the VLAN ID. Using an IP address, ARP finds the associated MAC address. When a MAC address is found, the IP-MAC address association is stored in an ARP cache for rapid retrieval. Then the IP datagram is encapsulated in a link-layer frame and sent over the network. Encapsulation of IP datagrams and ARP requests and replies on IEEE 802 networks other than Ethernet is specified by the Subnetwork Access Protocol (SNAP). By default, standard Ethernet-style ARP encapsulation (represented by the arpa keyword) is enabled on the IP interface.\n\nARP entries added manually to the table do not age and must be manually removed.\n\nHow to Administer the Switch\n\nConfiguring the Time and Date Manually\n\nConfiguring a System Name\n\nSetting Up DNS\n\nConfiguring a Message-of-the-Day Login Banner\n\nConfiguring a Login Banner\n\nManaging the MAC Address Table\n\nConfiguring the Time and Date Manually\n\nSystem time remains accurate through restarts and reboot, however, you can manually configure the time and date after the system is restarted.\n\nWe recommend that you use manual configuration only as a last resort. If you have an outside source to which the switch can synchronize, you do not need to manually set the system clock.\n\nSetting the System Clock\n\nConfiguring the Time Zone\n\nConfiguring Summer Time (Daylight Saving Time)\n\nSetting the System Clock\n\nIf you have an outside source on the network that provides time services, such as an NTP server, you do not need to manually set the system clock.\n\nBeginning in privileged EXEC mode, follow these steps to set the system clock:\n\nSUMMARY STEPS\n\n1. Use one of the following:\n\nclock set hh:mm:ss day month year\n\nclock set hh:mm:ss month day year\n\nDETAILED STEPS\n\nCommand or ActionPurpose\n\nStep 1 Use one of the following:\n\nclock set hh:mm:ss day month year\n\nclock set hh:mm:ss month day year\n\nExample:\n\nSwitch# clock set 13:32:00 23 March 2013\n\nSets the system clock using one of these formats.\n\nhh:mm:ss—Specifies the time in hours (24-hour format), minutes, and seconds. The time specified is relative to the configured time zone.\n\nday—Specifies the day by date in the month.\n\nmonth—Specifies the month by name.\n\nyear—Specifies the year (no abbreviation).\n\nConfiguring the Time Zone\n\nSUMMARY STEPS\n\n1. configure terminal\n\n2. clock timezone zone hours-offset [ minutes-offset]\n\n3. end\n\nDETAILED STEPS\n\nCommand or ActionPurpose\n\nStep 1 configure terminal\n\nExample:\n\nSwitch# configure terminal\n\nEnters global configuration mode.\n\nStep 2 clock timezone zone hours-offset [ minutes-offset]\n\nExample:\n\nSwitch(config)# clock timezone AST -3 30\n\nSets the time zone.\n\nInternal time is kept in Coordinated Universal Time (UTC), so this command is used only for display purposes and when the time is manually set.\n\nzone—Enters the name of the time zone to be displayed when standard time is in effect. The default is UTC.\n\nhours-offset—Enters the hours offset from UTC.\n\n(Optional) minutes-offset—Enters the minutes offset from UTC. This available where the local time zone is a percentage of an hour different from UTC.\n\nStep 3 end\n\nExample:\n\nSwitch(config)# end\n\nReturns to privileged EXEC mode.\n\nConfiguring Summer Time (Daylight Saving Time)\n\nTo configure summer time (daylight saving time) in areas where it starts and ends on a particular day of the week each year, perform this task:\n\nSUMMARY STEPS\n\n1. configure terminal\n\n2. clock summer-time zone date date month year hh:mm date month year hh:mm [offset]]\n\n3. clock summer-time zone recurring [ week day month hh:mm week day month hh:mm [ offset]]\n\n4. end\n\nDETAILED STEPS\n\nCommand or ActionPurpose\n\nStep 1 configure terminal\n\nExample:\n\nSwitch# configure terminal\n\nEnters global configuration mode.\n\nStep 2clock summer-time zone date date month year hh:mm date month year hh:mm [offset]]\n\nExample:\n\nSwitch(config)# clock summer-time PDT date 10 March 2013 2:00 3 November 2013 2:00\n\nConfigures summer time to start and end on specified days every year.\n\nStep 3 clock summer-time zone recurring [ week day month hh:mm week day month hh:mm [ offset]]\n\nExample:\n\nSwitch(config)# clock summer-time PDT recurring 10 March 2013 2:00 3 November 2013 2:00\n\nConfigures summer time to start and end on the specified days every year. All times are relative to the local time zone. The start time is relative to standard time.\n\nThe end time is relative to summer time. Summer time is disabled by default. If you specify clock summer-time zone recurring without parameters, the summer time rules default to the United States rules.\n\nIf the starting month is after the ending month, the system assumes that you are in the southern hemisphere.\n\nzone—Specifies the name of the time zone (for example, PDT) to be displayed when summer time is in effect.\n\n(Optional) week— Specifies the week of the month (1 to 4, first, or last).\n\n(Optional) day—Specifies the day of the week (Sunday, Monday...).\n\n(Optional) month—Specifies the month (January, February...).\n\n(Optional) hh:mm—Specifies the time (24-hour format) in hours and minutes.\n\n(Optional) offset—Specifies the number of minutes to add during summer time. The default is 60.\n\nStep 4 end\n\nExample:\n\nSwitch(config)# end\n\nReturns to privileged EXEC mode.\n\nConfiguring a System Name\n\nSUMMARY STEPS\n\n1. configure terminal\n\n2. hostname name\n\n3. end\n\nDETAILED STEPS\n\nCommand or ActionPurpose\n\nSetting Up DNS\n\nIf you use the switch IP address as its hostname, the IP address is used and no DNS query occurs. If you configure a hostname that contains no periods (.), a period followed by the default domain name is appended to the hostname before the DNS query is made to map the name to an IP address. The default domain name is the value set by the ip domain-name global configuration command. If there is a period (.) in the hostname, the Cisco IOS software looks up the IP address without appending any default domain name to the hostname.\n\nSUMMARY STEPS\n\n1. configure terminal\n\n2. ip domain-name name\n\n3. ip name-server server-address1 [ server-address2 ... server-address6]\n\n4. ip domain-lookup [nsap | source-interface interface]\n\n5. end\n\nDETAILED STEPS\n\nCommand or ActionPurpose\n\nStep 1 configure terminal\n\nExample:\n\nSwitch# configure terminal\n\nEnters global configuration mode.\n\nStep 2 ip domain-name name\n\nExample:\n\nSwitch(config)# ip domain-name Cisco.com\n\nDefines a default domain name that the software uses to complete unqualified hostnames (names without a dotted-decimal domain name).\n\nDo not include the initial period that separates an unqualified name from the domain name.\n\nAt boot time, no domain name is configured; however, if the switch configuration comes from a BOOTP or Dynamic Host Configuration Protocol (DHCP) server, then the default domain name might be set by the BOOTP or DHCP server (if the servers were configured with this information).\n\nStep 3 ip name-server server-address1 [ server-address2 ... server-address6]\n\nExample:\n\nSwitch(config)# ip name-server 192.168.1.100 192.168.1.200 192.168.1.300\n\nSpecifies the address of one or more name servers to use for name and address resolution.\n\nYou can specify up to six name servers. Separate each server address with a space. The first server specified is the primary server. The switch sends DNS queries to the primary server first. If that query fails, the backup servers are queried.\n\nStep 4 ip domain-lookup [nsap | source-interface interface]\n\nExample:\n\nSwitch(config)# ip domain-lookup\n\n(Optional) Enables DNS-based hostname-to-address translation on your switch. This feature is enabled by default.\n\nIf your network devices require connectivity with devices in networks for which you do not control name assignment, you can dynamically assign device names that uniquely identify your devices by using the global Internet naming scheme (DNS).\n\nStep 5 end\n\nExample:\n\nSwitch(config)# end\n\nReturns to privileged EXEC mode.\n\nConfiguring a Message-of-the-Day Login Banner\n\nYou can create a single or multiline message banner that appears on the screen when someone logs in to the switch\n\nSUMMARY STEPS\n\n1. configure terminal\n\n2. banner motd c message c\n\n3. end\n\nDETAILED STEPS\n\nCommand or ActionPurpose\n\nStep 1 configure terminal\n\nExample:\n\nSwitch# configure terminal\n\nEnters global configuration mode.\n\nStep 2 banner motd c message c\n\nExample:\n\nSwitch(config)# banner motd # This is a secure site. Only authorized users are allowed. For access, contact technical support. #\n\nSpecifies the message of the day.\n\nc—Enters the delimiting character of your choice, for example, a pound sign (#), and press the Return key. The delimiting character signifies the beginning and end of the banner text. Characters after the ending delimiter are discarded.\n\nmessage—Enters a banner message up to 255 characters. You cannot use the delimiting character in the message.\n\nStep 3 end\n\nExample:\n\nSwitch(config)# end\n\nReturns to privileged EXEC mode.\n\nConfiguring a Login Banner\n\nYou can configure a login banner to be displayed on all connected terminals. This banner appears after the MOTD banner and before the login prompt.\n\nSUMMARY STEPS\n\nDETAILED STEPS\n\nCommand or ActionPurpose\n\nStep 1 configure terminal\n\nExample:\n\nSwitch# configure terminal\n\nEnters global configuration mode.\n\nStep 2 banner login c message c\n\nExample:\n\nSwitch(config)# banner login $ Access for authorized users only. Please enter your username and password. $\n\nSpecifies the login message.\n\nc— Enters the delimiting character of your choice, for example, a pound sign (#), and press the Return key. The delimiting character signifies the beginning and end of the banner text. Characters after the ending delimiter are discarded.\n\nmessage—Enters a login message up to 255 characters. You cannot use the delimiting character in the message.\n\nStep 3 end\n\nExample:\n\nSwitch(config)# end\n\nReturns to privileged EXEC mode.\n\nManaging the MAC Address Table\n\nChanging the Address Aging Time\n\nConfiguring MAC Address Change Notification Traps\n\nConfiguring MAC Address Move Notification Traps\n\nConfiguring MAC Threshold Notification Traps\n\nAdding and Removing Static Address Entries\n\nConfiguring Unicast MAC Address Filtering\n\nChanging the Address Aging Time\n\nSUMMARY STEPS\n\n1. configure terminal\n\n2. mac address-table aging-time [ 0 | 10-1000000] [routed-mac | vlan vlan-id]\n\n3. end\n\nDETAILED STEPS\n\nCommand or ActionPurpose\n\nConfiguring MAC Address Change Notification Traps\n\nSUMMARY STEPS\n\n1. configure terminal\n\n2. snmp-server host host-addr community-string notification-type { informs | traps } { version { 1 | 2c | 3}} {vrf vrf instance name}\n\n3. snmp-server enable traps mac-notification change\n\n4. mac address-table notification change\n\n5. mac address-table notification change [ interval value] [ history-size value]\n\n6. interface interface-id\n\n7. snmp trap mac-notification change { added | removed}\n\n8. end\n\nDETAILED STEPS\n\nCommand or ActionPurpose\n\nStep 1 configure terminal\n\nExample:\n\nSwitch# configure terminal\n\nEnters global configuration mode.\n\nStep 2 snmp-server host host-addr community-string notification-type { informs | traps } { version { 1 | 2c | 3}} {vrf vrf instance name}\n\nExample:\n\nSwitch(config)# snmp-server host 172.20.10.10 traps private mac-notification\n\nSpecifies the recipient of the trap message.\n\nhost-addr—Specifies the name or address of the NMS.\n\ntraps (the default)—Sends SNMP traps to the host.\n\ninforms—Sends SNMP informs to the host.\n\nversion—Specifies the SNMP version to support. Version 1, the default, is not available with informs.\n\ncommunity-string—Specifies the string to send with the notification operation. Though you can set this string by using the snmp-server host command, we recommend that you define this string by using the snmp-server community command before using the snmp-server host command.\n\nnotification-type—Uses the mac-notification keyword.\n\nvrf vrf instance name—Specifies the VPN routing/forwarding instance for this host.\n\nStep 3 snmp-server enable traps mac-notification change\n\nExample:\n\nSwitch(config)# snmp-server enable traps mac-notification change\n\nEnables the switch to send MAC address change notification traps to the NMS.\n\nStep 4 mac address-table notification change\n\nExample:\n\nSwitch(config)# mac address-table notification change\n\nEnables the MAC address change notification feature.\n\nStep 5 mac address-table notification change [ interval value] [ history-size value]\n\nExample:\n\nSwitch(config)# mac address-table notification change interval 123 Switch(config)#mac address-table notification change history-size 100\n\nEnters the trap interval time and the history table size.\n\n(Optional) interval value—Specifies the notification trap interval in seconds between each set of traps that are generated to the NMS. The range is 0 to 2147483647 seconds; the default is 1 second.\n\n(Optional) history-size value—Specifies the maximum number of entries in the MAC notification history table. The range is 0 to 500; the default is 1.\n\nStep 6 interface interface-id\n\nExample:\n\nSwitch(config)# interface gigabitethernet1/0/2\n\nEnters interface configuration mode, and specifies the Layer 2 interface on which to enable the SNMP MAC address notification trap.\n\nStep 7 snmp trap mac-notification change { added | removed}\n\nExample:\n\nSwitch(config-if)# snmp trap mac-notification change added\n\nEnables the MAC address change notification trap on the interface.\n\nEnables the trap when a MAC address is added on this interface.\n\nEnables the trap when a MAC address is removed from this interface.\n\nStep 8 end\n\nExample:\n\nSwitch(config-if)# end\n\nReturns to privileged EXEC mode.\n\nConfiguring MAC Address Move Notification Traps\n\nWhen you configure MAC-move notification, an SNMP notification is generated and sent to the network management system whenever a MAC address moves from one port to another within the same VLAN.\n\nBeginning in privileged EXEC mode, follow these steps to configure the switch to send MAC address-move notification traps to an NMS host:\n\nSUMMARY STEPS\n\n1. configure terminal\n\n2. snmp-server host host-addr { traps | informs} { version { 1 | 2c | 3}} community-string notification-type\n\n3. snmp-server enable traps mac-notification move\n\n4. mac address-table notification mac-move\n\n5. end\n\nDETAILED STEPS\n\nCommand or ActionPurpose\n\nStep 1 configure terminal\n\nExample:\n\nSwitch# configure terminal\n\nEnters global configuration mode.\n\nStep 2 snmp-server host host-addr { traps | informs} { version { 1 | 2c | 3}} community-string notification-type\n\nExample:\n\nSwitch(config)# snmp-server host 172.20.10.10 traps private mac-notification\n\nSpecifies the recipient of the trap message.\n\nhost-addr—Specifies the name or address of the NMS.\n\ntraps (the default)—Sends SNMP traps to the host.\n\ninforms—Sends SNMP informs to the host.\n\nversion—Specifies the SNMP version to support. Version 1, the default, is not available with informs.\n\ncommunity-string—Specifies the string to send with the notification operation. Though you can set this string by using the snmp-server host command, we recommend that you define this string by using the snmp-server community command before using the snmp-server host command.\n\nnotification-type—Uses the mac-notification keyword.\n\nStep 3 snmp-server enable traps mac-notification move\n\nExample:\n\nSwitch(config)# snmp-server enable traps mac-notification move\n\nEnables the switch to send MAC address move notification traps to the NMS.\n\nStep 4 mac address-table notification mac-move\n\nExample:\n\nSwitch(config)# mac address-table notification mac-move\n\nEnables the MAC address move notification feature.\n\nStep 5 end\n\nExample:\n\nSwitch(config)# end\n\nReturns to privileged EXEC mode.\n\nConfiguring MAC Threshold Notification Traps\n\nWhen you configure MAC threshold notification, an SNMP notification is generated and sent to the network management system when a MAC address table threshold limit is reached or exceeded.\n\nSUMMARY STEPS\n\n1. configure terminal\n\n2. snmp-server host host-addr { traps | informs} { version { 1 | 2c | 3}} community-string notification-type\n\n3. snmp-server enable traps mac-notification threshold\n\n4. mac address-table notification threshold\n\n5. mac address-table notification threshold [ limit percentage] | [ interval time]\n\n6. end\n\nDETAILED STEPS\n\nCommand or ActionPurpose\n\nStep 1 configure terminal\n\nExample:\n\nSwitch# configure terminal\n\nEnters global configuration mode.\n\nStep 2 snmp-server host host-addr { traps | informs} { version { 1 | 2c | 3}} community-string notification-type\n\nExample:\n\nSwitch(config)# snmp-server host 172.20.10.10 traps private mac-notification\n\nSpecifies the recipient of the trap message.\n\nhost-addr—Specifies the name or address of the NMS.\n\ntraps (the default)—Sends SNMP traps to the host.\n\ninforms—Sends SNMP informs to the host.\n\nversion—Specifies the SNMP version to support. Version 1, the default, is not available with informs.\n\ncommunity-string—Specifies the string to send with the notification operation. You can set this string by using the snmp-server host command, but we recommend that you define this string by using the snmp-server community command before using the snmp-server host command.\n\nnotification-type—Uses the mac-notification keyword.\n\nStep 3 snmp-server enable traps mac-notification threshold\n\nExample:\n\nSwitch(config)# snmp-server enable traps mac-notification threshold\n\nEnables MAC threshold notification traps to the NMS.\n\nStep 4 mac address-table notification threshold\n\nExample:\n\nSwitch(config)# mac address-table notification threshold\n\nEnables the MAC address threshold notification feature.\n\nStep 5 mac address-table notification threshold [ limit percentage] | [ interval time]\n\nExample:\n\nSwitch(config)# mac address-table notification threshold interval 123 Switch(config)# mac address-table notification threshold limit 78\n\nEnters the threshold value for the MAC address threshold usage monitoring.\n\n(Optional) limit percentage—Specifies the percentage of the MAC address table use; valid values are from 1 to 100 percent. The default is 50 percent.\n\n(Optional) interval time—Specifies the time between notifications; valid values are greater than or equal to 120 seconds. The default is 120 seconds.\n\nStep 6 end\n\nExample:\n\nSwitch(config)# end\n\nReturns to privileged EXEC mode.\n\nAdding and Removing Static Address Entries\n\nSUMMARY STEPS\n\n1. configure terminal\n\n2. mac address-table static mac-addr vlan vlan-id interface interface-id\n\n3. end\n\nDETAILED STEPS\n\nCommand or ActionPurpose\n\nStep 1 configure terminal\n\nExample:\n\nSwitch# configure terminal\n\nEnters global configuration mode.\n\nStep 2 mac address-table static mac-addr vlan vlan-id interface interface-id\n\nExample:\n\nSwitch(config)# mac address-table static c2f3.220a.12f4 vlan 4 interface gigabitethernet 1/0/1\n\nAdds a static address to the MAC address table.\n\nmac-addr—Specifies the destination MAC unicast address to add to the address table. Packets with this destination address received in the specified VLAN are forwarded to the specified interface.\n\nvlan-id—Specifies the VLAN for which the packet with the specified MAC address is received. Valid VLAN IDs are 1 to 4094.\n\ninterface-id—Specifies the interface to which the received packet is forwarded. Valid interfaces include physical ports or port channels. For static multicast addresses, you can enter multiple interface IDs. For static unicast addresses, you can enter only one interface at a time, but you can enter the command multiple times with the same MAC address and VLAN ID.\n\nStep 3end\n\nExample:\n\nSwitch(config)# end\n\nReturns to privileged EXEC mode. Alternatively, you can also press Ctrl-z to exit global configuration mode.\n\nConfiguring Unicast MAC Address Filtering\n\nSUMMARY STEPS\n\n1. configure terminal\n\n2. mac address-table static mac-addr vlan vlan-id drop\n\n3. end\n\nDETAILED STEPS\n\nCommand or ActionPurpose\n\nStep 1 configure terminal\n\nExample:\n\nSwitch# configure terminal\n\nEnters global configuration mode.\n\nStep 2 mac address-table static mac-addr vlan vlan-id drop\n\nExample:\n\nSwitch(config)# mac address-table static c2f3.220a.12f4 vlan 4 drop\n\nEnables unicast MAC address filtering and configure the switch to drop a packet with the specified source or destination unicast static address.\n\nmac-addr—Specifies a source or destination unicast MAC address (48-bit). Packets with this MAC address are dropped.\n\nvlan-id—Specifies the VLAN for which the packet with the specified MAC address is received. Valid VLAN IDs are 1 to 4094.\n\nStep 3 end\n\nExample:\n\nSwitch(config)# end\n\nReturns to privileged EXEC mode.\n\nMonitoring and Maintaining Administration of the Switch\n\nCommand Purpose\n\nConfiguration Examples for Switch Administration\n\nSetting the System Clock: Example\n\nConfiguring Summer Time: Examples\n\nConfiguring a MOTD Banner: Example\n\nThis example shows how to configure a MOTD banner by using the pound sign (#) symbol as the beginning and ending delimiter:\n\nSwitch(config)# banner motd # This is a secure site. Only authorized users are allowed. For access, contact technical support. # Switch(config)#\n\nThis example shows the banner that appears from the previous configuration:\n\nUnix> telnet 192.0.2.15 Trying 192.0.2.15... Connected to 192.0.2.15. Escape character is '^]'. This is a secure site. Only authorized users are allowed. For access, contact technical support. User Access Verification Password:\n\nConfiguring a Login Banner: Example\n\nThis example shows how to configure a login banner by using the dollar sign ($) symbol as the beginning and ending delimiter:\n\nSwitch(config)# banner login $ Access for authorized users only. Please enter your username and password. $ Switch(config)#\n\nConfiguring MAC Address Change Notification Traps: Example\n\nThis example shows how to specify 172.20.10.10 as the NMS, enable MAC address notification traps to the NMS, enable the MAC address-change notification feature, set the interval time to 123 seconds, set the history-size to 100 entries, and enable traps whenever a MAC address is added on the specified port:\n\nSwitch(config)# snmp-server host 172.20.10.10 traps private mac-notification Switch(config)# snmp-server enable traps mac-notification change Switch(config)# mac address-table notification change Switch(config)# mac address-table notification change interval 123 Switch(config)# mac address-table notification change history-size 100 Switch(config)# interface gigabitethernet1/2/1 Switch(config-if)# snmp trap mac-notification change added\n\nConfiguring MAC Threshold Notification Traps: Example\n\nThis example shows how to specify 172.20.10.10 as the NMS, enable the MAC address threshold notification feature, set the interval time to 123 seconds, and set the limit to 78 per cent:\n\nSwitch(config)# snmp-server host 172.20.10.10 traps private mac-notification Switch(config)# snmp-server enable traps mac-notification threshold Switch(config)# mac address-table notification threshold Switch(config)# mac address-table notification threshold interval 123 Switch(config)# mac address-table notification threshold limit 78\n\nAdding the Static Address to the MAC Address Table: Example\n\nThis example shows how to add the static address c2f3.220a.12f4 to the MAC address table. When a packet is received in VLAN 4 with this MAC address as its destination address, the packet is forwarded to the specified port:\n\nSwitch(config)# mac address-table static c2f3.220a.12f4 vlan 4 interface gigabitethernet1/1/1\n\nConfiguring Unicast MAC Address Filtering: Example\n\nThis example shows how to enable unicast MAC address filtering and how to configure drop packets that have a source or destination address of c2f3.220a.12f4. When a packet is received in VLAN 4 with this MAC address as its source or destination, the packet is dropped:\n\nSwitch(config)# mac address-table static c2f3.220a.12f4 vlan 4 drop\n\nAdditional References for Switch Administration\n\nRelated Documents\n\nRelated Topic Document Title\n\nSystem management commands\n\nSystem Management Command Reference (Catalyst 3850 Switches)\n\nNetwork management configuration\n\nNetwork Management Configuration Guide (Catalyst 3850 Switches)\n\nLayer 2 configuration\n\nLayer 2/3 Configuration Guide (Catalyst 3850 Switches)\n\nVLAN configuration\n\nVLAN Configuration Guide (Catalyst 3850 Switches)\n\nPlatform-independent command references\n\nCisco IOS Configuration Fundamentals Command Reference, Cisco IOS XE Release 3S (Catalyst 3850 Switches)\n\nPlatform-independent configuration information\n\nConfiguration Fundamentals Configuration Guide, Cisco IOS XE Release 3S (Catalyst 3850 Switches)\n\nIP Addressing Configuration Guide Library, Cisco IOS XE Release 3S (Catalyst 3850 Switches)\n\nStandards and RFCs\n\nStandard/RFC Title None\n\n—\n\nMIBs\n\nMIB MIBs Link\n\nTechnical Assistance\n\nDescription Link\n\nAdditional References for Switch Administration\n\nRelated Documents\n\nRelated Topic Document Title\n\nSwitch administration commands\n\nNetwork management configuration\n\nLayer 2 configuration\n\nVLAN configuration\n\nPlatform-independent command references\n\nCisco IOS 15.3M&T Command References\n\nPlatform-independent configuration information\n\nCisco IOS 15.3M&T Configuration Guides\n\nStandards and RFCs\n\nStandard/RFC Title None\n\n—\n\nMIBs\n\nMIB MIBs Link\n\nTechnical Assistance\n\nDescription Link\n\nFeature History and Information for Switch Administration\n\nRelease Modification\n\nCisco IOS XE 3.2SE\n\nThis feature was introduced."
    }
}