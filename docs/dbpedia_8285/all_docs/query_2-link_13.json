{
    "id": "dbpedia_8285_2",
    "rank": 13,
    "data": {
        "url": "https://stackoverflow.com/questions/50093144/mysql-8-0-client-does-not-support-authentication-protocol-requested-by-server",
        "read_more_link": "",
        "language": "en",
        "title": "MySQL 8.0 - Client does not support authentication protocol requested by server; consider upgrading MySQL client",
        "top_image": "https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded",
        "meta_img": "https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded",
        "images": [
            "https://lh3.googleusercontent.com/a-/AOh14GhpNkLC6Ibs2iVHrsQ7PAq8_DVQld1eVwd5k0R8=k-s64",
            "https://lh3.googleusercontent.com/-yCD_GUcil3Q/AAAAAAAAAAI/AAAAAAAAA_s/XER3E6Zd0cc/photo.jpg?sz=64",
            "https://www.gravatar.com/avatar/d14d35ea0735a6a40fc61729bb936639?s=64&d=identicon&r=PG",
            "https://graph.facebook.com/1960268304214154/picture?type=large",
            "https://i.sstatic.net/93s1DAKN.png?s=64",
            "https://www.gravatar.com/avatar/eee967a558f8d1199605924e1d51ce36?s=64&d=identicon&r=PG",
            "https://i.sstatic.net/vkFxA.jpg?s=64",
            "https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=64&d=identicon&r=PG",
            "https://i.sstatic.net/ynaln.jpg?s=64",
            "https://i.sstatic.net/z1rur.jpg?s=64",
            "https://i.sstatic.net/gK6Vq.jpg?s=64",
            "https://lh3.googleusercontent.com/a-/AOh14GgaAQRvwpO044DxYlMr4uZX52VIA2n1PnLLkYPjYw=k-s64",
            "https://i.sstatic.net/cGr5g.png",
            "https://i.sstatic.net/UxTAH.png",
            "https://www.gravatar.com/avatar/ddc062b3abbbc127e3b5a8b78b5c92aa?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://i.sstatic.net/XYISG.jpg?s=64",
            "https://i.sstatic.net/4zzNf.jpg?s=64",
            "https://lh4.googleusercontent.com/-hhCEUw47efQ/AAAAAAAAAAI/AAAAAAAAAKY/sk1cyyp1RF0/photo.jpg?sz=64",
            "https://i.sstatic.net/agMKZ.png?s=64",
            "https://i.sstatic.net/1VB1V.jpg?s=64",
            "https://i.sstatic.net/Pfsnv.jpg?s=64",
            "https://i.sstatic.net/ZU6NX.jpg?s=64",
            "https://www.gravatar.com/avatar/053c2c680ff167164388f607d4d912e5?s=64&d=identicon&r=PG",
            "https://lh4.googleusercontent.com/-e2kZOKRgcTg/AAAAAAAAAAI/AAAAAAAAA1s/tWSt6QBfp24/photo.jpg?sz=64",
            "https://www.gravatar.com/avatar/6bfb2791b7786bbf9c62d527ef5563cc?s=64&d=identicon&r=PG",
            "https://lh5.googleusercontent.com/-kUFuJW0mOSM/AAAAAAAAAAI/AAAAAAAACWw/liwCQ1wAVZY/photo.jpg?sz=64",
            "https://www.gravatar.com/avatar/5d9fa50ad4192368c26098849bc4c3ff?s=64&d=identicon&r=PG",
            "https://lh5.googleusercontent.com/-RgSom_geOLA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcp0YhNpBBwT5XadS7hul__mGHxYQ/photo.jpg?sz=64",
            "https://i.sstatic.net/bIwv0.jpg?s=64",
            "https://www.gravatar.com/avatar/7a6f34cb0c59b4c428875d608c5777fb?s=64&d=identicon&r=PG",
            "https://i.sstatic.net/1XIMj.jpg?s=64",
            "https://www.gravatar.com/avatar/8c1603a08ef4d7e2fcd4ee5773ba62c7?s=64&d=identicon&r=PG",
            "https://i.sstatic.net/4xe6T.jpg?s=64",
            "https://www.gravatar.com/avatar/0529f7beca08f564586f191ff97087e9?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://www.gravatar.com/avatar/4fcc75f8c73c6fa3e8d434a59bc6964c?s=64&d=identicon&r=PG",
            "https://i.sstatic.net/Cf0af.png?s=64",
            "https://graph.facebook.com/100000065731626/picture?type=large",
            "https://lh5.googleusercontent.com/-xasGZaIATG4/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmcuAwSzJsht_AQMboNS5P-98rRBQ/s96-c/photo.jpg?sz=64",
            "https://lh4.googleusercontent.com/--p4H1R8s8EY/AAAAAAAAAAI/AAAAAAAAABA/qh1--tDrHTY/photo.jpg?sz=64",
            "https://stackoverflow.com/posts/50093144/ivc/0c39?prg=0db6ada5-51df-4fc4-98de-07222196f7dc"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": "2018-04-30T02:04:31",
        "summary": "",
        "meta_description": "I can't make a simple connection to the server for some reason. I install the newest MySQL Community 8.0 database along with Node.JS with default settings.\nThis is my node.js code\n    var mysql = r...",
        "meta_lang": "en",
        "meta_favicon": "https://cdn.sstatic.net/Sites/stackoverflow/Img/favicon.ico?v=ec617d715196",
        "meta_site_name": "Stack Overflow",
        "canonical_link": "https://stackoverflow.com/questions/50093144/mysql-8-0-client-does-not-support-authentication-protocol-requested-by-server",
        "text": "Summary\n\nIf you just want to get rid of the error, at the cost of risking the security of the project (e.g. it's just a personal project or dev environment), go with @Pras's answer -- ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password' and then flush privileges\n\nIf you want to have a fix for it, without knowing why, just install and use mysql2 (instead of mysql) and use it -- npm i mysql2, and mysql = require('mysql2');.\n\nIf you are a curious developer who is always eager to learn, keep reading ... :)\n\nWhat's going on?\n\nLet's first make it clear what's going on.\n\nMySQL 8 has supports pluggable authentication methods. By default, one of them named caching_sha2_password is used rather than our good old mysql_native_password (source). It should be obvious that using a crypto algorithm with several handshakes is more secure than plain password passing that has been there for 24 years!\n\nNow, the problem is mysqljs in Node (the package you install with npm i mysql and use it in your Node code) doesn't support this new default authentication method of MySQL 8, yet. The issue is in here: https://github.com/mysqljs/mysql/issues/1507 and is still open, after 3 years, as of July 2019.\n\nUPDATE June 2019: There is a new PR in mysqljs now to fix this!\n\nUPDATE Feb 2020: Apparently it's scheduled to come in version 3 of mysqljs.\n\nUPDATE July 2020: Apparently it's still not in yet (as of April 2020 at least), but it's claimed that node-mysql2 is supporting Authentication switch request. Please comment below if node-mysql2 is working fine for this issue -- I will test it later myself.\n\nUPDATE April 2021: It seems like the issue is still there and just 3 days ago, someone created a fork and made it there -- yet not official in the mysql.js package. Also, as per the comments below, it seems like mysql2 package is working fine and supporting Authentication-switch properly.\n\nYour Current Options\n\nOption 1) [NOT RECOMMENDED] Downgrade \"MySQL\" to authenticate using good old \"mysql_native_password\"\n\nThat's what everybody suggests here (e.g. top answer above). You just get into mysql and run a query saying root is fine using old mysql_native_password method for authentication:\n\nALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password ...\n\nThe good thing is, life is going to be simple and you can still use good old tools like Sequel Pro without any issue. But the problem is, you are not taking advantage of a more secure (and cool, read below) stuffs available to you.\n\nOption 2) [Meh...] Replace \"Node\" package with MySQL Connecter X DevAPI\n\nMySQL X DevAPI for Node is a replacement to Node's Mysqljs package, provided by http://dev.mysql.com official guys.\n\nIt works like a charm supporting caching_sha2_password authentication. (Just make sure you use port 33060 for X Protocol communications.)\n\nThe bad thing is, you have left our old mysql package that everyone is so used to and relies on.\n\nThe good thing is, your app is more secure now and you can take advantage of a ton of new things that our good old friends didn't provide! Just check out the tutorial of X DevAPI and you'll see it has a ton of new sexy features that can come in handy. You just need to pay the price of a learning curve, which expectedly comes with any technology upgrade. :)\n\nPS. Unfortunately, this XDevAPI Package doesn't have types definition (understandable by TypeScript) yet, so if you are on typescript, you will have problems. I tried to generate .d.ts using dts-gen and dtsmake, but no success. So keep that in mind.\n\nOption 3) [RECOMMENDED] Replace \"mysql.js\" with \"mysql2.js\" package\n\nAs mentioned above, mysql package (NPM package link) is still having this issue (as of April 2021). But mysql2 package (NPM package link) is not. So probably the following should be the one-liner answer!\n\nnpm un mysql && npm i mysql2"
    }
}