A 13-year-old boy opened fire in a Belgrade classroom in an apparently planned attack that killed eight children and a school security guard and injured a further six pupils as well as his teacher.

Police named the shooter as Kosta Kecmanović and said he had been a pupil at the school in the centre of the Serbian capital since 2019. They said he had used two of his father’s guns for the shooting and may have been plotting the attack for a month.

The head of Belgrade police, Veselin Milić, said the teenager also had two petrol bombs and “made a list of kids he planned to kill and their classes”. Milić identified the dead pupils as seven girls and a boy born between 2009 and 2011.

“The sketch looks like something from a video game or a horror movie, which indicates that he planned in detail, by classes, whom to liquidate,” he added.

The suspect, who was arrested in the school playground after confessing to the shooting and led away with his head covered, fired first at the security guard and three girls in a hallway, then walked into a history class and shot the teacher and five pupils, Milić said.

Because he is under 14, Kecmanović can’t face criminal charges, the Belgrade prosecutor’s office said. He will be placed in a psychiatric institution. His parents have also been arrested.

“The father claimed the arms were locked in a safe with a code, but apparently the kid had the code,” Serbia’s interior minister, Bratislav Gašić, said. “He took the pistols and three magazines with 15 bullets each.”

The education minister, Branko Ružić, declared three days of mourning, and the health minister, Danica Grujičić, a neurosurgeon, wept as she called the events “perhaps the most horrifying experience I have had as a doctor and as a human being”.

Milan Milošević, the father of a pupil at the Vladislav Ribnikar school, said his daughter was in the class where the gun was fired. “She managed to escape. [The boy] … first shot the teacher and then started shooting randomly,” he told the broadcaster N1.

Milošević, who said he rushed to the school after hearing of the shooting, added: “I saw the security guard lying under the table. I saw two girls with blood on their shirts. They say [the shooter] was quiet and a good pupil.”

A pupil who was in a sports class downstairs when the gunfire erupted told local media: “I was able to hear the shooting. It was non-stop. I didn’t know what was happening. We were receiving some messages on the phone.”

The pupil, who was not named, described the suspect as a “quiet guy” who “looked nice”. She said he had “good grades, but we didn’t know much about him. He was not so open with everybody. Surely I wasn’t expecting this to happen.”

An interior ministry statement said eight children and a security guard had been killed and six children had been taken to hospital, along with the teacher. Milan Nedeljković, the local mayor, said doctors were fighting to save the teacher’s life.

Nedeljković said the school security guard had probably prevented more deaths by putting himself in the line of fire. He “wanted to prevent the tragedy, and was the first victim”, Nedeljković told reporters outside the school.

The head of Belgrade’s university hospital, Milika Asanin, said it was treating three pupils and the teacher. He said: “One patient was reanimated. He had chest injury and a neck injury. One pupil was shot in the left leg, one in the stomach and both arms. The teacher has a stomach injury and injuries to both hands.”

Mass shootings in Serbia, and in the wider Balkan region, are extremely rare. None have been reported at schools in recent years. In 2013, a Balkan war veteran killed 14 people in the central Serbian village of Velika Ivanča.

Serbia has very strict gun laws and authorities have issued several amnesties for owners to hand in or register illegal guns, but experts have warned repeatedly about the danger from hundreds of thousands of illegal weapons left in the region after the wars and civil unrest of the 1990s.

“I saw kids running out from the school, screaming. Parents came, they were in panic. Later I heard three shots,” a girl who attends a high school next to the Vladislav Ribnikar school told state television.

Reuters and Agence France-Presse contributed to this report