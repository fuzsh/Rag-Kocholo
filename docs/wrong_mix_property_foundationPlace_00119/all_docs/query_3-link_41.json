{
    "id": "wrong_mix_property_foundationPlace_00119_3",
    "rank": 41,
    "data": {
        "url": "https://stackoverflow.com/questions/22077445/aws-s3-bucket-permissions-access-denied",
        "read_more_link": "",
        "language": "en",
        "title": "AWS S3 Bucket Permissions - Access Denied",
        "top_image": "https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded",
        "meta_img": "https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded",
        "images": [
            "https://cdn.sstatic.net/Img/teams/teams-promo.svg?v=e507948b81bf",
            "https://www.gravatar.com/avatar/0fb9ebca45f3df8f7191890ece452dd4?s=64&d=identicon&r=PG",
            "https://i.sstatic.net/HRCwX.png",
            "https://i.sstatic.net/XPXLn.png",
            "https://www.gravatar.com/avatar/c5f03a016b45c4d9620352993700e2d0?s=64&d=identicon&r=PG",
            "https://i.sstatic.net/AyQd5.png?s=64",
            "https://i.sstatic.net/OfY9p.png",
            "https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=64&d=identicon&r=PG",
            "https://www.gravatar.com/avatar/5c3e09b0c9c219bc524284bdb751d50e?s=64&d=identicon&r=PG",
            "https://www.gravatar.com/avatar/19e15026e92d3a5e9b5041c05b34d69c?s=64&d=identicon&r=PG",
            "https://i.sstatic.net/mlsjj.png",
            "https://i.sstatic.net/eEH5N.jpg?s=64",
            "https://www.gravatar.com/avatar/9fa7cd2800abe8d984a243b6a644bbc8?s=64&d=identicon&r=PG",
            "https://i.sstatic.net/aDkhA.jpg?s=64",
            "https://www.gravatar.com/avatar/1210fbdba5fe309c80e75a2849b40cdd?s=64&d=identicon&r=PG",
            "https://lh3.googleusercontent.com/a-/AOh14GjytR8fDYSupZ6QjfRPy6nWMqyHGUAZGmTfnEqu=k-s64",
            "https://i.sstatic.net/RRIDb.jpg?s=64",
            "https://i.sstatic.net/zaYIQ.png",
            "https://www.gravatar.com/avatar/17e278c6f757e855609cf148d2924e64?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://i.sstatic.net/2KuIS.png",
            "https://www.gravatar.com/avatar/aea0cc0c34a4a21109da9e3d738e75f6?s=64&d=identicon&r=PG",
            "https://www.gravatar.com/avatar/695699b735da3bd1c3160fdc103a4fb6?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://www.gravatar.com/avatar/07218b2c47c3d69716326d2554abf0ae?s=64&d=identicon&r=PG",
            "https://graph.facebook.com/988540314513418/picture?type=large",
            "https://stackoverflow.com/posts/22077445/ivc/e75d?prg=ecb10e84-05af-4e7a-89b2-476fb80a2f39"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": "2014-02-27T18:39:06",
        "summary": "",
        "meta_description": "I am trying to give myself permission to download existing files in an S3 bucket. I've modified the Bucket Policy, as follows:\n\n        {\n        \"Sid\": \"someSID\",\n        \"Action\": \"s3:*\",\n        \"",
        "meta_lang": "en",
        "meta_favicon": "https://cdn.sstatic.net/Sites/stackoverflow/Img/favicon.ico?v=ec617d715196",
        "meta_site_name": "Stack Overflow",
        "canonical_link": "https://stackoverflow.com/questions/22077445/aws-s3-bucket-permissions-access-denied",
        "text": "Step 1\n\nClick on your bucket name, and under the permissions tab, make sure that Block new public bucket policies is unchecked\n\nStep 2\n\nThen you can apply your bucket policy\n\nHope that helps\n\nDavid, You are right but I found that, in addition to what bennie said below, you also have to grant view (or whatever access you want) to 'Authenticated Users'.\n\nBut a better solution might be to edit the user's policy to just grant access to the bucket:\n\n{ \"Statement\": [ { \"Sid\": \"Stmt1350703615347\", \"Action\": [ \"s3:*\" ], \"Effect\": \"Allow\", \"Resource\": [ \"arn:aws:s3:::mybucket/*\" ] }, { \"Effect\": \"Allow\", \"Action\": [ \"s3:ListBucket\" ], \"Resource\": [\"arn:aws:s3:::mybucket\"], \"Condition\": {} } ] }\n\nThe first block grants all S3 permissions to all elements within the bucket. The second block grants list permission on the bucket itself.\n\nTo clarify: It is really not documented well, but you need two access statements.\n\nIn addition to your statement that allows actions to resource \"arn:aws:s3:::bucketname/AWSLogs/123123123123/*\", you also need a second statement that allows ListBucket to \"arn:aws:s3:::bucketname\", because internally the Aws client will try to list the bucket to determine it exists before doing its action.\n\nWith the second statement, it should look like:\n\n\"Statement\": [ { \"Sid\": \"someSID\", \"Action\": \"ActionThatYouMeantToAllow\", \"Effect\": \"Allow\", \"Resource\": \"arn:aws:s3:::bucketname/AWSLogs/123123123123/*\", \"Principal\": { \"AWS\": [ \"arn:aws:iam::123123123123:user/myuid\" ] }, { \"Sid\": \"someOtherSID\", \"Action\": \"ListBucket\", \"Effect\": \"Allow\", \"Resource\": \"arn:aws:s3:::bucketname\", \"Principal\": { \"AWS\": [ \"arn:aws:iam::123123123123:user/myuid\" ] } ]\n\nNote: If you're using IAM, skip the \"Principal\" part.\n\nPossible reason: if files have been put/copy by another AWS Account user then you can not access the file since still file owner is not you. The AWS account user who has been placed files in your directory has to grant access during a put or copy operation.\n\nFor a put operation, the object owner can run this command:\n\naws s3api put-object --bucket destination_awsexamplebucket --key dir-1/my_images.tar.bz2 --body my_images.tar.bz2 --acl bucket-owner-full-control\n\nFor a copy operation of a single object, the object owner can run one of these commands:\n\naws s3api copy-object --bucket destination_awsexammplebucket --key source_awsexamplebucket/myobject --acl bucket-owner-full-control\n\nref : AWS Link\n\nGiving public access to Bucket to add policy is NOT A RIGHT way. This exposes your bucket to public even for a short amount of time.\n\nYou will face this error even if you are admin access (Root user will not face it) According to aws documentation you have to add \"PutBucketPolicy\" to you IAM user.\n\nSo Simply add a S3 Policy to you IAM User as in below screenshot , mention your Bucket ARN for make it safer and you don't have to make you bucket public again.\n\nSince the recent update you need to change it slightly. Here's the code I used which seems to work (at least for now).\n\nReason you need to do this: https://docs.aws.amazon.com/AmazonS3/latest/userguide/troubleshoot-403-errors.html\n\n{ \"Version\": \"2008-10-17\", \"Statement\": [ { \"Sid\": \"Stmt1350703615347\", \"Effect\": \"Allow\", \"Principal\": { \"AWS\": \"arn:aws:iam::240479180938:user/YOURUSER\" }, \"Action\": \"s3:*\", \"Resource\": \"arn:aws:s3:::YOURBUCKET/*\" }, { \"Effect\": \"Allow\", \"Principal\": { \"AWS\": \"arn:aws:iam::240479180938:user/YOURUSER\" }, \"Action\": \"s3:ListBucket\", \"Resource\": \"arn:aws:s3:::YOURBUCKET\", \"Condition\": {} } ] }\n\nGo to this link and generate a Policy. In the Principal field give *\n\nIn the Actions set the Get Objects\n\nGive the ARN as arn:aws:s3:::<bucket_name>/*\n\nThen add statement and then generate policy, you will get a JSON file and then just copy that file and paste it in the Bucket Policy.\n\nFor More Details go here."
    }
}