{
    "id": "dbpedia_3208_0",
    "rank": 25,
    "data": {
        "url": "https://community.spiceworks.com/t/unable-to-access-windows-2003-share-from-windows10-by-netbios-name/815758",
        "read_more_link": "",
        "language": "en",
        "title": "Unable to access Windows 2003 share from Windows10 by netbios name",
        "top_image": "https://global.discourse-cdn.com/spiceworks/original/1X/7a73606d7df2f794c4789897e49693fb3c471b23.png",
        "meta_img": "https://global.discourse-cdn.com/spiceworks/original/1X/7a73606d7df2f794c4789897e49693fb3c471b23.png",
        "images": [
            "https://secure.intelligence52.com/795141.png",
            "https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=12",
            "https://avatars.discourse-cdn.com/v4/letter/p/9de0a6/48.png",
            "https://global.discourse-cdn.com/spiceworks/optimized/4X/d/f/5/df50ff207e6a6ce3b4d58cdf0195308a0fb1e170_2_690x362.png",
            "https://zdbb.net/l/z0WVjCBSEeGLoxIxOQVEwQ/"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            "windows-server-2003-end-of-life",
            "question"
        ],
        "tags": null,
        "authors": [
            "Rod-IT (Rod-IT)"
        ],
        "publish_date": "2021-11-02T14:49:37+00:00",
        "summary": "",
        "meta_description": "Hi \nI have an old Windows 2003 server which i need to access periodically. It has been running since 2005 without issue and any significant configuration changes. \nWindows 10 clients have SMB1 Client access enabled. \nOld&hellip;",
        "meta_lang": "en",
        "meta_favicon": "https://global.discourse-cdn.com/spiceworks/optimized/1X/a254df83358a951c43ed6ee756b5e0011a8d58bc_2_32x32.png",
        "meta_site_name": "Spiceworks Community",
        "canonical_link": "https://community.spiceworks.com/t/unable-to-access-windows-2003-share-from-windows10-by-netbios-name/815758",
        "text": "Hi\n\nI have an old Windows 2003 server which i need to access periodically. It has been running since 2005 without issue and any significant configuration changes.\n\nWindows 10 clients have SMB1 Client access enabled.\n\nOld Windows 10 clients can access the share using UNC \\computer\\share\n\nNewly installed Windows 10 clients can only reliably access the share by \\xxx.xxx.xxx.xxx\\share\n\nI’ve looked at WINS servers, netbios over TCP etc but comparing the two Windows builds (ie an upgraded v a new build) and every network setting looks similar to me.\n\nAny pointers would be appreciated\n\nIf you can only access the system by IP and not name, this is a DNS issue.\n\nWhat DNS are your clients using and is the 2003 machine domain joined or at a minimum have a DNS record in your AD?\n\nHi Rod\n\nI agree it’s something to do with name resolution, but I can “ping computer” name and it resolves to the correct IP address with the correct domain suffix so in my mind the DNS is functioning - hence why I was looking at WINS and Netbios.\n\nI can also access the share using \\computername.domain\\share - just not \\computername\n\nPaul\n\nFor the sake of not understanding.\n\nWhat issue does it cause you to use netbios.domain.com or IP instead of NetBIOS name?\n\nInstead of ping computer, try ping -a IPofMachine, does it return the same name, if not your rDNS is missing/wrong. That said, I’m sure you’re aware 2003 has been long since out of support, so being able to get to it by IP or FQDN should still be an option.\n\nHi Rod\n\nThanks for perservering. Yes, I’m well aware 2003 is long past it’s sell by date The issue is some legacy software that only likes \\computer\\share and can’t handle FQDN or IP addressing unfortunately. (Still waiting for it to be completely replaced this year hopefully, and then I can finally put it away to rest in peace)\n\nThe “ping -a” returns the correct name, so i can only think it’s something that was removed from newer builds of Windows that isn’t removed when upgrading. It’s very odd and I’ve been puzzling over it for quite a while.\n\nPaul\n\nYou said the IP works and pings work, so i doubt it’s a build related issue, especially if you’ve turned on CIFS 1.0 (client) and not server on your Windows 10 devices.\n\nCan you clarify this pieces though\n\nYou said the software only works with name, but above said IP works - am i missing something and can you also clarify by old/new Windows builds, are they different versions, such as 1607 vs 21h1 etc?\n\nHi Rod\n\nFor testing purposes I was simply accessing the share from the Run command on the task bar ie.\\computername\\share\n\nMachines that have been upgraded from a number of years ago (I’m guessing they were in the 19xx build or earlier) continue to function as expected. It’s only newer build eg the one I am tested was installed with 21H1 and is exhibiting the issue. My own machine started life in the 18xx build (I think) and does not have the issue.\n\nThis is not an isolated incidence and I can only narrow it down to new installs. All machines are running 21H1 now and are on the same subnet.\n\nAccessing Synology and other newer Windows shares is not a problem on any of the Windows 10 machines (either by netbios name, IP or FQDN).\n\nPaul\n\nfrom one of the newer builds open an admin command prompt and type\n\nnet view servername\n\nWhat does it output? I’m expecting to see something like access denied or error 64 - something like that.\n\nDo the same from a working device.\n\nWhat does it output?\n\nYou’re not filtering on devices instead of usernames on the 2003 box are you? Check your share permissions on the 2003 system, does it show everyone, authenticated users or specific users/devices?\n\nRod\n\nFrom a Working machine (and also the older build IF “net view servername.domain” is used)\n\nnet view servername Shared resources at servername Servername Share name Type Used as Comment ------------------------------------------------------------------------------- share1 Disk share2 Disk share3 Disk The command completed successfully.\n\nThe non working machines finally produces an Error 53 (ie they probably can’t resolve the netbios name)\n\nnet view servername System error 53 has occurred. The network path was not found.\n\nNo, I’m not filtering by device as I can access the share using IP or FQDN on all the machines.\n\nPaul\n\nPermissions don’t just relate to people.\n\nYou checked F&P was enabled on the client, but the article i posted says to check the server, it references NT but 2003 is of that era.\n\nHave you tried as another user on the same problem device, rule out a profile issue, check host files - you could even add one and see how that behaves.\n\nChange the share permissions to everyone - this is of course less secure, but you’ve a 2003 box on the network so it’s not like it can get less secure. This should allow everyone to access, including devices and people.\n\nIf it’s only a share, does it specifically need to be on the 2003 box?\n\nYour clients DNS have not been mentioned, but perhaps there is something different there.\n\nFYI, I don’t have direct access to this network nor do i know how its all setup, the best i can do is offer suggestions, so far to no avail, but I’m trying.\n\nRod\n\nThank for your help and suggestions. I’ve also double checked the 2003 box and yes, it it all set up as per the article.\n\nTested the “Everyone” permissions and it made no difference, the newer machiens simply can’t resolve the netbios name for some reason. Have checked “Enable netbios over TCP/IP”. Checked the WINS server is also returning the correct address. (DNS is working fine.). It’s only the 2003 box that is causing issues. All the more “modern” shares are fine.\n\nThis is a real head scratcher, and I’m going to test my theory by installing an old build of Windows 10 and subsequently upgrade it to 21H1. If that fail then I’m really confused! In the meantime I’m counting down the days, week, months before I can retire this permanently but it’s causing issues as i replace or reinstall older machines…\n\nThanks\n\nPaul\n\nMay i ask what this is doing, why not put files elsewhere and have the 2003 box sync those files instead, it has to go at some point so why fight changes when you could put in place a workaround good enough to tide you over?\n\nUnfortunately, that’s not possible. It’s a really old database application with a bespoke application that relies upon shares and won’t run reliably on newer versions of windows. I know … not ideal, but little choice in the matter. It’s been in the process of being replaced for quite some year now, and the end is in sight, but I need to keep it going in the meantime,\n\nTo be clear i never said move the system, but i guess what you’re saying is people access the DB via the share, not other files.\n\nAs an attempt to help you i am installing 2003 in a VM now and will try it on my Win 10 VM builds and Windows 11 and come back to you if i spot anything.\n\nOk so i have done the following;\n\nCreated a W2k3 R2 server VM\n\nCreated a share with everyone full on share and everyone full on security tab (for simplicity and because it’s not domain joined)\n\nWindows 11 VM accessing the share by \\w2k3\\share - no problems, i can read and write to this directory\n\nI do not use WINS, my domain controllers are 2022, DFL/FFL 2016, Windows 11 has SMB1.0 enabled (client).\n\nBoth machines are DHCP on the same subnet and everything works.\n\nMy DNS is my 2 DCs (server 2022 core mode)\n\nIf i move the 2003 VM to another subnet, this is where the issues start, however if i add a forward lookup under my domain for w2k3 with the IP of the machine, it all works again.\n\nDo note that my windows 11 VM is domain joined and my 2k3 one is not.\n\nLet me know if you’d like me to do anything else, but as a basic start with a brand new 2003 VM and a simple share, i am unable to reproduce your issue. Perhaps try a host file or forward DNS entry and see if that help\n\nHad exactly the same problem.\n\nw2003 will be deleted soon.\n\nBut the way a solved this problem is actually remove smb v1 client and smb direct. reboot. add smb v1 client reboot and now it is working.\n\nI hope it will help."
    }
}