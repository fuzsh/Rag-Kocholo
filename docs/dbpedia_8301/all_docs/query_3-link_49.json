{
    "id": "dbpedia_8301_3",
    "rank": 49,
    "data": {
        "url": "https://grafana.com/docs/grafana-cloud/monitor-infrastructure/integrations/integration-reference/integration-apache-mesos/",
        "read_more_link": "",
        "language": "en",
        "title": "Grafana Cloud documentation",
        "top_image": "https://grafana.com/media/images/meta/grafana-labs-meta-default_1200x630.png",
        "meta_img": "https://grafana.com/media/images/meta/grafana-labs-meta-default_1200x630.png",
        "images": [
            "https://grafana.com/media/images/icons/icon-copy-small-2.svg",
            "https://grafana.com/static/img/menu/loki.svg",
            "https://grafana.com/static/img/menu/grafana2.svg",
            "https://grafana.com/static/img/menu/grafana-tempo.svg",
            "https://grafana.com/static/img/logos/logo-mimir.svg",
            "https://grafana.com/static/img/pyroscope-logo.svg",
            "https://grafana.com/static/img/logos/beyla-logo.svg",
            "https://grafana.com/static/assets/img/logos/grafana-logo-faro.svg",
            "https://grafana.com/media/oss/alloy/alloy-logo.svg",
            "https://grafana.com/static/img/logos/logo-grafana-oncall-oss.svg",
            "https://grafana.com/static/img/k6_logo.svg",
            "https://grafana.com/static/img/menu/prometheus.svg",
            "https://grafana.com/static/img/menu/opentelemetry.svg",
            "https://grafana.com/static/img/menu/graphite.svg",
            "https://grafana.com/static/img/logos/logo-kubernetes.svg",
            "https://grafana.com/static/img/menu/application-observability.svg",
            "https://grafana.com/static/assets/img/logos/grafana-logo-faro.svg",
            "https://grafana.com/static/img/menu/incident-icon.svg",
            "https://grafana.com/static/img/logos/logo-linux.svg",
            "https://grafana.com/media/solutions/windows-monitor/windows-icon.png",
            "https://grafana.com/static/img/logos/icon-docker.svg",
            "https://grafana.com/static/img/logos/postgresql_elephant_icon.svg",
            "https://grafana.com/static/img/logos/mysql_logo_menu.svg",
            "https://grafana.com/media/images/logos/aws-logo-light.svg",
            "https://grafana.com/static/img/logos/kafka.svg",
            "https://grafana.com/static/img/logos/jenkins-logo.svg",
            "https://grafana.com/media/solutions/rabbitmq-monitor/rabbitmq-icon.png",
            "https://grafana.com/media/images/logos/logo-mongodb.svg",
            "https://grafana.com/media/images/logos/logo-mongodb.svg",
            "https://grafana.com/static/img/logos/appDynamics-white.svg",
            "https://grafana.com/static/img/logos/oracle-logo.png",
            "https://grafana.com/static/img/logos/gitlab.svg",
            "https://grafana.com/static/img/diagram/jira-small.svg",
            "https://grafana.com/static/img/logos/salesforce.com_logo.svg",
            "https://grafana.com/static/img/logos/splunk-menu.svg",
            "https://grafana.com/static/img/logos/icon-datadog.svg",
            "https://grafana.com/static/img/logos/newrelic.svg",
            "https://grafana.com/static/img/logos/snowflake-logo-lg.png",
            "https://grafana.com/static/img/menu/grafana2.svg",
            "https://grafana.com/static/img/logos/logo-mimir.svg",
            "https://grafana.com/static/img/menu/grafana-tempo.svg",
            "https://grafana.com/static/img/menu/loki.svg",
            "https://grafana.com/static/img/pyroscope-logo.svg",
            "https://grafana.com/media/oss/alloy/alloy-logo.svg",
            "https://grafana.com/static/img/logos/beyla-logo.svg",
            "https://grafana.com/static/assets/img/logos/grafana-logo-faro.svg",
            "https://grafana.com/static/img/k6_logo.svg",
            "https://grafana.com/static/img/menu/prometheus.svg",
            "https://grafana.com/media/images/icons/writes-toolkit.svg",
            "https://grafana.com/static/img/docs/icons/cloud-icon.svg",
            "https://grafana.com/static/img/k6_logo.svg",
            "https://grafana.com/media/docs/grafana-cloud/synthetic-monitoring/synthetic-monitoring-orange-icon.svg",
            "https://grafana.com/media/docs/grafana-cloud/infrastructure/kubernetes.svg",
            "https://grafana.com/static/img/logos/logo-grafana-oncall-oss.svg",
            "https://grafana.com/static/img/logos/incident.svg",
            "https://grafana.com/media/docs/grafana-cloud/alerting-and-irm/grafana-icon-slo.svg",
            "https://grafana.com/static/img/menu/logo-alerting.svg",
            "https://grafana.com/media/docs/grafana-cloud/alerting-and-irm/grafana-icon-ml.svg",
            "https://grafana.com/static/img/menu/application-observability.svg",
            "https://grafana.com/static/img/docs/icons/grafana-enterprise-icon.svg",
            "https://grafana.com/static/img/menu/loki.svg",
            "https://grafana.com/static/img/docs/icons/grafana-enterprise-metrics-icon.svg",
            "https://grafana.com/static/img/menu/grafana-tempo.svg",
            "https://grafana.com/static/img/docs/icons/diamond-icon.svg",
            "https://grafana.com/static/img/docs/icons/plugin-line-icon.svg",
            "https://grafana.com/static/img/menu/loki.svg",
            "https://grafana.com/static/img/menu/grafana2.svg",
            "https://grafana.com/static/img/menu/grafana-tempo.svg",
            "https://grafana.com/static/img/logos/logo-mimir.svg",
            "https://grafana.com/static/img/menu/loki.svg",
            "https://grafana.com/static/img/menu/grafana2.svg",
            "https://grafana.com/static/img/menu/grafana-tempo.svg",
            "https://grafana.com/static/img/logos/logo-mimir.svg",
            "https://grafana.com/static/img/pyroscope-logo.svg",
            "https://grafana.com/static/img/logos/beyla-logo.svg",
            "https://grafana.com/static/assets/img/logos/grafana-logo-faro.svg",
            "https://grafana.com/media/oss/alloy/alloy-logo.svg",
            "https://grafana.com/static/img/logos/logo-grafana-oncall-oss.svg",
            "https://grafana.com/static/img/k6_logo.svg",
            "https://grafana.com/static/img/menu/prometheus.svg",
            "https://grafana.com/static/img/menu/opentelemetry.svg",
            "https://grafana.com/static/img/menu/graphite.svg",
            "https://grafana.com/static/img/logos/logo-kubernetes.svg",
            "https://grafana.com/static/img/menu/application-observability.svg",
            "https://grafana.com/static/assets/img/logos/grafana-logo-faro.svg",
            "https://grafana.com/static/img/menu/incident-icon.svg",
            "https://grafana.com/static/img/logos/logo-linux.svg",
            "https://grafana.com/media/solutions/windows-monitor/windows-icon.png",
            "https://grafana.com/static/img/logos/icon-docker.svg",
            "https://grafana.com/static/img/logos/postgresql_elephant_icon.svg",
            "https://grafana.com/static/img/logos/mysql_logo_menu.svg",
            "https://grafana.com/media/images/logos/aws-logo-light.svg",
            "https://grafana.com/static/img/logos/kafka.svg",
            "https://grafana.com/static/img/logos/jenkins-logo.svg",
            "https://grafana.com/media/solutions/rabbitmq-monitor/rabbitmq-icon.png",
            "https://grafana.com/media/images/logos/logo-mongodb.svg",
            "https://grafana.com/media/images/logos/logo-mongodb.svg",
            "https://grafana.com/static/img/logos/appDynamics-white.svg",
            "https://grafana.com/static/img/logos/oracle-logo.png",
            "https://grafana.com/static/img/logos/gitlab.svg",
            "https://grafana.com/static/img/diagram/jira-small.svg",
            "https://grafana.com/static/img/logos/salesforce.com_logo.svg",
            "https://grafana.com/static/img/logos/splunk-menu.svg",
            "https://grafana.com/static/img/logos/icon-datadog.svg",
            "https://grafana.com/static/img/logos/newrelic.svg",
            "https://grafana.com/static/img/logos/snowflake-logo-lg.png",
            "https://grafana.com/static/assets/featured/getting-started-with-grafana-lgtm-stack-amer_featured.png?w=500",
            "https://grafana.com/static/img/menu/grafana2.svg",
            "https://grafana.com/static/img/logos/logo-mimir.svg",
            "https://grafana.com/static/img/menu/grafana-tempo.svg",
            "https://grafana.com/static/img/menu/loki.svg",
            "https://grafana.com/static/img/pyroscope-logo.svg",
            "https://grafana.com/media/oss/alloy/alloy-logo.svg",
            "https://grafana.com/static/img/logos/beyla-logo.svg",
            "https://grafana.com/static/assets/img/logos/grafana-logo-faro.svg",
            "https://grafana.com/static/img/k6_logo.svg",
            "https://grafana.com/static/img/menu/prometheus.svg",
            "https://grafana.com/media/images/icons/writes-toolkit.svg",
            "https://grafana.com/static/img/docs/icons/cloud-icon.svg",
            "https://grafana.com/static/img/k6_logo.svg",
            "https://grafana.com/media/docs/grafana-cloud/synthetic-monitoring/synthetic-monitoring-orange-icon.svg",
            "https://grafana.com/media/docs/grafana-cloud/infrastructure/kubernetes.svg",
            "https://grafana.com/static/img/logos/logo-grafana-oncall-oss.svg",
            "https://grafana.com/static/img/logos/incident.svg",
            "https://grafana.com/media/docs/grafana-cloud/alerting-and-irm/grafana-icon-slo.svg",
            "https://grafana.com/static/img/menu/logo-alerting.svg",
            "https://grafana.com/media/docs/grafana-cloud/alerting-and-irm/grafana-icon-ml.svg",
            "https://grafana.com/static/img/menu/application-observability.svg",
            "https://grafana.com/static/img/docs/icons/grafana-enterprise-icon.svg",
            "https://grafana.com/static/img/menu/loki.svg",
            "https://grafana.com/static/img/docs/icons/grafana-enterprise-metrics-icon.svg",
            "https://grafana.com/static/img/menu/grafana-tempo.svg",
            "https://grafana.com/static/img/docs/icons/diamond-icon.svg",
            "https://grafana.com/static/img/docs/icons/plugin-line-icon.svg",
            "https://grafana.com/static/assets/img/icons/grafana-icon-mobile-nav-close-white.svg",
            "https://grafana.com/static/assets/img/icons/grafana-icon-mobile-nav-open-white.svg",
            "https://grafana.com/static/assets/img/icons/grafana-icon-mobile-toc-close-white.svg",
            "https://grafana.com/static/assets/img/icons/grafana-icon-mobile-toc-open-white.svg",
            "https://grafana.com/static/assets/img/icons/grafana-icon-docs-search.svg",
            "https://grafana.com/static/assets/img/icons/grafana-icon-breadcrumb-arrow-gray.svg",
            "https://grafana.com/static/assets/img/icons/grafana-icon-breadcrumb-arrow-gray.svg",
            "https://grafana.com/static/assets/img/icons/grafana-icon-breadcrumb-arrow-gray.svg",
            "https://grafana.com/static/assets/img/icons/grafana-icon-breadcrumb-arrow-gray.svg",
            "https://grafana.com/static/assets/img/icons/grafana-icon-breadcrumb-arrow-gray.svg",
            "https://grafana.com/media/images/icons/icon-copy-small-2.svg",
            "https://grafana.com/media/images/icons/icon-copy-small-2.svg",
            "https://grafana.com/media/images/icons/icon-copy-small-2.svg",
            "https://grafana.com/media/images/icons/icon-copy-small-2.svg",
            "https://grafana.com/media/images/icons/icon-copy-small-2.svg",
            "https://grafana.com/media/images/icons/icon-copy-small-2.svg",
            "https://grafana.com/media/images/icons/icon-copy-small-2.svg",
            "https://grafana.com/media/images/icons/icon-copy-small-2.svg",
            "https://grafana.com/media/integrations/apache-mesos/screenshots/apache_mesos_overview_1.png",
            "https://grafana.com/media/integrations/apache-mesos/screenshots/apache_mesos_overview_2.png",
            "https://grafana.com/media/images/icons/icon-copy-small-2.svg",
            "https://grafana.com/media/images/svg/thumbs-up.svg",
            "https://grafana.com/media/images/svg/thumbs-up.svg",
            "https://grafana.com/static/assets/img/icons/grafana-icon-card-docs.svg",
            "https://grafana.com/static/assets/img/icons/grafana-icon-card-video.svg",
            "https://grafana.com/static/assets/featured/getting-started-with-grafana-lgtm-stack-amer_featured.png?w=200 200w, /static/assets/featured/getting-started-with-grafana-lgtm-stack-amer_featured.png?w=400 400w",
            "https://grafana.com/static/assets/img/icons/grafana-icon-card-video.svg",
            "https://grafana.com/media/webinar/Screenshot-2024-02-12-at-4.09.30-PM.png?w=200 200w, /media/webinar/Screenshot-2024-02-12-at-4.09.30-PM.png?w=400 400w",
            "https://grafana.com/static/assets/img/icons/grafana-icon-card-video.svg",
            "https://grafana.com/media/webinar/AMER_buildadv_notxt.png?w=200 200w, /media/webinar/AMER_buildadv_notxt.png?w=400 400w",
            "https://grafana.com/media/images/svg/thumbs-up.svg",
            "https://grafana.com/media/images/svg/thumbs-up.svg"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "Learn about Apache Mesos Grafana Cloud integration.",
        "meta_lang": "en",
        "meta_favicon": "/static/assets/img/fav32.png",
        "meta_site_name": "Grafana Labs",
        "canonical_link": "https://grafana.com/docs/grafana-cloud/monitor-infrastructure/integrations/integration-reference/integration-apache-mesos/",
        "text": "Grafana Cloud\n\nApache Mesos integration for Grafana Cloud\n\nApache Mesos is an open-source distributed systems kernel that acts as a platform for managing and orchestrating computing resources across clusters of machines. Apache Mesos integration for Grafana cloud allows users to monitor masters events queue, registrar state, allocator usage as well as disk, memory and logs for both the master and agent targets in an overview dashboard.\n\nThis integration supports Apache Mesos 1.4.x+\n\nThis integration supports the Prometheus Mesos Exporter v1.1.2\n\nThis integration includes 5 useful alerts and 1 pre-built dashboard to help monitor and visualize Apache Mesos metrics and logs.\n\nBefore you begin\n\nIn order for the integration to work properly, you must enable logs and set up the Prometheus Mesos Exporter on your primary host. In a production environment, Apache Mesos master and agent node are ran separately for better resource management, availability and fault tolerance. Each master or agent node has their own log path and requires a prometheus exporter installation.\n\nEnable logs for Apache Mesos\n\nUsers must enable Apache Mesos Logs in order for log panels on the dashboard to populate. Logs are added to either the Mesos master or agent node by specifying the log directory using --log_dir=. This path will also differ depending on if you are running Linux or Windows but is required so that Promtail can ingest the logs.\n\nRun the Mesos master with the following flags:\n\n--log_dir=/var/log/mesos/master/ on Linux masters\n\nâ-log_dir=C:\\Program Files\\mesos\\master\\ on Windows masters\n\nRun the Mesos agent with the following flags:\n\n--log_dir=/var/log/mesos/agent/ on Linux agents\n\nâ-log_dir=C:\\Program Files\\mesos\\agent\\ on Windows agents\n\nSet up Prometheus Exporter for Apache Mesos\n\nThe Prometheus Mesos Exporter v1.1.2 must be setup with a Prometheus configuration file specifying a master or agent node. Run the Mesos exporter master process with mesos_exporter -master http://localhost:5050 and run the Mesos exporter for the agent process with mesos_exporter -slave http://localhost:5051. For more information on how to configure the Prometheus exporter, please refer to Prometheus configuration documentation.\n\nTo validate that the Prometheus exporter is working correctly, curl the master Prometheus metrics endpoint on the port 9105:\n\nsh\n\ncurl http://localhost:9105/metrics\n\nInstall Apache Mesos integration for Grafana Cloud\n\nIn your Grafana Cloud stack, click Connections in the left-hand menu.\n\nFind Apache Mesos and click its tile to open the integration.\n\nReview the prerequisites in the Configuration Details tab and set up Grafana Agent to send Apache Mesos metrics and logs to your Grafana Cloud instance.\n\nClick Install to add this integration’s pre-built dashboard and alerts to your Grafana Cloud instance, and you can start monitoring your Apache Mesos setup.\n\nConfiguration snippets for Grafana Alloy\n\nAdvanced mode\n\nThe following snippets provide examples to guide you through the configuration process.\n\nTo instruct Grafana Alloy to scrape your Apache Mesos instances, manually copy and append the snippets to your alloy configuration file, then follow subsequent instructions.\n\nAdvanced metrics snippets\n\nalloy\n\ndiscovery.relabel \"metrics_integrations_integrations_apache_mesos\" { targets = [{ __address__ = \"<node-name>:<node-exporter-port>\", }] rule { target_label = \"mesos_cluster\" replacement = \"<your-cluster-name>\" } rule { target_label = \"instance\" replacement = constants.hostname } } prometheus.scrape \"metrics_integrations_integrations_apache_mesos\" { targets = discovery.relabel.metrics_integrations_integrations_apache_mesos.output forward_to = [prometheus.remote_write.metrics_service.receiver] job_name = \"integrations/apache-mesos\" }\n\nTo monitor your Apache Mesos instance, you must use a discovery.relabel component to discover your Apache Mesos Prometheus endpoint and apply appropriate labels, followed by a prometheus.scrape component to scrape it.\n\nConfigure the following properties within each discovery.relabel component:\n\n__address__: The address to your Apache Mesos Prometheus metrics endpoint.\n\ninstance label: constants.hostname sets the instance label to your Grafana Alloy server hostname. If that is not suitable, change it to a value uniquely identifies this Apache Mesos instance. Make sure this label value is the same for all telemetry data collected for this instance.\n\nmesos_cluster: The mesos_cluster label to group your Apache Mesos instances within a cluster. Set the same value for all nodes within your cluster.\n\nIf you have multiple Apache Mesos servers to scrape, configure one discovery.relabel for each and scrape them by including each under targets within the prometheus.scrape component.\n\nAdvanced logs snippets\n\nlinux\n\nalloy\n\nlocal.file_match \"logs_integrations_integrations_apache_mesos\" { path_targets = [{ __address__ = \"localhost\", __path__ = \"<mesos-node-log-dir>\", instance = constants.hostname, job = \"integrations/apache-mesos\", mesos_cluster = \"<mesos-cluster-name>\", }] } loki.source.file \"logs_integrations_integrations_apache_mesos\" { targets = local.file_match.logs_integrations_integrations_apache_mesos.targets forward_to = [loki.write.grafana_cloud_loki.receiver] }\n\nTo monitor your Apache Mesos instance logs, you will use a combination of the following components:\n\nlocal.file_match defines where to find the log file to be scraped. Change the following properties according to your environment:\n\n__address__: The Apache Mesos instance address\n\n__path__: The path to the log file. It must be the log dir specified in the --log_dir= depending on your node and OS as instructed when enabling logs for Apache Mesos whose default values would be either:\n\n/var/log/mesos/master/ for a master node on Linux\n\nC:\\Program Files\\mesos\\master\\ for a master node on Windows\n\n/var/log/mesos/agent/ for an agent node on Linux\n\nC:\\Program Files\\mesos\\agent\\ for an agent node on Windows\n\ninstance label: constants.hostname sets the instance label to your Grafana Alloy server hostname. If that is not suitable, change it to a value uniquely identifies this Apache Mesos instance. Make sure this label value is the same for all telemetry data collected for this instance.\n\nmesos_cluster: The mesos_cluster label to group your Apache Mesos instances within a cluster. Set the same value for all nodes within your cluster.\n\nloki.source.file sends logs to Loki.\n\nwindows\n\nalloy\n\nlocal.file_match \"logs_integrations_integrations_apache_mesos\" { path_targets = [{ __address__ = \"localhost\", __path__ = \"<mesos-node-log-dir>\", instance = constants.hostname, job = \"integrations/apache-mesos\", mesos_cluster = \"<mesos-cluster-name>\", }] } loki.source.file \"logs_integrations_integrations_apache_mesos\" { targets = local.file_match.logs_integrations_integrations_apache_mesos.targets forward_to = [loki.write.grafana_cloud_loki.receiver] }\n\nTo monitor your Apache Mesos instance logs, you will use a combination of the following components:\n\nlocal.file_match defines where to find the log file to be scraped. Change the following properties according to your environment:\n\n__address__: The Apache Mesos instance address\n\n__path__: The path to the log file. It must be the log dir specified in the --log_dir= depending on your node and OS as instructed when enabling logs for Apache Mesos whose default values would be either:\n\n/var/log/mesos/master/ for a master node on Linux\n\nC:\\Program Files\\mesos\\master\\ for a master node on Windows\n\n/var/log/mesos/agent/ for an agent node on Linux\n\nC:\\Program Files\\mesos\\agent\\ for an agent node on Windows\n\ninstance label: constants.hostname sets the instance label to your Grafana Alloy server hostname. If that is not suitable, change it to a value uniquely identifies this Apache Mesos instance. Make sure this label value is the same for all telemetry data collected for this instance.\n\nmesos_cluster: The mesos_cluster label to group your Apache Mesos instances within a cluster. Set the same value for all nodes within your cluster.\n\nloki.source.file sends logs to Loki.\n\nGrafana Agent static configuration (deprecated)\n\nThe following section shows configuration for running Grafana Agent in static mode which is deprecated. You should use Grafana Alloy for all new deployments.\n\nBefore you begin\n\nIn order for the integration to work properly, you must enable logs and set up the Prometheus Mesos Exporter on your primary host. In a production environment, Apache Mesos master and agent node are ran separately for better resource management, availability and fault tolerance. Each master or agent node has their own log path and requires a prometheus exporter installation.\n\nEnable logs for Apache Mesos\n\nUsers must enable Apache Mesos Logs in order for log panels on the dashboard to populate. Logs are added to either the Mesos master or agent node by specifying the log directory using --log_dir=. This path will also differ depending on if you are running Linux or Windows but is required so that Promtail can ingest the logs.\n\nRun the Mesos master with the following flags:\n\n--log_dir=/var/log/mesos/master/ on Linux masters\n\nâ-log_dir=C:\\Program Files\\mesos\\master\\ on Windows masters\n\nRun the Mesos agent with the following flags:\n\n--log_dir=/var/log/mesos/agent/ on Linux agents\n\nâ-log_dir=C:\\Program Files\\mesos\\agent\\ on Windows agents\n\nSet up Prometheus Exporter for Apache Mesos\n\nThe Prometheus Mesos Exporter v1.1.2 must be setup with a Prometheus configuration file specifying a master or agent node. Run the Mesos exporter master process with mesos_exporter -master http://localhost:5050 and run the Mesos exporter for the agent process with mesos_exporter -slave http://localhost:5051. For more information on how to configure the Prometheus exporter, please refer to Prometheus configuration documentation.\n\nTo validate that the Prometheus exporter is working correctly, curl the master Prometheus metrics endpoint on the port 9105:\n\nsh\n\ncurl http://localhost:9105/metrics\n\nInstall Apache Mesos integration for Grafana Cloud\n\nIn your Grafana Cloud stack, click Connections in the left-hand menu.\n\nFind Apache Mesos and click its tile to open the integration.\n\nReview the prerequisites in the Configuration Details tab and set up Grafana Agent to send Apache Mesos metrics and logs to your Grafana Cloud instance.\n\nClick Install to add this integration’s pre-built dashboard and alerts to your Grafana Cloud instance, and you can start monitoring your Apache Mesos setup.\n\nPost-install configuration for the Apache Mesos integration\n\nAfter enabling Apache Mesos logs and the Prometheus Mesos Exporter, instruct the Grafana Agent to scrape your Apache Mesos cluster.\n\nMake sure to change targets in the snippet according to your environment master or agent name. The default port for Apache Mesos master targets is 9105.\n\nIf you want to show logs and metrics signals correlated in your dashboards as a single pane of glass, ensure the following:\n\njob and mesos_cluster label values must match for the Apache Mesos metrics and logs scrape config in your agent configuration file.\n\njob must be set to integrations/apache-mesos Please replace the default hostname for the master or agent Mesos node name and port according to your environment manually.\n\nmesos_cluster must be the value that identifies the Apache Mesos cluster master or agent it belongs to.\n\nmesos-node-log-dir must be the log dir specified in the --log_dir= depending on your node and OS as instructed when enabling logs for Apache Mesos whose default values would be either:\n\n/var/log/mesos/master/ for a master node on Linux\n\nC:\\Program Files\\mesos\\master\\ for a master node on Windows\n\n/var/log/mesos/agent/ for an agent node on Linux\n\nC:\\Program Files\\mesos\\agent\\ for an agent node on Windows\n\nConfiguration snippets for Grafana Agent\n\nBelow metrics.configs.scrape_configs, insert the following lines and change the URLs according to your environment:\n\nyaml\n\n- job_name: integrations/apache-mesos metrics_path: \"/metrics\" static_configs: # node refers to either the master or agent - targets: ['<node-name>:<node-exporter-port>'] relabel_configs: - target_label: mesos_cluster replacement: '<your-cluster-name>' - target_label: instance replacement: '<your-instance-name>'\n\nBelow logs.configs.scrape_configs, insert the following lines according to your environment.\n\nyaml\n\n- job_name: integrations/apache-mesos static_configs: - targets: [localhost] labels: job: integrations/apache-mesos instance: '<your-instance-name>' mesos_cluster: '<mesos-cluster-name>' # See Apache Mesos pre instructions for node and OS specific log directory # https://grafana.com/docs/grafana-cloud/data-configuration/integrations/integration-reference/integration-apache-mesos/#enable-logs-for-apache-mesos __path__: '<mesos-node-log-dir>'\n\nFull example configuration for Grafana Agent\n\nRefer to the following Grafana Agent configuration for a complete example that contains all the snippets used for the Apache Mesos integration. This example also includes metrics that are sent to monitor your Grafana Agent instance.\n\nyaml\n\nintegrations: prometheus_remote_write: - basic_auth: password: <your_prom_pass> username: <your_prom_user> url: <your_prom_url> agent: enabled: true relabel_configs: - action: replace source_labels: - agent_hostname target_label: instance - action: replace target_label: job replacement: \"integrations/agent-check\" metric_relabel_configs: - action: keep regex: (prometheus_target_sync_length_seconds_sum|prometheus_target_scrapes_.*|prometheus_target_interval.*|prometheus_sd_discovered_targets|agent_build.*|agent_wal_samples_appended_total|process_start_time_seconds) source_labels: - __name__ # Add here any snippet that belongs to the `integrations` section. # For a correct indentation, paste snippets copied from Grafana Cloud at the beginning of the line. logs: configs: - clients: - basic_auth: password: <your_loki_pass> username: <your_loki_user> url: <your_loki_url> name: integrations positions: filename: /tmp/positions.yaml scrape_configs: # Add here any snippet that belongs to the `logs.configs.scrape_configs` section. # For a correct indentation, paste snippets copied from Grafana Cloud at the beginning of the line. - job_name: integrations/apache-mesos static_configs: - targets: [localhost] labels: job: integrations/apache-mesos instance: '<your-instance-name>' mesos_cluster: '<mesos-cluster-name>' # See Apache Mesos pre instructions for node and OS specific log directory # https://grafana.com/docs/grafana-cloud/data-configuration/integrations/integration-reference/integration-apache-mesos/#enable-logs-for-apache-mesos __path__: '<mesos-node-log-dir>' metrics: configs: - name: integrations remote_write: - basic_auth: password: <your_prom_pass> username: <your_prom_user> url: <your_prom_url> scrape_configs: # Add here any snippet that belongs to the `metrics.configs.scrape_configs` section. # For a correct indentation, paste snippets copied from Grafana Cloud at the beginning of the line. - job_name: integrations/apache-mesos metrics_path: \"/metrics\" static_configs: # node refers to either the master or agent - targets: ['<node-name>:<node-exporter-port>'] relabel_configs: - target_label: mesos_cluster replacement: '<your-cluster-name>' - target_label: instance replacement: '<your-instance-name>' global: scrape_interval: 60s wal_directory: /tmp/grafana-agent-wal\n\nDashboards\n\nThe Apache Mesos integration installs the following dashboards in your Grafana Cloud instance to help monitor your system.\n\nApache Mesos overview\n\nApache Mesos overview dashboard part 1\n\nApache Mesos overview dashboard part 2\n\nAlerts\n\nThe Apache Mesos integration includes the following useful alerts:\n\nAlertDescriptionApacheMesosHighMemoryUsageWarning: There is a high memory usage for the cluster.ApacheMesosHighDiskUsageCritical: There is a high disk usage for the cluster.ApacheMesosUnreachableTasksWarning: There are an unusually high number of unreachable tasks.ApacheMesosNoLeaderElectedCritical: There is currently no cluster coordinator.ApacheMesosInactiveAgentsWarning: There are currently inactive agent clients.\n\nMetrics\n\nThe most important metrics provided by the Apache Mesos integration, which are used on the pre-built dashboard and Prometheus alerts, are as follows:\n\nmesos_exporter_build_info\n\nmesos_master_allocation_run_latency_ms\n\nmesos_master_allocation_run_ms\n\nmesos_master_allocation_run_ms_count\n\nmesos_master_cpus\n\nmesos_master_disk\n\nmesos_master_elected\n\nmesos_master_event_queue_dispatches\n\nmesos_master_event_queue_length\n\nmesos_master_gpus\n\nmesos_master_mem\n\nmesos_master_messages\n\nmesos_master_slaves_state\n\nmesos_master_task_states_current\n\nmesos_master_uptime_seconds\n\nmesos_registrar_log_recovered\n\nmesos_registrar_state_fetch_ms\n\nmesos_registrar_state_store_ms\n\nmesos_slave_disk_bytes\n\nmesos_slave_disk_used_bytes\n\nmesos_slave_mem_bytes\n\nmesos_slave_mem_used_bytes\n\nup\n\nChangelog\n\nmd\n\n# 1.0.0 - July 2024 * Add Kubernetes as a supported platform using Grafana Alloy # 0.0.3 - September 2023 * New Filter Metrics option for configuring the Grafana Agent, which saves on metrics cost by dropping any metric not used by this integration. Beware that anything custom built using metrics that are not on the snippet will stop working. * New hostname relabel option, which applies the instance name you write on the text box to the Grafana Agent configuration snippets, making it easier and less error prone to configure this mandatory label. # 0.0.2 - August 2023 * Add regex filter for logs datasource # 0.0.1 - June 2023 * Initial release\n\nCost\n\nBy connecting your Apache Mesos instance to Grafana Cloud, you might incur charges. To view information on the number of active series that your Grafana Cloud account uses for metrics included in each Cloud tier, see Active series and dpm usage and Cloud tier pricing."
    }
}