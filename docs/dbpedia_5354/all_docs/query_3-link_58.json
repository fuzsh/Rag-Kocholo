{
    "id": "dbpedia_5354_3",
    "rank": 58,
    "data": {
        "url": "https://cloud.google.com/iam/docs/service-account-overview",
        "read_more_link": "",
        "language": "en",
        "title": "Service accounts overview",
        "top_image": "https://cloud.google.com/_static/cloud/images/social-icon-google-cloud-1200-630.png",
        "meta_img": "https://cloud.google.com/_static/cloud/images/social-icon-google-cloud-1200-630.png",
        "images": [
            "https://www.gstatic.com/devrel-devsite/prod/v4513918f2560a1fecca3cf64c2df2e8b263c90b977664567b98ccb062542a623/cloud/images/cloud-logo.svg",
            "https://www.gstatic.com/devrel-devsite/prod/v4513918f2560a1fecca3cf64c2df2e8b263c90b977664567b98ccb062542a623/cloud/images/cloud-logo.svg"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "Conceptual and lifecycle information about IAM service accounts.",
        "meta_lang": "en",
        "meta_favicon": "https://www.gstatic.com/devrel-devsite/prod/v4513918f2560a1fecca3cf64c2df2e8b263c90b977664567b98ccb062542a623/cloud/images/favicons/onecloud/favicon.ico",
        "meta_site_name": "Google Cloud",
        "canonical_link": "https://cloud.google.com/iam/docs/service-account-overview",
        "text": "This page explains what service accounts are and describes important considerations for managing your service accounts at each stage of their lifecycle.\n\nWhat are service accounts?\n\nA service account is a special kind of account typically used by an application or compute workload, such as a Compute Engine instance, rather than a person. A service account is identified by its email address, which is unique to the account.\n\nApplications use service accounts to make authorized API calls by authenticating as either the service account itself, or as Google Workspace or Cloud Identity users through domain-wide delegation. When an application authenticates as a service account, it has access to all resources that the service account has permission to access.\n\nThe most common way to let an application authenticate as a service account is to attach a service account to the resource running the application. For example, you can attach a service account to a Compute Engine instance so that applications running on that instance can authenticate as the service account. Then, you can grant the service account IAM roles to let the service account—and, by extension, applications on the instance—access Google Cloud resources.\n\nThere are other ways to let applications to authenticate as service accounts besides attaching a service account. For example, you could set up Workload Identity Federation to allow external workloads to authenticate as service accounts, or create a service account key and use it in any environment to obtain OAuth 2.0 access tokens.\n\nTo learn more about service account authentication for applications, see Overview of identities for workloads.\n\nPrincipals, such as users and other service accounts, can also authenticate as service accounts. For more information, see Service account impersonation on this page.\n\nTypes of service accounts\n\nIn Google Cloud, there are several different types of service accounts:\n\nUser-managed service accounts: Service accounts that you create and manage. These service accounts are often used as identities for workloads.\n\nDefault service accounts: User-managed service accounts that are created automatically when you enable certain Google Cloud services. You are responsible for managing these service accounts.\n\nService agents: Service accounts that are created and managed by Google Cloud, and that allow services to access resources on your behalf.\n\nTo learn more about the different types of service accounts, see Types of service accounts.\n\nService account credentials\n\nApplications and principals authenticate as a service account by doing one of the following:\n\nObtaining short-lived credentials. In many cases, such as attached service accounts and commands using the gcloud CLI --impersonate-service-account flag, these credentials are obtained automatically—you don't need to create or manage them yourself.\n\nUsing a service account key to sign a JSON Web Token (JWT) and exchanging it for an access token. Because service account keys are a security risk if not managed correctly, you should choose a more secure alternative to service account keys whenever possible.\n\nTo learn more about service account authentication, see Service account credentials.\n\nService account impersonation\n\nWhen an authenticated principal, such as a user or another service account, authenticates as a service account to gain the service account's permissions, it's called impersonating the service account. Impersonating a service account lets an authenticated principal access whatever the service account can access. Only authenticated principals with the appropriate permissions can impersonate service accounts.\n\nImpersonation is useful when you want to change a user's permissions without changing your Identity and Access Management (IAM) policies. For example, you can use impersonation to temporarily grant a user elevated access, or to test whether a specific set of permissions is sufficient for a task. You can also use impersonation to locally develop applications that can only run as a service account, or to authenticate applications that run outside of Google Cloud.\n\nTo learn more about service account impersonation, see Service account impersonation.\n\nService accounts and Google Workspace domains\n\nService accounts do not belong to your Google Workspace domain, unlike user accounts. If you share Google Workspace assets, like documents or events, with your entire Google Workspace domain, they are not shared with service accounts. Similarly, Google Workspace assets created by a service account are not created in your Google Workspace domain. As a result, your Google Workspace and Cloud Identity admins can't own or manage these assets.\n\nService account permissions\n\nService accounts are principals. This means that you can grant service accounts access to Google Cloud resources. For example, you could grant a service account the Compute Admin role (roles/compute.admin) on a project. Then, the service account would be able to manage Compute Engine resources in that project.\n\nHowever, service accounts are also resources. This means that you can give other principals permission to access the service account. For example, you could grant a user the Service Account User role (roles/iam.serviceAccountUser) on a service account to let the user attach that service account to resources. Or, you could grant a user the Service Account Admin role (roles/iam.serviceAccountAdmin) to let the user do things like view, edit, disable, and delete the service account.\n\nThe following sections discuss how to manage service accounts as principals and as resources.\n\nService accounts as principals\n\nBecause service accounts are principals, you can let a service account access resources in your project by granting it a role, just like you would for any other principal. For example, if you want to let your application's service account access objects in a Cloud Storage bucket, you can grant the service account the Storage Object Viewer role (roles/storage.objectViewer) on the bucket.\n\nAs with all types of principals, you should only give the service account the minimum set of permissions required to achieve its goal.\n\nAs with other principals, you can add service accounts to a Google group, then grant roles to the group. However, adding service accounts to groups is not a best practice. Service accounts are used by applications, and each application is likely to have its own access requirements.\n\nTo learn how to grant roles to principals, including service accounts, see Manage access to projects, folders, and organizations.\n\nService accounts as resources\n\nService accounts are also resources that can have their own allow policies. As a result, you can let other principals access a service account by granting them a role on the service account, or on one of the service account's parent resources. For example, to let a user impersonate a service account, you could grant the user the Service Account Token Creator role (roles/iam.serviceAccountTokenCreator) on the service account.\n\nWhen granting a role that allows a user to impersonate a service account, keep in mind that the user can access all the resources that the service account can access. Use caution when letting users impersonate highly privileged service accounts, such as the Compute Engine and App Engine default service accounts.\n\nFor more information on the roles that you can grant to principals on service accounts, see Service account permissions.\n\nTo learn how to grant a principal a role on a service account, see Manage access to service accounts.\n\nService account lifecycle\n\nAs you manage your projects, you'll likely create, manage, and delete many different service accounts. This section describes key considerations for managing your service accounts at the various stages of their lifecycle.\n\nWhere to create service accounts\n\nEach service account is located in a project. After you create a service account, you cannot move it to a different project.\n\nThere are a few ways to organize your service accounts into projects:\n\nCreate service accounts and resources in the same project.\n\nThis approach makes it easier to get started with service accounts. However, it can be difficult to keep track of your service accounts when they are spread across many projects.\n\nCentralize service accounts in separate projects.\n\nThis approach puts all of the service accounts for your organization in a small number of projects, which can make the service accounts easier to manage. However, it requires extra setup if you attach service accounts to resources in other projects, which allows those resources to use the service account as their identity.\n\nWhen a service account is in one project, and it accesses a resource in another project, you usually must enable the API for that resource in both projects. For example, if you have a service account in the project my-service-accounts and a Cloud SQL instance in the project my-application, you must enable the Cloud SQL API in both my-service-accounts and my-application.\n\nBy default, you can create up to 100 service accounts in a project. If you need to create additional service accounts, request a quota increase.\n\nTo learn how to create a service account, see Create service accounts.\n\nPrevent the creation of service accounts\n\nTo better control where service accounts are created, you might want to prevent service account creation in some projects in your organization.\n\nYou can prevent the creation of service accounts by enforcing the constraints/iam.disableServiceAccountCreation organization policy constraint in an organization, project, or folder.\n\nBefore you enforce this constraint, consider the following limitations:\n\nIf you enforce this constraint in a project, or in all projects within an organization, then some Google Cloud services cannot create default service accounts. As a result, if the project runs workloads that need to authenticate as a service account, the project might not contain a service account that the workload can use.\n\nTo address this issue, you can enable service account impersonation across projects. When you enable this feature, you can create service accounts in a centralized project, then attach the service accounts to resources in other projects. Workloads running on those resources can use the attached service accounts to authenticate, making the default service accounts unnecessary.\n\nSome features, such as Workload Identity Federation, require you to create service accounts.\n\nIf you don't use Workload Identity Federation, consider using organization policy constraints to block federation from all identity providers.\n\nKeep track of service accounts\n\nOver time, as you create more and more service accounts, you might lose track of which service account is used for what purpose.\n\nThe display name of a service account is a good way to capture additional information about the service account, such as the purpose of the service account or a contact person for the account. For new service accounts, you can populate the display name when creating the service account. For existing service accounts use the serviceAccounts.update() method to modify the display name.\n\nUse service accounts with Compute Engine\n\nCompute Engine instances need to run as service accounts to have access to other Google Cloud resources. To help secure your Compute Engine instances, consider the following:\n\nYou can create instances in the same project with different service accounts. To change the service account of an instance after it's created, use the instances.setServiceAccount method.\n\nTo set up authorization for attached service accounts, you need to configure access scopes in addition to configuring IAM roles.\n\nSince instances depend on their service accounts to have access to Google Cloud resources, avoid deleting service accounts when they are still used by running instances.\n\nTo learn more about using service accounts with Compute Engine, see Service accounts in the Compute Engine documentation.\n\nIdentify unused service accounts\n\nAfter some time, you might have service accounts in your projects that you no longer use.\n\nUnused service accounts create an unnecessary security risk, so we recommend disabling unused service accounts, then deleting the service accounts when you are sure that you no longer need them. You can use the following methods to identify unused service accounts:\n\nService account insights tell you which service accounts in your project have not authenticated in the past 90 days.\n\nActivity Analyzer lets you check when a service account or key was last used.\n\nYou can also use service account usage metrics to track service account and key usage generally.\n\nIf you are an Security Command Center Premium customer, you can use Event Threat Detection to get a notification when a dormant service account triggers an action. Dormant service accounts are service accounts that have been inactive for more than 180 days. After a service account is used, it is no longer dormant.\n\nDelete service accounts\n\nBefore deleting a service account, disable the service account to make sure it isn't necessary. Disabled service accounts can be re-enabled if they are still in use.\n\nAfter you confirm that a service account isn't necessary, you can delete the service account.\n\nRecreate deleted service accounts\n\nIt is possible to delete a service account and then create a new service account with the same name.\n\nWhen you delete a service account, its role bindings are not immediately deleted. Instead, the role bindings list the service account with the prefix deleted:. For an example, see Policies with deleted principals.\n\nIf you create a new service account with the same name as a recently deleted service account, the old bindings may still exist; however, they will not apply to the new service account even though both accounts have the same email address. This behavior occurs because service accounts are given a unique ID within Identity and Access Management (IAM) at creation. Internally, all role bindings are granted using these IDs, not the service account's email address. Therefore, any role bindings that existed for a deleted service account do not apply to a new service account that uses the same email address.\n\nSimilarly, if you attach a service account to a resource, then delete the service account and create a new service account with the same name, the new service account will not be attached to the resource.\n\nTo prevent this unexpected behavior, consider using a new, unique name for every service account. Also, if you accidentally delete a service account, you can try to undelete the service account instead of creating a new service account.\n\nIf you cannot undelete the original service account, and you need to create a new service account with the same name and the same roles, you must grant the roles to the new service account. For details, see Policies with deleted principals.\n\nIf you also need the new service account to be attached to the same resources as the original service account, do one of the following:\n\nFor Compute Engine instances, you can change the service account that is attached to the instance to replace the original service account with the new service account.\n\nFor all other resources, you must delete the existing resource, then create a new resource of the same type and attach the new service account.\n\nWhat's next\n\nFind out how to create service accounts.\n\nGet best practices for working with service accounts.\n\nReview best practices for managing service account keys."
    }
}