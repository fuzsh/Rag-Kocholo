{
    "id": "dbpedia_509_3",
    "rank": 58,
    "data": {
        "url": "https://www.esri.com/arcgis-blog/products/arcgis-living-atlas/mapping/map-the-factors-stressing-your-community-with-an-index-map/",
        "read_more_link": "",
        "language": "en",
        "title": "Map the factors stressing your community with an index map",
        "top_image": "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/07/card.png",
        "meta_img": "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/07/card.png",
        "images": [
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Comparison-Values-1.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Finished-Map.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/100-Based-Index.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Full-Standard-Deviation-Bell-Curve_v1-1.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Index-colors-with-average_v2-1.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Real-World-1.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Five-Attributes.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Expression.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Color-Ramp.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Colors.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Arcade.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Thamatic-Map-Finished.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Houston-GIF.gif",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Group.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Blending-Buildings.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Layer-Behind-GIF.gif",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Show-in-Legend.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Basemap-GIF-2.gif",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Basemap.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/02/Histogram.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2020/05/SmallSquare_Lisa-465x465.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2022/06/Obesity-and-Diabetes-Rates-copy.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2019/07/card.png",
            "https://www.esri.com/arcgis-blog/wp-content/uploads/2020/06/ArcGISFieldMaps826.png"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [
            "Lisa Berry"
        ],
        "publish_date": "2022-07-06T16:15:56+00:00",
        "summary": "",
        "meta_description": "",
        "meta_lang": "en",
        "meta_favicon": "https://www.esri.com/content/dam/esrisites/en-us/common/favicon/esri-favicon-dark-32.png",
        "meta_site_name": "ArcGIS Blog",
        "canonical_link": "https://www.esri.com/arcgis-blog/products/arcgis-living-atlas/mapping/map-the-factors-stressing-your-community-with-an-index-map/",
        "text": "When mapping demographic factors about our community, there are sometimes multiple things we want to visualize within a single map, such as poverty, age, access to internet, etc. A map of each of these topics is a great place to start, highlighting areas of significantly low or high figures. The areas where these topics intersect is equally interesting, and often reveals things that cannot be seen in three individual maps.\n\nWith an index map, we can bring multiple topics into a single map to see where the patterns converge into a overarching pattern. Visually comparing multiple factors in multiple maps has value on its own, but an index allows us to combine the patterns to determine where to dedicate resources in a more directed manner. An index creates a composite score of many attributes in order to map an abstract concept like well-being, stress, vulnerability, community resilience, or in this example, risk during disasters.\n\nFor example, if the city of Houston, TX wanted to explore the areas at the highest risk during a natural disaster, they would potentially be interested in multiple factors such as the households living in poverty, the households without a vehicle or internet or health insurance, or the population part of dependent age groups (youth and elderly). To create a holistic view of all five factors, they can use a stress index to compare each factor to the US average, and therefore see where there is the most potential need during an emergency.\n\nThe key behind this index map technique is the fact that the index allows us to compare against an important value/threshold. By comparing each factor against something meaningful, the map highlights the areas with overall high stress on the community, and areas of need. The areas in purple and red in this map represent the areas with the highest stress factors, making it easy to immediately identify areas of need:\n\nOur index map uses the national average as a basis of comparison for each stress factor, but it would also be valid to use a value such as the state/county average, or a policy-driven threshold/goal. The map also uses a few optional cartographic techniques which add a human context, which are explained below.\n\nFor more context and information about index mapping, visit this blog by Jim Herries.\n\nThis blog will show how to combine multiple demographic attributes into an index using Arcade, which helps us determine where the needs within our community are the greatest. The major steps are:\n\nWhat is an index?\n\nWhat you’ll need\n\nBuild the index map in 4 steps\n\nCreate context in your map\n\nPresent your map\n\nMake it your own\n\nWhat is an index?\n\nThe example above is just one example of an index map, as there are many other ways to use indexing to compare statistical data. This blog will walk you through how to recreate this version. There are many valid ways to create indexed approaches, but the fundamental similarly is that a comparison is being made between a feature on the map against something else (other features, an average value, other geographies, etc). Similar to the Esri Market Potential Index, this index uses a value of 100 to represent an “average” feature on the map in comparison to the US figure.\n\nAs mentioned before, this indexing technique uses a point comparison like the national, state, or county average to indicate areas in the community facing above or below-average stresses. You can also use a threshold or goal for each factor to gauge if an area is doing better or worse than an expectation or policy change. By comparing against a threshold, you’ll get values that are +/- 100, where 100 represents the most “average” area. This comparison also helps us better understand where there are areas far above, or far below the average.\n\nEach factor is compared against its threshold and given an average. Then, all the factor indexes are averaged to create an overall index. This overall index is what allows us to explore multiple attributes from the data at once, and helps us understand how the area on the map compares to the average/threshold.\n\nThe breakpoints used in our example assume that the averaged values mimic a normal bell curve. Since 100 is our central normalized value, you can think of the breakpoints as theoretical standard deviations. Each breakpoints shows you a statistically significant pattern in comparison to all other values:\n\nThis index approach helps us better understand if a factor is above or below a comparison value, and by how much. Another way to think about each factor’s index score is how much higher or lower it is than the comparison value. Values that are similar to the average are closer to 100, while, a value of 120 represents a value 20% higher than the comparison value. A value of 80 would be 20% less than the comparison value.\n\nFor our map, we will use the following breakpoints based on general principals from the bell curve above:\n\nTo convert these numbers into understandable words, our example highlights areas of high or low stress:\n\nNow that we have an understanding of the index values and breakpoints, let’s build the map.\n\nWhat you’ll need:\n\nA hosted data layer with all the attributes you want to include in your overall index. If they are not included as a percentage, ensure the layer contains the proper normalization denominator such as total population. Need data? Consider using one of the Census ACS layers or CDC layers from ArcGIS Living Atlas of the World.\n\nFrom that layer, find the attributes you want to include in your overall index. If they are not already a percentage, find the proper normalization denominator. Keep in mind that total population is not always the correct denominator. For example, if your factor is “Population 25+ with a high school education”, then the proper denominator would be “Population 25+”. To see examples, check out this link or this link.\n\nFinally, find the figures you want to use as a point of comparison. For example, the US average, state average, or county average. Get these from the source, like from data.census.gov, the CDC website, etc. If you are working with policy-related topics, use the goal or threshold required by the policy.\n\nBuild the Index map\n\nThis map was built using features specific to the new Map Viewer in ArcGIS Online and the new Arcade pop-up elements (learn more here and here). There are four major steps to create the fundamental map:\n\n1. Start the map\n\nStart with a neutral basemap like the Light Gray Canvas, Dark Gray Canvas, Human Geography Basemap, or Human Geography Dark Basemap. Our example uses the Human Geography Dark basemap because it layers the details such as roads above the data to create key context about where humans live and move through space. Add your data layer into the map for now. We will start configuring the map after we build our Arcade expressions.\n\n2. Build the basics of the index into an Arcade list\n\nThis map was built using the Arcade expression language included in ArcGIS. However, no arcade background is needed to create this map. You’ll need the attribute name, each corresponding comparison value, and a label to use in the pop-up. From these three things, you’ll get a pop-up summarizing the information for each factor as well as an overall stress index.\n\nYou can use the following snippet as your guide (note that you can use more or less than 5 attributes):\n\nvar fields = [\n\n{ value: $feature[\"field1\"], comparison: 1, alias: \"Attribute Name 1\" },\n\n{ value: $feature[\"field2\"], comparison: 2, alias: \"Attribute Name 2\" },\n\n{ value: $feature[\"field3\"], comparison: 3, alias: \"Attribute Name 3\" },\n\n{ value: $feature[\"field4\"], comparison: 4, alias: \"Attribute Name 4\" },\n\n{ value: $feature[\"field5\"], comparison: 5, alias: \"Attribute Name 5\" }\n\n];\n\nFor our Houston example, there are attributes used in the index, along with how they would look in the Arcade snippet:\n\nvar fields = [\n\n{ value: $feature[\"B17020_calc_pctPovE\"], comparison: 13, alias: \"Poverty rate\" },\n\n{ value: $feature[\"B08201_calc_pctNoVehE\"], comparison: 9, alias: \"Households without access to a vehicle\" },\n\n{ value: $feature[\"B28002_calc_pctNoIntE\"], comparison: 14, alias: \"Households without access to internet\" },\n\n{ value: $feature[\"B27010_calc_pctNoInsE\"], comparison: 9, alias: \"Households without health insurance\" },\n\n{ value: $feature[\"B01001_calc_pctDependE\"], comparison: 38, alias: \"Dependent population (Ages <18 or 65+)\" } ];\n\nBuild out this list using something like Word, Notepad, Notepad++ or any text editor for now.\n\n3. Add the fields list into these two Arcade templates:\n\nOpen the following templates in a text editor and insert the fields list you just generated. Replace “fields = []” with the list you created in the previous step:\n\nSymbology\n\nPop-up\n\nFor the pop-up, also make sure to specify the point of comparison. By default it says “US Average”, but change this if you are using a different reference value.\n\n4. Apply the two expressions into the map\n\nSymbology\n\nInstead of choosing a field from the data, choose +Expression to insert the symbology expression you built above.\n\nGo into the Types (unique symbols) options and order the resulting fields where the highest values are on top and the lowest are on bottom. Then, select the sequential categorical ramp highlighted in the image below.\n\nIf you’re having trouble getting the colors correct, you can also manually input the hex values:\n\nPop-up\n\nGo into the configure pop-ups toolbar and remove any other pop-up elements that might be there (but leave the title to explain the name of the feature). Choose Add content and select Arcade.\n\nName your expression something meaningful like “Stress Index” and remove any text within the expression box. Now, paste in the expression you created in the previous step and click OK.\n\nYour map should now look something like this:\n\nAs it is, this map is useful and informative because you gain insight about which factors are higher or lower in each area, while also gaining a understanding of the overall pattern. The next section covers additional techniques which can increase the value of your map to the end reader.\n\nBack to top of blog\n\nCreate Context in Your Map\n\nTo increase the value of your map and help create context around the subject, try these additional methods:\n\nBlend the pattern with human settlement or buildings\n\nAdministrative boundaries offer us a valuable starting point to understand spatial patterns, but they don’t truly represent where people live. To add context, we can see where people live with layers like this human settlement layer (works great for local or regional scales) or this building footprints layer (works great for neighborhood or citywide scales).\n\nTo accomplish this effect, add the layer of reference into your map and choose “Add to new group” from the layer dropdown properties.\n\nThen add your indexed layer (data layer) into the same group, ensuring that the reference layer is above the data layer in the list. Click on the layer to enable the properties panel from the right toolbar. Within the Appearance settings, choose the “Destination Atop” Blending mode. This will allow the reference layer to absorb the colors of the data layer, but only show them where people are:\n\nFor more inspiration, check out this blog by Jim Herries.\n\nAdd an additional layer of context\n\nIf you applied the technique above, you may notice large gaps in the map where people don’t live. This could confuse a map reader if they zoom in somewhere people don’t live. Instead of allowing the reader to think there is missing data, you can reinforce the polygon pattern we started with by showing it faintly behind the layer we just transformed in the previous step.\n\nAdd your data layer to the map below the grouped layer you just created, replicate the index symbology (you don’t need to do the popup) and add 50-60% transparency to the layer. To remove the duplicate legend, go into the properties panel on the right toolbar and toggle off the “Show in map legend” option so that they only see it once in the Legend:\n\nTo learn more about applying this technique, check out this blog.\n\nBlend with terrain\n\nIf you live in an area with any terrain, this can have a huge impact on where people live. Like the technique used before, we can use a blending mode to add terrain into our map to help create context.\n\nTo apply this technique to our map, go into the current basemap layers by navigating from the Basemap option on the left toolbar. Choose +Add layer, and search from Living Atlas instead of My Content. Find the World Hillshade (Dark) layer and add it into your basemap layers. Ensure it is the top “Base” layer (not a reference layer). Select the World Hillshade (Dark) layer to enable the layer properties panel on the right toolbar. Within Appearance, change the Blending mode to “Soft Light” to blend the basemap with the other map layers.\n\nTo apply this technique with a lighter basemap, use the “World Hillshade” layer with the “Multiply” blending mode instead.\n\nFor more information about blending modes, check out this blog by Mark Harrower.\n\nTo see what this final map would look like, visit the live map here.\n\nBack to top of blog\n\nPresent your map\n\nNow that you’ve created a beautiful and informative map for your audience you can use one of many applications to showcase the results. By creating an app, you provide the reader a way to interact with the map and help with decision support. For example:\n\nInstant Apps like the Media Map, Minimalist, or Sidebar allow the map to stand on its own and allow the reader to focus on the content rather than navigate an interface. These are great when working with non-GIS audiences who need answers quickly, such as policymakers.\n\nArcGIS StoryMaps allow you to tell a narrative about the data and provide context for the topics included in the index. These are a great tool when advocating for change, especially with a broader audience who requires additional context.\n\nArcGIS Dashboards allow you to summarize key information into infographics, allowing the map reader to explore the data in new ways such as charts and indicators. These are valuable if your audience is involved in decision support.\n\nArcGIS Experience Builder helps you create a custom view of the data and map in new and interesting ways.\n\nAnd more! There are countless ways to share your map using ArcGIS. Try other options such as a custom JavaScript app, ArcGIS Insights, and Infographics to customize the story for your needs.\n\nBack to top of blog\n\nMake it your own\n\nThis blog provides a plug-and-play example, but with some edits to the Arcade expressions and the map, you can customize the symbology and pop-up to meet your mapping needs. There are many ways to visualize an index, and this method can be adjusted to use other methods.\n\nA few examples of what you could do to customize your index map:\n\nTry different colors on your map if other ramps are more suitable for your project. You can easily adjust the hex values within the expression by changing them in the “calcIndexHex” function. Arcade does the rest!\n\nIf the breakpoints used in this example don’t suit your needs, use different breakpoints by adjusting the breaks. In the symbology, make this change in the indexText variable. In the pop-up, make this change in the calcIndexText and calcIndexHex functions.\n\nTry a weighted approach to assign importance to each factor. With some changes to the Arcade, you can multiple each factor’s overall index by a weight. Assign values between 0-1 to each factor, ensuring that all values add up to 1. This will help focus the map on topics more or less pertinent to your project.\n\nMake the pop-up your own. Adjust the formatting and text within the pop-up by making adjustments to the pop-up Arcade expression. Keep in mind that it builds the final pop-up with HTML, so make sure to test the HTML output.\n\nUse an unclassed visualization technique. Instead of returning text values, adjust the symbology Arcade to return the overall index value instead. Anchor your map around the value of 100 using the Above and Below theme to allow the colors to blend out more naturally than hard breakpoints.\n\nSummarize by another boundary. To see an example, check out the Arcade behind the Census Populated Places layer in this template map.\n\nTry using layer effects such as a drop shadow to emphasize the patterns in the map against the basemap.\n\nMake an index using just one attribute. Do this for each factor included in your overall index. Use these as additional context within a Portfolio or tabbed story.\n\nConsiderations\n\nThis approach is designed for attributes where higher numbers correlate to higher risk. This method as-is won’t accommodate areas where lower values represent higher risk, such as median household income. This would require some alterations to the Arcade.\n\nAnother consideration is that the statistics for each datasets and attribute will have a different statistical skew. When we look at the histogram for the example above, the data has a skew toward the lower values. This may impact the approach we use to classify our map:\n\nThis is one example of why you might customize the map to your purposes.\n\nAdditional Resources"
    }
}