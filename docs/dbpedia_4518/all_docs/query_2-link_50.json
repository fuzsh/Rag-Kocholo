{
    "id": "dbpedia_4518_2",
    "rank": 50,
    "data": {
        "url": "https://www.analog.com/en/resources/analog-dialogue/articles/uart-a-hardware-communication-protocol.html",
        "read_more_link": "",
        "language": "en",
        "title": "UART: A Hardware Communication Protocol Understanding Universal Asynchronous Receiver/Transmitter",
        "top_image": "",
        "meta_img": "",
        "images": [
            "https://assets2.analog.com/cms-assets/images/images/AD_Logo_Large.png",
            "https://www.analog.com/en/_/media/facebook-circle.png?rev=3e6d8dc4977948c79087259d2c163ed1&sc_lang=en",
            "https://assets2.analog.com/cms-assets/images/images/add.svg",
            "https://assets2.analog.com/cms-assets/images/images/myAnalog-logo.svg",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-01.svg?w=435",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-01.svg?la=en&rev=a39d7f916b404552967cc0579b7c0639",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-02.svg?w=435",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-02.svg?la=en&rev=7d55981f85ba4f1fb8f2c41635303994",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-03.svg?w=435",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-03.svg?la=en&rev=ad33a0f741fd40a79887152fcf0b7944",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-04.jpg?w=435",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-04.jpg?la=en&rev=df9615d583d64c17827afcf06fd6d9b7",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-05.jpg?w=435",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-05.jpg?la=en&w=350&rev=3f3178d807ae4e9c8b54254f79ea36a1",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-06.jpg?w=435",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-06.jpg?la=en&rev=53995cf0f1bb4ba1aaf08826ac18b578",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-07.jpg?w=435",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-07.jpg?la=en&rev=2c2ed3f89e454d129635d102525093d8",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-08.svg?w=435",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-08.svg?la=en&rev=c59a2416aafc4d4e90a67342501ae87a",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-09.svg?w=435",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-09.svg?la=en&rev=c27a80a3f299422c9d5302fe7ea747d2",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-10.svg?w=435",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-10.svg?la=en&rev=f6e0b8d1a0e2455dbcd3dbdfc32a8fac",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-11.svg?w=435",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-11.svg?la=en&rev=6154cc3cdd4f45938c386becd857a2f6",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-12.svg?w=435",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-12.svg?la=en&rev=66e9259bb6cd42228bd0fa339741e798",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-13.jpg?w=435",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-13.jpg?la=en&rev=58b75bf3217a4b419fa288e1fe08ea95",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-14.jpg?w=435",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-14.jpg?la=en&rev=68a3d9892a8948cb972496476fd3326a",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-15.jpg?w=435",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/volume-54/number-4/articles/uart-a-hardware-communication-protocol/335962-fig-15.jpg?la=en&rev=be494c977c1346b182c0b55cf430f00d",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/authors/eric-pena.jpg?rev=9d6f91baaf804e9cbc984211c1d60049",
            "https://www.analog.com/en/_/media/images/analog-dialogue/en/authors/mary-legaspi.jpg?rev=e615f4cb53f7405d81bc3e77e313e02b"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [
            "Eric Peňa"
        ],
        "publish_date": null,
        "summary": "",
        "meta_description": "UART or Universal asynchronous receiver-transmitter is one of the mostly used forms of device-to-device communication protocol. Given as the “universal” setup and most commonly used protocol, this doc",
        "meta_lang": "en",
        "meta_favicon": "https://assets2.analog.com/cms-assets/images/images/adi-favicon.svg",
        "meta_site_name": "",
        "canonical_link": "https://www.analog.com/en/resources/analog-dialogue/articles/uart-a-hardware-communication-protocol.html",
        "text": "Abstract\n\nUART, or universal asynchronous receiver-transmitter, is one of the most used device-to-device communication protocols. This article shows how to use UART as a hardware communication protocol by following the standard procedure.\n\nWhen properly configured, UART can work with many different types of serial protocols that involve transmitting and receiving serial data. In serial communication, data is transferred bit by bit using a single line or wire. In two-way communication, we use two wires for successful serial data transfer. Depending on the application and system requirements, serial communications needs less circuitry and wires, which reduces the cost of implementation.\n\nIn this article, we will discuss the fundamental principles when using UART, with a focus on packet transmission, standard frame protocol, and customized frame protocols that are value added features for security compliance when implemented, especially during code development. During product development, this document also aims to share some basic steps when checking on a data sheet for actual usage.\n\nAt the end of the article, the goal is for better understanding and compliance of UART standards to maximize the capabilities and application, particularly when developing new products.\n\n“The single biggest problem in communication is the illusion that it has taken place.”\n\n—George Bernard Shaw\n\nCommunication protocol plays a big role in organizing communication between devices. It is designed in different ways based on system requirements, and these protocols have a specific rule agreed upon between devices to achieve successful communication.\n\nEmbedded systems, microcontrollers, and computers mostly use UART as a form of device-to-device hardware communication protocol. Among the available communication protocols, UART uses only two wires for its transmitting and receiving ends.\n\nDespite being a widely used method of hardware communication protocol, it is not fully optimized all the time. Proper implementation of frame protocol is commonly disregarded when using the UART module inside the microcontroller.\n\nBy definition, UART is a hardware communication protocol that uses asynchronous serial communication with configurable speed. Asynchronous means there is no clock signal to synchronize the output bits from the transmitting device going to the receiving end.\n\nInterface\n\nThe two signals of each UART device are named:\n\nTransmitter (Tx)\n\nReceiver (Rx)\n\nThe main purpose of a transmitter and receiver line for each device is to transmit and receive serial data intended for serial communication.\n\nThe transmitting UART is connected to a controlling data bus that sends data in a parallel form. From this, the data will now be transmitted on the transmission line (wire) serially, bit by bit, to the receiving UART. This, in turn, will convert the serial data into parallel for the receiving device.\n\nThe UART lines serve as the communication medium to transmit and receive one data to another. Take note that a UART device has a transmit and receive pin dedicated for either transmitting or receiving.\n\nFor UART and most serial communications, the baud rate needs to be set the same on both the transmitting and receiving device. The baud rate is the rate at which information is transferred to a communication channel. In the serial port context, the set baud rate will serve as the maximum number of bits per second to be transferred.\n\nTable 1 summarizes what we must know about UART.\n\nTable 1. UART Summary Wires 2 Speed 9600, 19200, 38400, 57600, 115200, 230400, 460800, 921600, 1000000, 1500000 Methods of Transmission Asynchronous Maximum Number of Masters 1 Maximum Number of Slaves 1\n\nThe UART interface does not use a clock signal to synchronize the transmitter and receiver devices; it transmits data asynchronously. Instead of a clock signal, the transmitter generates a bitstream based on its clock signal while the receiver is using its internal clock signal to sample the incoming data. The point of synchronization is managed by having the same baud rate on both devices. Failure to do so may affect the timing of sending and receiving data that can cause discrepancies during data handling. The allowable difference of baud rate is up to 10% before the timing of bits gets too far off.\n\nData Transmission\n\nIn UART, the mode of transmission is in the form of a packet. The piece that connects the transmitter and receiver includes the creation of serial packets and controls those physical hardware lines. A packet consists of a start bit, data frame, a parity bit, and stop bits.\n\nStart Bit\n\nThe UART data transmission line is normally held at a high voltage level when it’s not transmitting data. To start the transfer of data, the transmitting UART pulls the transmission line from high to low for one (1) clock cycle. When the receiving UART detects the high to low voltage transition, it begins reading the bits in the data frame at the frequency of the baud rate.\n\nData Frame\n\nThe data frame contains the actual data being transferred. It can be five (5) bits up to eight (8) bits long if a parity bit is used. If no parity bit is used, the data frame can be nine (9) bits long. In most cases, the data is sent with the least significant bit first.\n\nParity\n\nParity describes the evenness or oddness of a number. The parity bit is a way for the receiving UART to tell if any data has changed during transmission. Bits can be changed by electromagnetic radiation, mismatched baud rates, or long-distance data transfers.\n\nAfter the receiving UART reads the data frame, it counts the number of bits with a value of 1 and checks if the total is an even or odd number. If the parity bit is a 0 (even parity), the 1 or logic-high bit in the data frame should total to an even number. If the parity bit is a 1 (odd parity), the 1 bit or logic highs in the data frame should total to an odd number.\n\nWhen the parity bit matches the data, the UART knows that the transmission was free of errors. But if the parity bit is a 0, and the total is odd, or the parity bit is a 1, and the total is even, the UART knows that bits in the data frame have changed.\n\nStop Bits\n\nTo signal the end of the data packet, the sending UART drives the data transmission line from a low voltage to a high voltage for one (1) to two (2) bit(s) duration.\n\nSteps of UART Transmission\n\nFirst: The transmitting UART receives data in parallel from the data bus.\n\nSecond: The transmitting UART adds the start bit, parity bit, and the stop bit(s) to the data frame.\n\nThird: The entire packet is sent serially starting from start bit to stop bit from the transmitting UART to the receiving UART. The receiving UART samples the data line at the preconfigured baud rate.\n\nFourth: The receiving UART discards the start bit, parity bit, and stop bit from the data frame.\n\nFifth: The receiving UART converts the serial data back into parallel and transfers it to the data bus on the receiving end.\n\nFrame Protocol\n\nOne key feature that is available in UART yet not fully used is the implementation of a frame protocol. The main use and importance of this is an added value for security and protection on each device.\n\nFor instance, when two devices use the same UART frame protocol, there are tendencies that, when connecting to the same UART without checking the configuration, the device will be connected to different pins that may cause malfunctions in the system.\n\nOn the other hand, implementing this ensures security because of the need to parse the information received in alignment with the design frame protocol. Each frame protocol is specifically designed to be unique and secure.\n\nIn designing a frame protocol, designers can set the desired headers and trailers, including CRC, to different devices. In Figure 13, two (2) bytes are set as part of the header.\n\nSecond: Under memory map, check the UART address.\n\nBased on the sample, you can set a header, trailer, and CRC that are unique to your device.\n\nHeader 1 (H1 is 0xAB) and Header 2 (H2 is 0xCD)\n\nHeader is the unique identifier that determines if you are communicating with the correct device.\n\nCommand (CMD) Selection\n\nCommand will depend on the list of command designed to create the communication between two devices.\n\nData Length (DL) per Command\n\nData length will be based on the command chosen. You can maximize the length of data depending on the command chosen, so it can vary based on the selection. In that case, the data length can be adjusted.\n\nData n (Varying Data)\n\nData is the payload to be transferred from devices.\n\nTrailer 1 (T1 is 0xE1) and Trailer 2 (T2 is 0xE2)\n\nTrailers are data that are added after the transmission is ended. Just like the Header, they can be uniquely identified.\n\nCyclic Redundancy Checking (CRC Formula)\n\nThe cycling redundancy checking formula is an added error detecting mode to detect accidental changes to raw data. The CRC value of the transmitting device must always be equal to the CRC computations on the receiver’s end.\n\nIt is advisable to add security by implementing frame protocols for each UART device. The frame protocol needs identical configurations on both the transmitting and receiving devices.\n\nUART Operations\n\nWhen using any hardware communication protocol, it’s a prerequisite to check the data sheet and hardware reference manual.\n\nHere are the steps to follow:\n\nFirst: Check the data sheet interface of the device.\n\nThird: Check the specific details for the UART PORT such as the operation mode, data bits length, the parity bit, and stop bits. Sample UART port details in data sheet: UART Port\n\nThe sample MCUs provide a full-duplex UART port, which is fully compatible with PC standard UARTs. The UART port provides a simplified UART interface to other peripherals or hosts, supporting full-duplex, DMA, and asynchronous transfer of serial data. The UART port includes support for five to eight data bits, and none, even, or odd parity. A frame is terminated by one and a half or two stop bits.\n\nFourth: Check the UART operation details, including the baud rate computation. Baud rate is configured using the following sample formula. This formula varies depending on the microcontroller.\n\nSample details of UART operations:\n\n5 to 8 data bits\n\n1, 2, or 1 and ½ stop bits\n\nNone, or even or odd parity\n\nProgrammable oversample rate by 4, 8, 16, 32\n\nBaud rate = PCLK/((M + N/2048) × 2OSR + 2 × DIV\n\nwhere,\n\nOSR (oversample rate)\n\nUART_LCR2.OSR = 0 to 3\n\nDIV (baud rate divider)\n\nUART_DIV = 1 to 65535\n\nM (DIVM fractional baud rate M)\n\nUART_FBR.DIVM = 1 to 3\n\nN (DIVM fractional baud rate M)\n\nUART_FBR.DIVN = 0 to 2047\n\nFifth: For the baud rate, make sure to check what peripheral clock (PCLK) to use. In this example, there is a 26 MHz PCLK and 16 MHz PCLK available. Notice that OSR, DIV, DIVM, and DIVN varies per device.\n\nTable 2. Baud Rate Example Based on 26 MHz PCLK Baud Rate OSR DIV DIVM DIVN 9600 3 24 3 1078 115200 3 4 1 1563\n\nTable 3. Baud Rate Example Based on 16 MHz PCLK Baud Rate OSR DIV DIVM DIVN 9600 3 17 3 1078 115200 3 2 2 348\n\nSixth: Next part is to check the detailed registers for UART Configuration. Take a look at the parameters in computing the baud rate such as UART_LCR2, UART_DIV, and UART_FBR. Table 4 will lead to a specific register to cover.\n\nTable 4. UART Register Descriptions Name Description UART_DIV Baud rate divider UART_FIBR Fractional baud rate UART_LCR2 Second line control\n\nSeventh: Under each register, check the details and substitute the values to compute for the baud rate, then start implementing the UART.\n\nWhy Is It Important?\n\nFamiliarity with the UART communication protocol is advantageous when developing robust, quality-driven products. Knowing how to send data using only two wires, as well as how to transport a whole pack of data or a payload, will help ensure that data is transferred and received without error. Since UART is the most commonly used hardware communication protocol, this knowledge can enable design flexibility in future designs.\n\nUse Cases\n\nYou can use UART for many applications, such as:\n\nDebugging: Early detection of system bugs is important during development. Adding UART can help in this scenario by capturing messages from the system.\n\nManufacturing function-level tracing: Logs are very important in manufacturing. They determine functionalities by alerting operators to what is happening on the manufacturing line.\n\nCustomer or client updates: Software updates are highly important. Having complete, dynamic hardware with update-capable software is important to having a complete system.\n\nTesting/verification: Verifying products before they leave the manufacturing process helps deliver the best quality products possible to customers.\n\nReferences\n\n“Basics of UART Communication.” Electronics Hub, July 2017.\n\nCampbell, Scott. “Basics of UART Communication.” Circuit Basics. Keim, Robert.\n\n“Back to Basics: The Universal Asynchronous Receiver/ Transmitter.” All About Circuits, December 2016."
    }
}