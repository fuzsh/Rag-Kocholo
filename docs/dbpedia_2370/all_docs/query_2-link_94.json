{
    "id": "dbpedia_2370_2",
    "rank": 94,
    "data": {
        "url": "https://imagemagick.org/Usage/windows/",
        "read_more_link": "",
        "language": "en",
        "title": "ImageMagick Examples",
        "top_image": "https://imagemagick.org/Usage/img_www/favicon.ico",
        "meta_img": "https://imagemagick.org/Usage/img_www/favicon.ico",
        "images": [
            "https://imagemagick.org/Usage/img_www/space.gif",
            "https://imagemagick.org/Usage/img_www/granitesm_right.gif",
            "https://imagemagick.org/Usage/img_www/granitesm_right.gif",
            "https://imagemagick.org/Usage/img_www/granitesm_right.gif",
            "https://imagemagick.org/Usage/img_www/granitesm_right.gif",
            "https://imagemagick.org/Usage/img_www/granitesm_right.gif",
            "https://imagemagick.org/Usage/img_www/warning.gif",
            "https://imagemagick.org/Usage/img_www/space.gif",
            "https://imagemagick.org/Usage/images/compose_src.png",
            "https://imagemagick.org/Usage/images/compose_dst.png",
            "https://imagemagick.org/Usage/img_www/right.gif",
            "https://imagemagick.org/Usage/images/compose_multiply.png",
            "https://imagemagick.org/Usage/images/compose_screen.png",
            "https://imagemagick.org/Usage/images/compose_overlay.png",
            "https://imagemagick.org/Usage/images/colorspace_RGB.png",
            "https://imagemagick.org/Usage/images/colorspace_sRGB.png",
            "https://imagemagick.org/Usage/img_www/reminder.gif",
            "https://imagemagick.org/Usage/img_www/space.gif",
            "https://imagemagick.org/Usage/img_www/warning.gif",
            "https://imagemagick.org/Usage/img_www/space.gif",
            "https://imagemagick.org/Usage/img_www/reminder.gif",
            "https://imagemagick.org/Usage/img_www/space.gif",
            "https://imagemagick.org/Usage/img_photos/clip.jpg",
            "https://imagemagick.org/Usage/img_photos/wm.jpg",
            "https://imagemagick.org/Usage/windows/version.gif"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "",
        "meta_lang": "en",
        "meta_favicon": "../img_www/favicon.ico",
        "meta_site_name": "",
        "canonical_link": "https://imagemagick.org/Usage/windows/",
        "text": "@ECHO OFF :: Create a negated rose image and overlay a comment magick -background none -fill red -gravity center ^ -font \"C:\\path\\to the\\font\\candice.ttf\" ^ -size 140x92 caption:\"A Rose by any Name\" ^ ( rose: -negate -resize 200%% ) +swap -composite ^ C:\\where\\to\\save\\output.gif\n\nSETLOCAL EnableDelayedExpansion SET ICONV=\"%PROGRAMFILES%\\Gnuwin32\\bin\\iconv.exe\" -f ISO-8859-1 -t UTF-8 CHCP 1252 DEL IDX_????.JPG SET COUNT=0 FOR /F \"delims=\" %%a in ('DIR /S /B /AD ^|FIND /I \"Porsche\" ^|SORT') DO ( DIR \"%%a\\*.jpg\">nul IF !ERRORLEVEL!==0 ( SET /A COUNT+=1 SET TFILE=000!COUNT! SET TFILE=IDX_!TFILE:~-4!.jpg ECHO %%a >temp.txt %ICONV% temp.txt>title.txt montage -geometry 210x140+0+5 -tile 6x -title @title.txt \"%%a\\*.jpg\" -quality 30%% !TFILE! jhead -cl %%a !TFILE! ) ) DEL temp.txt DEL title.txt\n\n@ECHO OFF SETLOCAL EnableDelayedExpansion %~d1 CD \"%~p1\" DEL Files.txt 2>nul: DEL FSorted.txt 2>nul: FOR %%I in (%*) DO ECHO %%~nxI>>files.txt FOR /F \"delims=\" %%A in ('TYPE files.txt ^| Sort') Do ( ECHO %%A>>fsorted.txt ) SET MONTAGE=montage -tile 3x FOR /F \"delims=\" %%A in (FSorted.txt) Do ( SET MONTAGE=!MONTAGE! %%A ) SET MONTAGE=%MONTAGE% result%~x1 %MONTAGE% DEL Files.txt DEL FSorted.txt\n\nmagick -size 256x256 gradient: gy.miff magick gy.miff -rotate 90 gx.miff magick -size 256x256 xc:black black.miff ::R + G top left magick gy.miff gx.miff -flop black.miff -set colorspace %1 -combine ^ -resize 260x300! -background none -shear 0x-30 ^ -virtual-pixel Transparent RG.miff :: R + B top right magick gy.miff black.miff gx.miff -set colorspace %1 -combine ^ -resize 260x300! -background none -shear 0x30 RB.miff :: G + B bottom magick black.miff gx.miff gy.miff -set colorspace %1 -combine ^ -resize 260x300! -background none -shear 0x30 -rotate 120 ^ -crop 520x300+0+75 GB.miff magick -set colorspace %1 RG.miff RB.miff +append top.miff magick -set colorspace %1 -size 520x150 xc:Transparent w.miff magick top.miff w.miff -append topx.miff composite -geometry +0+299 GB.miff topx.miff colorspace_%1.png DEL *.miff\n\nFOR /F %%i IN ('identify -format \"%%[fx:min(w,h)*0.05]\" %1') DO SET psize=%%i FOR /F \"tokens=1,2,3,* delims=: \" %%i IN ('identify -format \"%%[EXIF:DateTime]\" %1') DO ^ magick %1 -pointsize %psize% -fill white -gravity northwest ^ -annotate +0+0 \"%%j/%%k/%%i %%l\" \"%~dpn1\"_dated%~x1\n\n:: Determine the font height FOR /F %%i IN ('identify -format \"%%[fx:min(w,h)*0.05]\" %1') DO SET psize=%%i :: The width of the date-time string is roughly 9 times its height SET /A pwidth=%psize% * 9 :: Calculate the average brightness in this section :: and choose the text color correspondingly FOR /F %%i IN ('identify -format \"%%[fx:mean]\" -crop %pwidth%x%psize%+0+0 %1') DO SET mean=%%i IF %mean% LEQ 0.5 (SET fcolor=white) ELSE SET fcolor=black :: Annotate the photograph FOR /F \"tokens=1,2,3,* delims=: \" %%i IN ('identify -format \"%%[EXIF:DateTime]\" %1') DO ^ magick %1 -pointsize %psize% -fill %fcolor% -gravity northwest ^ -annotate +0+0 \"%%j/%%k/%%i %%l\" \"%~dpn1\"_dated%~x1\n\nmagick -size 256x256 gradient: gy.gif magick gy.gif -rotate 90 gx.gif magick -size 256x256 xc:black black.gif :: Set the dimension of the color cube / hexagon and calculate the various lengths SET l1=512 FOR /F %%i IN ('EVAL \"round(cos(degree*30)*%l1%)\"') DO SET l2=%%i FOR /F %%i IN ('EVAL \"2*%l2%\"') DO SET l3=%%i FOR /F %%i IN ('EVAL \"round((1+sin(degree*30))*%l1%/2)\"') DO SET l4=%%i FOR /F %%i IN ('EVAL \"round(%l1%/4)\"') DO SET l5=%%i magick gy.gif gx.gif -flop black.gif -set colorspace %1 -combine ^ -resize %l2%x%l1%! -background none -shear 0x-30 ^ -virtual-pixel Transparent RG.miff magick gy.gif black.gif gx.gif -set colorspace %1 -combine ^ -resize %l2%x%l1%! -background none -shear 0x30 RB.miff magick black.gif gx.gif gy.gif -set colorspace %1 -combine ^ -resize %l2%x%l1%! -background none -shear 0x30 -rotate 120 ^ -crop %l3%x%l1%+0+%l5% GB.miff magick -set colorspace %1 RG.miff RB.miff +append top.miff magick -set colorspace %1 -size %l3%x%l4% xc:Transparent w.miff magick top.miff w.miff -append topx.miff magick composite -geometry +0+%l1% GB.miff topx.miff colorspace_%1.png DEL *.miff DEL *.gif\n\n@ECHO OFF SETLOCAL EnableDelayedExpansion SET MINVERSION=7.5.3-0 FOR /F \"tokens=1,2,3\" %%a in ('magick -version ^|FIND \"Version\"') DO SET VERSION=%%c IF %VERSION% LSS %MINVERSION% GOTO GetNewVersion: Goto :EOF :GetNewVersion ECHO This Script requires et least ImageMagick version %MINVERSION%. ECHO Yours is %VERSION%. PAUSE Goto :EOF\n\nIF \"%1\"==\"\" GOTO :EOF ECHO %TIME% Identify -verbose %1 | FIND \"mean\" & ECHO %TIME% copy %1 %TEMP%\\*.* & ECHO %TIME% Identify -verbose %TEMP%\\%1 | FIND \"mean\" & ECHO %TIME% Convert %TEMP%\\%1 -format %%[fx:mean] info: & ECHO %TIME% Convert %TEMP%\\%1 -resize 1x1! -format %%[fx:mean] info: & ECHO %TIME% DEL %TEMP%\\%1\n\nFOR /F \"tokens=1,2,* delims=:\" %%a in (\"%TIME%\") DO SET START=%%c ... some command(s)... FOR /F \"tokens=1,2,* delims=:\" %%a in (\"%TIME%\") DO SET STOP=%%c Convert null: -format \"%%[fx:(%STOP%-%START%<0.0)?%STOP%-%START%+60.0:%STOP%-%START%]\" info:\n\nSetLocale(1033) ' US, i.e. decimal point const strConv = \"IMCONV\" ' name of the IM Convert program const strAdd = \"_pt\" ' string attached to the filename ' Dim wsh Set wsh = CreateObject(\"Wscript.Shell\") ' ' names of the in- and output files strFileIn = WScript.Arguments(0) Pos = InStrRev(strFileIn,\".\") strFileOut = Left(strFileIn,Pos - 1) & strAdd & Mid(strFileIn, Pos) ' ' evaluation of the focal length and calculation of parameter b command = \"identify -format \"\"%[EXIF:FocalLength]\"\" \"\"\" & strFileIn & \"\"\"\" Set objExec = wsh.Exec(command) strf = objExec.StdOut.Readline f = eval(strf) b = 0.000005142 * f * f * f -0.000380839 * f * f + 0.009606325 * f -0.075316854 ' Command = strConv & \" \"\"\" & strFileIn _ & \"\"\" -virtual-pixel black -filter point -distort Barrel \"\"0.0 \" _ & b & \" 0.0 \"\" \"\"\" & strFileOut & \"\"\"\" wsh.run command,7,true\n\nSETLOCAL EnableDelayedExpansion FOR /F %%i in ('identify -format \"%%[EXIF:FocalLength]\" %1') DO SET FL=%%i FOR /F %%i IN ('Convert null: -format \"%%[fx:0.000005142*(%FL%)^3 - 0.000380839 * (%FL%)^2 + 0.009606325 * %FL% - 0.075316854]\" info:') DO SET B=%%i Convert %1 -distort barrel \"0.0 !B! 0.0\" \"%~dpn1_pt%~x1\""
    }
}