{
    "id": "dbpedia_111_0",
    "rank": 32,
    "data": {
        "url": "https://www.mediawiki.org/wiki/Topic:Vmrxstxbbgb3a9wm",
        "read_more_link": "",
        "language": "en",
        "title": "Problem with infobox and \"CSS Clean\" on Extension talk:TemplateStyles",
        "top_image": "https://www.mediawiki.org/static/favicon/mediawiki.ico",
        "meta_img": "https://www.mediawiki.org/static/favicon/mediawiki.ico",
        "images": [
            "https://www.mediawiki.org/static/images/icons/mediawikiwiki.svg",
            "https://www.mediawiki.org/static/images/mobile/copyright/mediawikiwiki-wordmark.svg",
            "https://login.wikimedia.org/wiki/Special:CentralAutoLogin/start?type=1x1",
            "https://www.mediawiki.org/static/images/footer/wikimedia-button.svg",
            "https://www.mediawiki.org/static/images/footer/poweredby_mediawiki.svg"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "",
        "meta_lang": "en",
        "meta_favicon": "/static/apple-touch/mediawiki.png",
        "meta_site_name": "MediaWiki",
        "canonical_link": "https://www.mediawiki.org/wiki/Topic:Vmrxstxbbgb3a9wm",
        "text": "Hello, After updating my wiki, I have a problem with all of my infoboxes. They display badly and mark me\n\n\"La page Modèle:Infobox/Pictogramme/cinema.css doit avoir un modèle de contenu « CSS nettoyé » pour TemplateStyles (le modèle actuel est « wikitexte »).\" (This is only an example of an infobox)\n\nWhereas before the update all the infoboxes displayed normally. I tried to follow the advice given by @Tgr (WMF) that he gave on this problem, but I cannot find \"change content model\" in the information of the pages. Where can my problem come from?\n\nThank you\n\nI'm on Mediawiki 1.34.1 and TemplateStyles 1.0 (c4d6f25) of 24 septembre 2019 à 09:59\n\nThank You\n\nThank you for responding so quickly.\n\nWhen I try to modify the model, I have a \"Erreur fatale de type « Error »\", I followed the manual, but despite having put the code in the localhost no error poster of PHP appears, there are always marked \"Erreur fatale de type « Error »\". The code in question, put in the localhost below the <? Php )\n\nerror_reporting( -1 ); ini_set( 'display_errors', 1 );\n\nCan the fatal error come from Common.css and Common.js ? Or else where can the problem come from?\n\nThank you\n\nPS : I forgot to warn that my wiki is local\n\nHere is what I have in the Apache error log, I don't know if this can help you\n\n[Thu May 21 17:40:36.216695 2020] [core:error] [pid 10284:tid 1844] (20024)The given path is misformatted or contained invalid characters: [client ::1:53674] AH00127: Cannot map GET /Monwiki20/index.php/Sp%C3%A9cial:ChangeContentModel?pagetitle=Guillaume HTTP/1.1 to file, referer: http://localhost/Monwiki20/index.php/Sp%C3%A9cial:ChangeContentModel [Thu May 21 17:40:38.677114 2020] [core:error] [pid 10284:tid 1860] (20024)The given path is misformatted or contained invalid characters: [client ::1:53680] AH00127: Cannot map GET /Monwiki20/index.php/Sp%C3%A9cial:ChangeContentModel?pagetitle=Guillaume HTTP/1.1 to file [Thu May 21 17:40:39.421125 2020] [core:error] [pid 10284:tid 1884] (20024)The given path is misformatted or contained invalid characters: [client ::1:53681] AH00127: Cannot map POST /Monwiki20/index.php/Sp%C3%A9cial:ChangeContentModel HTTP/1.1 to file, referer: http://localhost/Monwiki20/index.php/Sp%C3%A9cial:ChangeContentModel?pagetitle=Guillaume [Thu May 21 17:40:47.148459 2020] [core:error] [pid 10284:tid 1860] (20024)The given path is misformatted or contained invalid characters: [client ::1:53722] AH00127: Cannot map GET /Monwiki20/index.php/Sp%C3%A9cial:ChangeContentModel HTTP/1.1 to file\n\nI don't know how to go to the PHP or Mediawiki logs\n\nThank you\n\nI think with managed to have the log of Mediawiki, here is what it puts me when there is the error\n\n[8c5ead38e38affe6e01bc92d] /Monwiki20/index.php/Sp%C3%A9cial:ChangeContentModel Error from line 78 of C:\\xampp\\htdocs\\MonWiki20\\extensions\\TemplateStyles\\includes\\TemplateStylesContent.php: Class 'Wikimedia\\CSS\\Parser\\Parser' not found Backtrace: #0 C:\\xampp\\htdocs\\MonWiki20\\extensions\\TemplateStyles\\includes\\TemplateStylesContent.php(135): TemplateStylesContent->sanitize(array) #1 C:\\xampp\\htdocs\\MonWiki20\\includes\\Revision\\RenderedRevision.php(267): TemplateStylesContent->getParserOutput(Title, NULL, ParserOptions, boolean) #2 C:\\xampp\\htdocs\\MonWiki20\\includes\\Revision\\RenderedRevision.php(236): MediaWiki\\Revision\\RenderedRevision->getSlotParserOutputUncached(TemplateStylesContent, boolean) #3 C:\\xampp\\htdocs\\MonWiki20\\includes\\Revision\\RevisionRenderer.php(215): MediaWiki\\Revision\\RenderedRevision->getSlotParserOutput(string) #4 C:\\xampp\\htdocs\\MonWiki20\\includes\\Revision\\RevisionRenderer.php(152): MediaWiki\\Revision\\RevisionRenderer->combineSlotOutput(MediaWiki\\Revision\\RenderedRevision, array) #5 [internal function]: MediaWiki\\Revision\\RevisionRenderer->MediaWiki\\Revision\\{closure}(MediaWiki\\Revision\\RenderedRevision, array) #6 C:\\xampp\\htdocs\\MonWiki20\\includes\\Revision\\RenderedRevision.php(198): call_user_func(Closure, MediaWiki\\Revision\\RenderedRevision, array) #7 C:\\xampp\\htdocs\\MonWiki20\\includes\\Storage\\DerivedPageDataUpdater.php(1290): MediaWiki\\Revision\\RenderedRevision->getRevisionParserOutput() #8 [internal function]: MediaWiki\\Storage\\DerivedPageDataUpdater->getCanonicalParserOutput() #9 C:\\xampp\\htdocs\\MonWiki20\\includes\\edit\\PreparedEdit.php(104): call_user_func(array) #10 C:\\xampp\\htdocs\\MonWiki20\\includes\\edit\\PreparedEdit.php(119): MediaWiki\\Edit\\PreparedEdit->getOutput() #11 C:\\xampp\\htdocs\\MonWiki20\\includes\\Storage\\DerivedPageDataUpdater.php(1268): MediaWiki\\Edit\\PreparedEdit->__get(string) #12 C:\\xampp\\htdocs\\MonWiki20\\includes\\page\\WikiPage.php(2030): MediaWiki\\Storage\\DerivedPageDataUpdater->getPreparedEdit() #13 C:\\xampp\\htdocs\\MonWiki20\\extensions\\SpamBlacklist\\includes\\SpamBlacklistHooks.php(30): WikiPage->prepareContentForEdit(TemplateStylesContent) #14 C:\\xampp\\htdocs\\MonWiki20\\includes\\Hooks.php(174): SpamBlacklistHooks::filterMergedContent(DerivativeContext, TemplateStylesContent, Status, string, User, boolean) #15 C:\\xampp\\htdocs\\MonWiki20\\includes\\Hooks.php(202): Hooks::callHook(string, array, array, NULL) #16 C:\\xampp\\htdocs\\MonWiki20\\includes\\specials\\SpecialChangeContentModel.php(260): Hooks::run(string, array) #17 C:\\xampp\\htdocs\\MonWiki20\\includes\\htmlform\\HTMLForm.php(690): SpecialChangeContentModel->onSubmit(array, OOUIHTMLForm) #18 C:\\xampp\\htdocs\\MonWiki20\\includes\\htmlform\\HTMLForm.php(582): HTMLForm->trySubmit() #19 C:\\xampp\\htdocs\\MonWiki20\\includes\\htmlform\\HTMLForm.php(597): HTMLForm->tryAuthorizedSubmit() #20 C:\\xampp\\htdocs\\MonWiki20\\includes\\specialpage\\FormSpecialPage.php(185): HTMLForm->show() #21 C:\\xampp\\htdocs\\MonWiki20\\includes\\specialpage\\SpecialPage.php(575): FormSpecialPage->execute(NULL) #22 C:\\xampp\\htdocs\\MonWiki20\\includes\\specialpage\\SpecialPageFactory.php(611): SpecialPage->run(NULL) #23 C:\\xampp\\htdocs\\MonWiki20\\includes\\MediaWiki.php(296): MediaWiki\\Special\\SpecialPageFactory->executePath(Title, RequestContext) #24 C:\\xampp\\htdocs\\MonWiki20\\includes\\MediaWiki.php(900): MediaWiki->performRequest() #25 C:\\xampp\\htdocs\\MonWiki20\\includes\\MediaWiki.php(527): MediaWiki->main() #26 C:\\xampp\\htdocs\\MonWiki20\\index.php(44): MediaWiki->run() #27 {main}\n\nCan this help you find my problem?\n\nThank you\n\nThank you for helping me.\n\nI'm going to ask for help to properly install TemplateStyles, because I'm a bit lost with Composer, and I don't know where to write the code.\n\nI hope that after the correct installation of TemplateStyles my problem will no longer be present.\n\nThank you\n\n@Tgr (WMF) Hello, I come back to you, I finally managed to install the TemplateStyles extension, but I have a new problem and I do not know if it comes from TemplateStyles.\n\nWhen I try to modify the model via Special: ChangeContentModel, I have this which appears\n\nNouvelle ligne non valide dans la chaîne à la ligne 5, caractère 85. Nouvelle ligne non valide dans la chaîne à la ligne 8, caractère 38. Nouvelle ligne non valide dans la chaîne à la ligne 28, caractère 80. Nouvelle ligne non valide dans la chaîne à la ligne 29, caractère 986. Nouvelle ligne non valide dans la chaîne à la ligne 65, caractère 33. Fin de la feuille de style non attendue dans le bloc à la ligne 85, caractère 15. Fin de la feuille de style non attendue dans le bloc à la ligne 85, caractère 15. Fin de la feuille de style non attendue dans le bloc à la ligne 85, caractère 15. Fin de la feuille de style non attendue dans le bloc à la ligne 85, caractère 15. Fin de la feuille de style non attendue dans le bloc à la ligne 85, caractère 15. Fin de la feuille de style non attendue dans la règle à la ligne 85, caractère 15. Liste de sélecteurs manquante à la ligne 1, caractère 1.\n\nIs this a TemplateStyles problem or is my problem somewhere else?\n\nThank you\n\nHi, Here is the message in English\n\nInvalid newline in string at line 5 character 85. Invalid newline in string at line 8 character 38. Invalid newline in string at line 28 character 80. Invalid newline in string at line 29 character 986. Invalid newline in string at line 65 character 33. Unexpected end of stylesheet in block at line 85 character 15. Unexpected end of stylesheet in block at line 85 character 15. Unexpected end of stylesheet in block at line 85 character 15. Unexpected end of stylesheet in block at line 85 character 15. Unexpected end of stylesheet in block at line 85 character 15. Unexpected end of stylesheet in rule at line 85 character 15. Missing selector list at line 1 character 1.\n\nThank You\n\nHi, On this page there is a \"Template: Infobox musical artist\", a description of the artist, as well as a table. When I go to this page, only the infobox does not display as it should and there is written, in the infobox\n\nPage Template: Infobox / Pictogramme / musique.css must have content model\" Sanitized CSS \"for TemplateStyles (current model is \"wikitext\").\n\nOtherwise all the rest of the pages are properly written and dispose.\n\nHere is a small screen of the problem (I just blurred the texts) : https://zupimages.net/up/20/22/dss2.png\n\nThank you\n\nHello, Here is what is on the page \"Template: Infobox / Pictogramme / musique.css\"\n\n.entete.musique { background-image: url(\"//upload.wikimedia.org/wikipedia/commons/6/60/Picto_infobox_music.png\"); } /* musique *\n\nHere, in pictures, what he wrote: https://zupimages.net/viewer.php?id=20/22/bwwc.png\n\nAnd when I click on edit this is what appears\n\nYou cannot edit this revision because its content model is wikitext, which differs from the current content model of the page sanitized-css.\n\nHere, in pictures, what he wrote: https://zupimages.net/viewer.php?id=20/22/7cbz.png\n\nThank you\n\nThe editing error is because you are trying to edit an old revision of the page; that's normal. The CSS is valid though and the errors don't make any sense (they are talking about line 85 when the CSS is a single line). Something strange is going on there, maybe there's some invisible content on the page? Hard to tell without having access to the wiki.\n\nUnfortunately my wiki is not on a server but locally on my pc. I didn't have this problem until I updated my wiki (I was in 1.31 before the update)\n\nGiven that I made a backup of my database and keep the files, of my wiki in 1.31, do you think that if I try to redo everything from the beginning (Go back to 1.31 and update again to the 1.34), could that solve my problem?\n\nThank you"
    }
}