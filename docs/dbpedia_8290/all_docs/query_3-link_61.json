{
    "id": "dbpedia_8290_3",
    "rank": 61,
    "data": {
        "url": "https://www.cisco.com/c/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f.html",
        "read_more_link": "",
        "language": "en",
        "title": "Answer Firepower eXtensible Operating System (FXOS) FAQ",
        "top_image": "",
        "meta_img": "",
        "images": [
            "https://www.cisco.com/etc/designs/cdc/fw/i/TAC_lg-icon.png",
            "https://www.cisco.com/c/dam/en/us/td/i/templates/note.gif",
            "https://www.cisco.com/c/dam/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f-00.png",
            "https://www.cisco.com/c/dam/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f-01.png",
            "https://www.cisco.com/c/dam/en/us/td/i/templates/note.gif",
            "https://www.cisco.com/c/dam/en/us/td/i/templates/note.gif",
            "https://www.cisco.com/c/dam/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f-02.png",
            "https://www.cisco.com/c/dam/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f-03.png",
            "https://www.cisco.com/c/dam/en/us/td/i/templates/note.gif",
            "https://www.cisco.com/c/dam/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f-04.png",
            "https://www.cisco.com/c/dam/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f-05.png",
            "https://www.cisco.com/c/dam/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f-06.png",
            "https://www.cisco.com/c/dam/en/us/td/i/templates/note.gif",
            "https://www.cisco.com/c/dam/en/us/td/i/templates/note.gif",
            "https://www.cisco.com/c/dam/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f-07.png",
            "https://www.cisco.com/c/dam/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f-08.png",
            "https://www.cisco.com/c/dam/en/us/td/i/templates/note.gif",
            "https://www.cisco.com/c/dam/en/us/td/i/templates/note.gif",
            "https://www.cisco.com/c/dam/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f-09.png",
            "https://www.cisco.com/c/dam/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f-10.png",
            "https://www.cisco.com/c/dam/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f-11.png",
            "https://www.cisco.com/c/dam/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f-12.png",
            "https://www.cisco.com/c/dam/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f-13.png",
            "https://www.cisco.com/c/dam/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f-14.png",
            "https://www.cisco.com/c/dam/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f-15.png",
            "https://www.cisco.com/c/dam/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f-16.png",
            "https://www.cisco.com/etc/designs/cdc/fw/i/TAC_lg-icon.png",
            "https://www.cisco.com/c/dam/cdc/i/Feedback_OceanBlue.png",
            "https://www.cisco.com/etc/designs/cdc/fw/i/icon_lock_small.png",
            "https://cisco.112.2o7.net/b/ss/cisco-mobile/5/12345"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": "2024-04-06T11:31:05",
        "summary": "",
        "meta_description": "This document describes the most Frequently Asked Questions (FAQ) related to FXOS platforms.",
        "meta_lang": "en",
        "meta_favicon": "",
        "meta_site_name": "Cisco",
        "canonical_link": "https://www.cisco.com/c/en/us/support/docs/security/firepower-4100-series/215551-firepower-extensible-operating-system-f.html",
        "text": "Introduction\n\nThis document describes the FAQ related to FXOS platforms.\n\nBackground Information\n\nThe Firepower eXtensible Operating System (FXOS) is the underlying operating system on Firepower or Secure Firewall platforms. Depending on the platforms FXOS is used to configure features, monitoring chassis status, and accessing advanced troubleshooting features.\n\nFXOS on Firepower 4100/9300 and Firepower 2100 with the Adaptive Secure Appliance software in platform mode allow configuration changes, while in other plaftforms with the exception of specific features it is read only.\n\nQ. How to Generate Show Tech from the FXOS System?\n\nAs from version 2.8.x the fprm deprecated. Thus FXOS 2.8.x supports only chassis and blade show techs.\n\nKSEC-FPR4115-2-1(local-mgmt)# show tech-support fprm detail WARNING: show tech-support fprm detail command is deprecated. Please use show tech-support chassis 1 detail command instead.\n\nchassis: Contains log files for the chassis, blade, adaptor, Baseboard Management Controller (BMC) and Cisco Integrated Management Controller (CIMC))\n\nmodule: Contains log files for the blade/module where the logical device Adaptive Security Appliance (ASA) or Firepower Threat Defense (FTD) resides. This includes logs for components like appAgent)\n\nIn pre-2.8.x releases, the FXOS provides three different show tech outputs. The FPRM bundle contains log files for Management Input/Output (MIO) - the supervisor engine - and the Service Manager)\n\nUsually, you generate all 3 bundles. Use the show tech-support <option> detail to generate the 3 different log bundles for TAC analysis:\n\nFPR4140-A# connect local-mgmt FPR4140-A(local-mgmt)# show tech-support fprm detail FPR4140-A(local-mgmt)# show tech-support chassis 1 detail FPR4140-A(local-mgmt)# show tech-support module 1 detail\n\nIf you do not specify the detail option, you get the output on the screen\n\nThe detail option creates a tar file\n\nTo check the generated filenames:\n\nFPR4140-A(local-mgmt)# dir techsupport/ 1 15595520 Apr 09 17:29:10 2017 20170409172722_FPR4140_FPRM.tar 1 962560 Apr 09 17:32:20 2017 20170409172916_FPR4140_BC1_all.tar 1 7014400 Apr 09 18:06:25 2017 Firepower-Module1_04_09_2017_18_05_59.tar\n\nTo export a bundle from CLI:\n\nFPR4140-A(local-mgmt)# copy workspace:///techsupport/20170409172722_FPR4140_FPRM.tar ftp|tftp|scp|sftp://username@192.168.0.1/\n\nStarting with FXOS 2.6, the FXOS technical support generation and download is made available from Firepower Chassis Manager (FCM) UI under Tools > Troubleshooting Logs\n\nOn FP9300:\n\nOn FP41xx:\n\nQ. How to Verify and Change the Chassis Management IP Address, Netmask and Gateway?\n\nThere are a few ways to verify the Management interface configuration:\n\nFPR4115-2-1# show fabric-interconnect Fabric Interconnect: ID OOB IP Addr OOB Gateway OOB Netmask OOB IPv6 Address OOB IPv6 Gateway Prefix Operability Ingress VLAN Group Entry Count (Current/Max) Switch Forwarding Path Entry Count (Current/Max) ---- --------------- --------------- --------------- ---------------- ---------------- ------ ----------- -------------------------------------------- ------------------------------------------------ A 10.62.184.19 10.62.184.1 255.255.255.0 :: :: 64 Operable 0/500 14/1021\n\nor\n\nFPR4115-2-1# scope fabric-interconnect a FPR4115-2-1 /fabric-interconnect # show Fabric Interconnect: ID OOB IP Addr OOB Gateway OOB Netmask OOB IPv6 Address OOB IPv6 Gateway Prefix Operability Ingress VLAN Group Entry Count (Current/Max) Switch Forwarding Path Entry Count (Current/Max) ---- --------------- --------------- --------------- ---------------- ---------------- ------ ----------- -------------------------------------------- ------------------------------------------------ A 10.62.184.19 10.62.184.1 255.255.255.0 :: :: 64 Operable 0/500 14/1021 FPR4115-2-1 /fabric-interconnect # show detail Fabric Interconnect: ID: A Product Name: Cisco FPR-4115-SUP PID: FPR-4115-SUP VID: V01 Vendor: Cisco Systems, Inc. Serial (SN): JAD12345NY6 HW Revision: 0 Total Memory (MB): 8074 OOB IP Addr: 10.62.184.19 OOB Gateway: 10.62.184.1 OOB Netmask: 255.255.255.0 OOB IPv6 Address: :: OOB IPv6 Gateway: :: Prefix: 64 Operability: Operable Thermal Status: Ok Ingress VLAN Group Entry Count (Current/Max): 0/500 Switch Forwarding Path Entry Count (Current/Max): 14/1021 Current Task 1: Current Task 2: Current Task 3:\n\nTo change the IP settings:\n\nFPR4115-2-1# scope fabric-interconnect a FPR4115-2-1 /fabric-interconnect # set out-of-band gw Gw ip Ip netmask Netmask KSEC-FPR4115-2-1 /fabric-interconnect # set out-of-band ip 10.62.184.19 netmask 255.255.255.0 gw 10.62.184.1 KSEC-FPR4115-2-1 /fabric-interconnect* # commit-buffer\n\nAbout the commit:\n\nFPR4115-2-1 /fabric-interconnect # commit-buffer verify-only ! verify the change for error FPR4115-2-1 /fabric-interconnect # commit-buffer ! commit the change FPR4115-2-1 /fabric-interconnect # discard-buffer ! cancel the change\n\nFor more details check:\n\nCisco Firepower 4100/9300 FXOS Command Reference\n\nQ. How to Run an FXOS Ping Test?\n\nNavigate to local-mgmt CLI scope and use the ping command:\n\nFPR4115-2-1# connect local-mgmt FPR4115-2-1(local-mgmt)# ping 10.62.184.1 PING 10.62.184.1 (10.62.184.1) from 10.62.184.19 eth0: 56(84) bytes of data. 64 bytes from 10.62.184.1: icmp_seq=1 ttl=255 time=0.602 ms 64 bytes from 10.62.184.1: icmp_seq=2 ttl=255 time=0.591 ms 64 bytes from 10.62.184.1: icmp_seq=3 ttl=255 time=0.545 ms 64 bytes from 10.62.184.1: icmp_seq=4 ttl=255 time=0.552 ms\n\nQ. How to Verify the Mac Address of the Out-of-band Management Interface?\n\nNavigate to local-mgmt CLI scope and use this command:\n\nFPR4115-2-1# connect local-mgmt FPR4115-2-1(local-mgmt)# show mgmt-ip-debug | begin eth0 eth0 Link encap:Ethernet HWaddr 78:bc:1a:e7:a4:11 inet addr:10.62.184.19 Bcast:10.62.184.255 Mask:255.255.255.0 inet6 addr: fe80::7abc:1aff:fee7:a411/64 Scope:Link UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:3420589 errors:0 dropped:0 overruns:0 frame:0 TX packets:2551231 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:419362704 (399.9 MiB) TX bytes:1530147643 (1.4 GiB)\n\nQ. How to Verify if the Out-of-band Management Interface is Up?\n\nIn addition to Operable under scope fabric-interconnect a > show, you can use this command:\n\nFPR4115-2-1# connect local-mgmt FPR4115-2-1(local-mgmt)# show mgmt-port eth0 Link encap:Ethernet HWaddr 78:bc:1a:e7:a4:11 inet addr:10.62.184.19 Bcast:10.62.184.255 Mask:255.255.255.0 inet6 addr: fe80::7abc:1aff:fee7:a411/64 Scope:Link UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:3422158 errors:0 dropped:0 overruns:0 frame:0 TX packets:2552019 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:419611452 (400.1 MiB) TX bytes:1530247862 (1.4 GiB)\n\nAlternatively, you can use this command. The Scope part shows Link UP. Note that the UP is shown in the next line:\n\nFPR4115-2-1# connect local-mgmt FPR4115-2-1(local-mgmt)# show mgmt-ip-debug | begin eth0 eth0 Link encap:Ethernet HWaddr 78:bc:1a:e7:a4:11 inet addr:10.62.184.19 Bcast:10.62.184.255 Mask:255.255.255.0 inet6 addr: fe80::7abc:1aff:fee7:a411/64 Scope:Link UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:3420589 errors:0 dropped:0 overruns:0 frame:0 TX packets:2551231 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:419362704 (399.9 MiB) TX bytes:1530147643 (1.4 GiB)\n\nTo bring down the logical status of the interface:\n\nFPR4100-3-A(local-mgmt)# mgmt-port shut FPR4100-3-A(local-mgmt)# show mgmt-ip-debug ifconfig | b eth0 eth0 Link encap:Ethernet HWaddr 58:97:BD:B9:76:EB inet addr:10.62.148.88 Bcast:10.62.148.127 Mask:255.255.255.128 BROADCAST MULTICAST MTU:1500 Metric:1 RX packets:3685870 errors:0 dropped:0 overruns:0 frame:0 TX packets:7068372 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:295216623 (281.5 MiB) TX bytes:1049391193 (1000.7 MiB)\n\nTo bring it UP again:\n\nFPR4100-3-A(local-mgmt)# mgmt-port no-shut FPR4100-3-A(local-mgmt)# show mgmt-ip-debug ifconfig | b eth0 eth0 Link encap:Ethernet HWaddr 58:97:BD:B9:76:EB inet addr:10.62.148.88 Bcast:10.62.148.127 Mask:255.255.255.128 inet6 addr: fe80::5a97:bdff:feb9:76eb/64 Scope:Link UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:3685885 errors:0 dropped:0 overruns:0 frame:0 TX packets:7068374 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:295218130 (281.5 MiB) TX bytes:1049391353 (1000.7 MiB)\n\nFPR-4110-A# connect fxos FPR-4110-A(fxos)# show interface brief | include mgmt0 mgmt0 -- down 172.16.171.83 -- 1500\n\nFPR-4110-A(fxos)# show interface mgmt 0 mgmt0 is down (Administratively down) Hardware: GigabitEthernet, address: 5897.bdb9.212d (bia 5897.bdb9.212d) Internet Address is 172.16.171.83/24 MTU 1500 bytes, BW 1000000 Kbit, DLY 10 usec reliability 255/255, txload 1/255, rxload 1/255 Encapsulation ARPA auto-duplex, auto-speed EtherType is 0x0000 1 minute input rate 3080 bits/sec 2 packets/sec 1 minute output rate 0 bits/sec 0 packets/sec Rx 977 unicast packets 12571 multicast packets 5229 broadcast packets 18777 input packets 2333662 bytes Tx 0 unicast packets 0 multicast packets 0 broadcast packets 0 output packets 0 bytes\n\nIf you do a show run interface mgmt0 under fxos mode, shutdown force is under that interface. Again, do not use this as reference that it is down:\n\nFPR4115-2-1(fxos)# show run interface mgmt0 !Command: show running-config interface mgmt0 !Time: Tue May 5 14:19:42 2020 version 5.0(3)N2(4.81) interface mgmt0 shutdown force ip address 10.62.184.19/24\n\nQ. How to Check the FXOS Routing Table?\n\nThe out-of-band management is dependent only on the default gateway set. Therefore, ensure the chosen default gateway permits connection to clients that requires access to the system. There is a show ip route vrf all command under connect fxos, but this is not used for out-of-band management.\n\nQ. How to Check the FXOS ARP Table?\n\nThe ARP table is not visible from the FXOS CLI. You can also use packet capture under fxos mode (ethanalyzer) to capture ARP and/or check traffic to/from the management.\n\nThis is an example to capture ARP packets. You can change the capture-filter to anything. That filter is similar to tcpdump filter:\n\nfp9300-A# connect fxos\n\nfp9300-A(fxos)# ethanalyzer local interface mgmt capture-filter arp\n\nCapturing on eth0\n\n2016-10-14 18:04:57.551221 00:50:56:85:be:44 -> ff:ff:ff:ff:ff:ff ARP Who has 172.16.171.240? Tell 172.16.171.101\n\n2016-10-14 18:04:57.935562 00:12:80:85:a5:49 -> ff:ff:ff:ff:ff:ff ARP Who has 172.16.171.112? Tell 172.16.171.1\n\n2016-10-14 18:04:58.167029 00:50:56:85:78:4e -> ff:ff:ff:ff:ff:ff ARP Who has 172.16.171.205? Tell 172.16.171.100\n\n2016-10-14 18:04:59.156000 00:50:56:9f:b1:43 -> ff:ff:ff:ff:ff:ff ARP Who has 172.16.171.1? Tell 172.16.171.151\n\n2016-10-14 18:04:59.165701 00:50:56:9f:b1:43 -> ff:ff:ff:ff:ff:ff ARP Who has 172.16.171.1? Tell 172.16.171.151\n\n2016-10-14 18:04:59.166925 00:50:56:85:78:4e -> ff:ff:ff:ff:ff:ff ARP Who has 172.16.171.205? Tell 172.16.171.100\n\n2016-10-14 18:04:59.268168 00:50:56:9f:b1:43 -> ff:ff:ff:ff:ff:ff ARP Who has 172.16.171.151? Tell 0.0.0.0\n\n2016-10-14 18:05:00.150217 00:50:56:85:78:4e -> ff:ff:ff:ff:ff:ff ARP Who has 172.16.171.204? Tell 172.16.171.100\n\n2016-10-14 18:05:00.268369 00:50:56:9f:b1:43 -> ff:ff:ff:ff:ff:ff ARP Who has 172.16.171.151? Tell 0.0.0.0\n\n2016-10-14 18:05:01.150243 00:50:56:85:78:4e -> ff:ff:ff:ff:ff:ff ARP Who has 172.16.171.204? Tell 172.16.171.100\n\n10 packets captured\n\nProgram exited with status 0.\n\nfp9300-A(fxos)#\n\nAdditionally, you can save the capture to a file and then export it to a remote server:\n\nFPR4140-A# connect fxos FPR4140-A(fxos)# ethanalyzer local interface mgmt capture-filter arp limit-captured-frames 0 write workspace:///ARP.pcap FPR4140-A# connect local-mgmt FPR4140-A(local-mgmt)# dir 1 23075 Jan 12 13:13:18 2020 ARP.pcap FPR4140-A(local-mgmt)# copy workspace:///ARP.pcap ftp://anonymous@10.48.40.70/ARP.pcap\n\nQ. How to Check FXOS Fault Events?\n\nUse the show fault command:\n\nFPR4115-2-1# show fault Severity Code Last Transition Time ID Description --------- -------- ------------------------ -------- ----------- Major F0909 2020-04-26T21:19:37.520 554924 default Keyring's certificate is invalid, reason: expired. Major F1769 2012-01-19T00:30:02.733 323268 The password encryption key has not been set. Minor F1437 2012-01-19T00:30:02.732 32358 Config backup may be outdated\n\nYou can also filter the faults based on severity:\n\nFPR4115-2-1# show fault ? 0-18446744073709551615 ID <CR> > Redirect it to a file >> Redirect it to a file in append mode cause Cause detail Detail severity Severity suppressed Fault Suppressed | Pipe command output to filter FPR4115-2-1# show fault severity major Severity Code Last Transition Time ID Description --------- -------- ------------------------ -------- ----------- Major F0909 2020-04-26T21:19:37.520 554924 default Keyring's certificate is invalid, reason: expired. Major F1769 2012-01-19T00:30:02.733 323268 The password encryption key has not been set.\n\nThe same faults are also visible from the FXOS UI Overview > FAULTS dashboard:\n\nQ. How to Change the Hostname of the System?\n\nYou use the set name command under the system scope:\n\nKSEC-FPR4115-2-1# scope system KSEC-FPR4115-2-1 /system # set name new-name Warning: System name modification changes FC zone name and redeploys them non-disruptively KSEC-FPR4115-2-1 /system* # commit-buffer KSEC-FPR4115-2-1 /system # exit new-name#\n\nQ. What is the \"Compute Mismatch\" Under the show server status Output?\n\nA newly-installed security module must be acknowledged and reinitialized before it can be used. This is true even when you replace a unit via RMA.\n\nFPR9300# show server status\n\nServer Slot Status Overall Status Discovery\n\n------- --------------------------------- --------------------- ---------\n\n1/1 Mismatch Compute Mismatch Complete\n\n1/2 Equipped Ok Complete\n\n1/3 Empty\n\nFPR9300#\n\nThe compute mismatch can cause this fault event:\n\nService profile ssp-sprof-1 configuration failed due to compute-unavailable,insufficient-resources\n\nThe show service-profile status displays Unassociated as if the module is not there.\n\nSteps to acknowledge from the CLI:\n\nscope chassis 1\n\nacknowledge slot <slot#>\n\ncommit-buffer\n\nAlternatively, you use the Chassis Manager UI to acknowledge the module:\n\nQ. What is the Meaning of \"Token Mismatch\" in show slot Output?\n\nThis indicates that the security module has not been reinitialized yet after being acknowledged:\n\nFPR9300# scope ssa FPR9300 /ssa # show slot Slot: Slot ID Log Level Admin State Operational State ---------- --------- ------------ ----------------- 1 Info Ok Token Mismatch 2 Info Ok Online 3 Info Ok Not Available FPR9300 /ssa #\n\nSteps to reinitialize via CLI:\n\nscope ssa scope slot <#> reinitialize commit-buffer\n\nOn Firepower 41xx, this can also mean the SSD is missing or it is faulty. Check if the SSD still exists via show inventory storage under scope server 1/1:\n\nFPR4140-A# scope ssa\n\nFPR4140-A /ssa # show slot 1\n\nSlot:\n\nSlot ID Log Level Admin State Oper State\n\n---------- --------- ------------ ----------\n\n1 Info Ok Token Mismatch\n\nFPR4140-A /ssa # show fault severity critical\n\nSeverity Code Last Transition Time ID Description\n\n--------- -------- ------------------------ -------- -----------\n\nCritical F1548 2018-03-11T01:22:59.916 38768 Blade swap detected on slot 1\n\nFPR4140-A /ssa # scope server 1/1\n\nFPR4140-A /chassis/server # show inventory storage\n\nServer 1/1:\n\nName:\n\nUser Label:\n\nEquipped PID: FPR4K-SM-36\n\nEquipped VID: V01\n\nEquipped Serial (SN): FLM12345KL6\n\nSlot Status: Equipped\n\nAcknowledged Product Name: Cisco Firepower 4100 Series Extreme Performance Security Engine\n\nAcknowledged PID: FPR4K-SM-36\n\nAcknowledged VID: V00\n\nAcknowledged Serial (SN): FLM12345KL6\n\nAcknowledged Memory (MB): 262144\n\nAcknowledged Effective Memory (MB): 262144\n\nAcknowledged Cores: 36\n\nAcknowledged Adapters: 2\n\nMotherboard:\n\nProduct Name: Cisco Firepower 4100 Series Extreme Performance Security Engine\n\nPID: FPR4K-SM-36\n\nVID: V01\n\nVendor: Cisco Systems Inc\n\nSerial (SN): FLM12345KL6\n\nHW Revision: 0\n\nRAID Controller 1:\n\nType: SATA\n\nVendor: Cisco Systems Inc\n\nModel: CHORLEYWOOD\n\nSerial: FLM12345KL6\n\nHW Revision:\n\nPCI Addr: 00:31.2\n\nRaid Support:\n\nOOB Interface Supported: No\n\nRebuild Rate: N/A\n\nController Status: Unknown\n\nLocal Disk 1:\n\nVendor:\n\nModel:\n\nSerial:\n\nHW Rev: 0\n\nOperability: N/A\n\nPresence: Missing\n\nSize (MB): Unknown\n\nDrive State: Unknown\n\nPower State: Unknown\n\nLink Speed: Unknown\n\nDevice Type: Unspecified\n\nLocal Disk Config Definition:\n\nMode: No RAID\n\nDescription:\n\nProtect Configuration: No\n\nQ. How to Set Timezone, NTP, and DNS via CLI?\n\nThis is configured under the FXOS Platform Settings. Apply the instructions from this document: FXOS Platform Settings.\n\nTo verify the chassis time settings:\n\nKSEC-FPR4115-2-1# show clock Tue May 5 21:30:55 CEST 2020 KSEC-FPR4115-2-1# show ntp NTP Overall Time-Sync Status: Time Synchronized\n\nTo verity the module/blade time from the module Boot CLI use these 3 commands:\n\nFirepower-module1>show ntp peerstatus remote local st poll reach delay offset disp ======================================================================= *203.0.113.126 203.0.113.1 2 64 377 0.00006 0.000018 0.02789 remote 203.0.113.126, local 203.0.113.1 hmode client, pmode mode#255, stratum 2, precision -20 leap 00, refid [192.0.2.1], rootdistance 0.19519, rootdispersion 0.17641 ppoll 6, hpoll 6, keyid 0, version 4, association 43834 reach 377, unreach 0, flash 0x0000, boffset 0.00006, ttl/mode 0 timer 0s, flags system_peer, config, bclient, prefer, burst reference time: dbef8823.8066c43a Mon, Dec 5 2016 8:30:59.501 originate timestamp: 00000000.00000000 Mon, Jan 1 1900 2:00:00.000 receive timestamp: dbefb27d.f914589d Mon, Dec 5 2016 11:31:41.972 transmit timestamp: dbefb27d.f914589d Mon, Dec 5 2016 11:31:41.972 filter delay: 0.00008 0.00006 0.00008 0.00009 0.00008 0.00008 0.00008 0.00009 filter offset: 0.000028 0.000018 0.000034 0.000036 0.000033 0.000036 0.000034 0.000041 filter order: 1 2 6 0 4 5 3 7 offset 0.000018, delay 0.00006, error bound 0.02789, filter error 0.00412\n\nFirepower-module1>show ntp association remote refid st t when poll reach delay offset jitter ============================================================================== *203.0.113.126 192.0.2.1 2 u 37 64 377 0.062 0.018 0.017 ind assid status conf reach auth condition last_event cnt =========================================================== 1 43834 961d yes yes none sys.peer 1 associd=43834 status=961d conf, reach, sel_sys.peer, 1 event, popcorn, srcadr=203.0.113.126, srcport=123, dstadr=203.0.113.1, dstport=123, leap=00, stratum=2, precision=-20, rootdelay=195.190, rootdisp=176.407, refid=192.0.2.1, reftime=dbef8823.8066c43a Mon, Dec 5 2016 8:30:59.501, rec=dbefb27d.f91541fc Mon, Dec 5 2016 11:31:41.972, reach=377, unreach=0, hmode=3, pmode=4, hpoll=6, ppoll=6, headway=22, flash=00 ok, keyid=0, offset=0.018, delay=0.062, dispersion=0.778, jitter=0.017, xleave=0.011, filtdelay= 0.08 0.06 0.08 0.10 0.08 0.09 0.08 0.10, filtoffset= 0.03 0.02 0.03 0.04 0.03 0.04 0.03 0.04, filtdisp= 0.00 0.03 1.04 1.07 2.06 2.09 3.09 3.12\n\nFirepower-module1>show ntp sysinfo associd=0 status=0618 leap_none, sync_ntp, 1 event, no_sys_peer, version=\"ntpd 4.2.6p5@1.2349-o Fri Oct 7 17:08:03 UTC 2016 (2)\", processor=\"x86_64\", system=\"Linux/3.10.62-ltsi-WR6.0.0.27_standard\", leap=00, stratum=3, precision=-23, rootdelay=195.271, rootdisp=276.641, refid=203.0.113.126, reftime=dbefb238.f914779b Mon, Dec 5 2016 11:30:32.972, clock=dbefb2a7.575931d7 Mon, Dec 5 2016 11:32:23.341, peer=43834, tc=6, mintc=3, offset=0.035, frequency=25.476, sys_jitter=0.003, clk_jitter=0.015, clk_wander=0.011 system peer: 203.0.113.126 system peer mode: client leap indicator: 00 stratum: 3 precision: -23 root distance: 0.19527 s root dispersion: 0.27663 s reference ID: [203.0.113.126] reference time: dbefb238.f914779b Mon, Dec 5 2016 11:30:32.972 system flags: auth monitor ntp kernel stats jitter: 0.000000 s stability: 0.000 ppm broadcastdelay: 0.000000 s authdelay: 0.000000 s time since restart: 1630112 time since reset: 1630112 packets received: 157339 packets processed: 48340 current version: 48346 previous version: 0 declined: 0 access denied: 0 bad length or format: 0 bad authentication: 0 rate exceeded: 0 Firepower-module1>\n\nFor more details about NTP verification and troubleshoot check this document: Configure, Verify and Troubleshoot Network Time Protocol (NTP) Settings on Firepower FXOS Appliances\n\nQ. How to Setup Smart Licensing and HTTP Proxy?\n\nSmart Licensing is needed on FXOS chassis in the case of ASA logical device. Check this document for more details: License Management for the ASA\n\nHere is a sample output of license status:\n\nFPR4115-2-1# scope license FPR4115-2-1 /license # show license all Smart Licensing Status ====================== Smart Licensing is ENABLED Registration: Status: REGISTERED Smart Account: BU Production Test Virtual Account: TAC-BETA Export-Controlled Functionality: Not Allowed Initial Registration: SUCCEEDED on Dec 15 14:41:55 2015 PST Last Renewal Attempt: SUCCEEDED on Dec 23 09:26:05 2015 PST Next Renewal Attempt: Jun 21 07:00:21 2016 PST Registration Expires: Dec 23 06:54:19 2016 PST License Authorization: Status: AUTHORIZED on Apr 07 15:44:26 2016 PST Last Communication Attempt: SUCCEEDED on Apr 07 15:44:26 2016 PST Next Communication Attempt: May 07 15:44:25 2016 PST Communication Deadline: Jul 06 15:38:24 2016 PST License Usage ============== No licenses in use Product Information =================== UDI: PID:FPR9K-SUP,SN:JAD123456AB Agent Version ============= Smart Agent for Licensing: 1.4.1_rel/31\n\nOr alternatively:\n\nfp9300-A# connect local-mgmt\n\nfp9300-A(local-mgmt)# show license all\n\nSmart Licensing Status\n\n======================\n\nSmart Licensing is ENABLED\n\nRegistration:\n\nStatus: REGISTERED\n\nSmart Account: Cisco Internal\n\nVirtual Account: Escalations\n\nExport-Controlled Functionality: Allowed\n\nInitial Registration: SUCCEEDED on Feb 10 18:55:08 2016 CST\n\nLast Renewal Attempt: SUCCEEDED on Oct 09 15:07:25 2016 CST\n\nNext Renewal Attempt: Apr 07 15:16:32 2017 CST\n\nRegistration Expires: Oct 09 15:10:31 2017 CST\n\nLicense Authorization:\n\nStatus: AUTHORIZED on Sep 20 07:29:06 2016 CST\n\nLast Communication Attempt: SUCCESS on Sep 20 07:29:06 2016 CST\n\nNext Communication Attempt: None Communication Deadline: None\n\nLicensing HA configuration error:\n\nNo Reservation Ha config error\n\nLicense Usage\n\n==============\n\nNo licenses in use\n\nProduct Information\n\n===================\n\nUDI: PID:FPR9K-SUP,SN:JAD190800VU\n\nAgent Version\n\n=============\n\nSmart Agent for Licensing: 1.6.7_rel/95\n\nQ. How to Configure Syslog via CLI?\n\nCheck these documents:\n\nConfigure Syslog on Firepower FXOS Appliances\n\nFXOS Config Guide: Platform Settings Syslog\n\nQ. How to Configure SNMP on Firepower Appliances?\n\nCheck this document: Configure SNMP on Firepower NGFW Appliances\n\nQ. How to Install/Replace an SSL Certificate Used by the Chassis Manager?\n\nThis document can help: Install a Trusted Certificate for FXOS Chassis Manager\n\nQ. How to Troubleshoot Traffic Flow Through the FPR9300 Chassis?\n\nCheck these documents:\n\nFirepower Data Path Troubleshooting Phase 1: Packet Ingress\n\nFirepower Data Path Troubleshooting: Overview\n\nAnalyze Firepower Firewall Captures to Effectively Troubleshoot Network Issues\n\nQ. How to View the Chassis Mac Address Table?\n\nFor FP41xx and FP93xx platforms use any of these commands:\n\nFPR4115-2-1# connect fxos FPR4115-2-1(fxos)# show l2-table Ingress MAC Vlan Class VlanGrp Status Dst Eth1/1 78bc.1ae7.a45e 101 1 0 present 1 Veth776 78bc.1ae7.a45e 101 1 0 present 1 Po1 0100.5e00.0005 1001 1 0 present 1 Po1 0100.5e00.0006 1001 1 0 present 1 Po1 78bc.1ae7.a44e 1001 1 0 present 1 Po1 ffff.ffff.ffff 1001 63 0 present 1\n\nFPR4115-2-1(fxos)# show mac address-table Legend: * - primary entry, G - Gateway MAC, (R) - Routed MAC, O - Overlay MAC age - seconds since first seen,+ - primary entry using vPC Peer-Link VLAN MAC Address Type age Secure NTFY Ports/SWID.SSID.LID ---------+-----------------+--------+---------+------+----+------------------ * 1001 0100.5e00.0005 static 0 F F Eth1/1 * 1001 0100.5e00.0006 static 0 F F Eth1/1 * 1001 78bc.1ae7.a44e static 0 F F Eth1/1 * 1001 ffff.ffff.ffff static 0 F F Eth1/1 * 101 78bc.1ae7.a45e static 0 F F Eth1/1 * 101 78bc.1ae7.a46f static 0 F F Veth776 * 4047 0015.a501.0100 static 0 F F Veth864 * 4047 0015.a501.0101 static 0 F F Veth1015 * 4043 78bc.1ae7.b000 static 0 F F Eth1/10 * 4043 78bc.1ae7.b00c static 0 F F Eth1/9 * 1 0015.a500.001f static 0 F F Veth887 * 1 0015.a500.002f static 0 F F Veth1018 * 1 0015.a500.01bf static 0 F F Veth905 * 1 0015.a500.01ef static 0 F F Veth1019\n\nQ. How to View Chassis Interface MAC Addresses?\n\nUse this command:\n\nFPR4115-2-1# connect fxos FPR4115-2-1(fxos)# show interface mac-address -------------------------------------------------------------------------------- Interface Mac-Address Burn-in Mac-Address -------------------------------------------------------------------------------- Ethernet1/1 78bc.1ae7.a417 78bc.1ae7.a418 Ethernet1/2 78bc.1ae7.a417 78bc.1ae7.a419 Ethernet1/3 78bc.1ae7.a417 78bc.1ae7.a41a Ethernet1/4 78bc.1ae7.a417 78bc.1ae7.a41b Ethernet1/5 78bc.1ae7.a417 78bc.1ae7.a41c Ethernet1/6 78bc.1ae7.a417 78bc.1ae7.a41d Ethernet1/7 78bc.1ae7.a417 78bc.1ae7.a41e Ethernet1/8 78bc.1ae7.a417 78bc.1ae7.a41f Ethernet1/9 78bc.1ae7.a417 78bc.1ae7.a420 Ethernet1/10 78bc.1ae7.a417 78bc.1ae7.a421 Ethernet1/11 78bc.1ae7.a417 78bc.1ae7.a422 Ethernet1/12 78bc.1ae7.a417 78bc.1ae7.a423 port-channel1 78bc.1ae7.a417 78bc.1ae7.a41a port-channel48 78bc.1ae7.a417 0000.0000.0000 mgmt0 78bc.1ae7.a411 78bc.1ae7.a411 Vethernet690 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet691 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet692 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet693 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet694 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet695 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet696 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet697 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet698 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet699 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet700 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet774 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet775 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet776 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet777 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet778 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet779 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet861 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet862 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet863 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet864 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet887 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet905 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet906 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet1015 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet1018 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet1019 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet1020 78bc.1ae7.a417 78bc.1ae7.a417 Vethernet1021 78bc.1ae7.a417 78bc.1ae7.a417\n\nQ. How to do Password Recovery on FXOS Supervisor (MIO)?\n\nFor password recovery procedures on FP41xx and FP9300 use this document: Password Recovery Procedure For Firepower 9300/4100 Series Appliances\n\nQ. How to do Password Recovery on ASA or FTD Logical Device?\n\nIn order to reset the logical device password you need to bootstrap again the device. With the Bootstrap Disaster Recovery process you can change any of these items:\n\nASA/ FTD management IP - IP, netmask, gateway, IPv6, prefix length\n\nASA password\n\nFTD registration key, password, FMC IP, Search Domains, Firewall Mode, DNS servers, FQDN\n\nASA cluster IP pool, netmask, gateway, prefix length, virtual IP.\n\nExample 1\n\nYou can use the FXOS UI to edit the bootstrap settings of a logical device. Navigate to Logical Devices tab, Edit a device\n\nSet the password:\n\nOnce you Save this message appears:\n\nExample 2\n\nThis is an example of ASA enable password change/recovery:\n\nFP4110-A# scope ssa\n\nFP4110-A /ssa # show logical-device\n\nLogical Device:\n\nName Description Slot ID Mode Oper State Templa te Name\n\n---------- ----------- ---------- ---------- ------------------------ ------ -------\n\nasa 1 Standalone Ok asa\n\nFP4110-A /ssa # scope logical-device asa\n\nFP4110-A /ssa/logical-device # scope mgmt-bootstrap asa\n\nFP4110-A /ssa/logical-device/mgmt-bootstrap # show config\n\nenter mgmt-bootstrap asa\n\ncreate bootstrap-key-secret PASSWORD\n\n! set value\n\nexit\n\nenter ipv4 1 default\n\nset gateway 172.16.171.1\n\nset ip 172.16.171.226 mask 255.255.255.0\n\nexit\n\nexit\n\nFP4110-A /ssa/logical-device/mgmt-bootstrap # enter bootstrap-key-secret PASSWORD\n\nFP4110-A /ssa/logical-device/mgmt-bootstrap/bootstrap-key-secret # set value\n\nValue: <enter new enable password in here>\n\nWarning: Bootstrap changes are not automatically applied to app-instances. To apply the changes, please do clear-mgmt-bootstrap, and restart each app-instance.\n\nFP4110-A /ssa/logical-device/mgmt-bootstrap/bootstrap-key-secret* # commit-buffer\n\nFP4110-A /ssa/logical-device/mgmt-bootstrap/bootstrap-key-secret # top\n\nFP4110-A# scope ssa\n\nFP4110-A /ssa # scope slot 1\n\nFP4110-A /ssa/slot # scope app-instance asa\n\nFP4110-A /ssa/slot/app-instance # clear-mgmt-bootstrap\n\nWarning: Clears the application management bootstrap. Application needs to be restarted for this action to be effective.\n\nFP4110-A /ssa/slot/app-instance* # commit-buffer\n\nFP4110-A /ssa/slot/app-instance # restart\n\nFP4110-A /ssa/slot/app-instance* # commit-buffer\n\nCheck if the ASA is online before connecting to it and use the new enable password.\n\nFP4110-A /ssa/slot/app-instance # show Application Instance: App Name Admin State Oper State Running Version Startup Version Profile Name Cluster State Cluster Role ---------- ----------- ---------------- --------------- --------------- ------------ --------------- ------------ asa Enabled Online 9.9.1.76 9.9.1.76 Not Applicable None FP4110-A /ssa/slot/app-instance #\n\nQ. How to Change the Current Password of an FXOS User (for example admin)?\n\nUse this procedure:\n\nFP4110-1-A# scope security FP4110-1-A /security # show local-user User Name First Name Last name --------------- --------------- --------- admin FP4110-1-A /security # enter local-user admin FP4110-1-A /security/local-user # set password Enter a password: Confirm the password: FP4110-1-A /security/local-user* # commit-buffer FP4110-1-A /security/local-user #\n\nQ. How to Downgrade FXOS?\n\nThe downgrade of FXOS images is not officially supported. The only Cisco-supported method of downgrading an image version of FXOS is to perform a complete re-image of the device. This is documented in Firepower 4100/9300 Upgrade Path\n\nQ. How to Downgrade/Upgrade an ASA Logical Device?\n\nTo downgrade/upgrade ASA version via Chassis Manager: Updating the Image Version for a Logical Device\n\nTo change via CLI, use this config guide section: Updating the Image Version for a Logical Device\n\nQ. How to Check the FXOS Upgrade Status via CLI?\n\nThe upgrade is completed once all the components get into Ready status:\n\nFP9300# scope system\n\nFP9300 /system # show firmware monitor\n\nFPRM:\n\nPackage-Vers: 2.0(1.37)\n\nUpgrade-Status: Ready\n\nFabric Interconnect A:\n\nPackage-Vers: 2.0(1.23)\n\nUpgrade-Status: Upgrading\n\nChassis 1:\n\nServer 1:\n\nPackage-Vers: 2.0(1.23)\n\nUpgrade-Status: Ready\n\nServer 2:\n\nPackage-Vers: 2.0(1.23)\n\nUpgrade-Status: Upgrading\n\nOther useful commands\n\nFP9300 /firmware/auto-install # show fsm status FP9300 /firmware/auto-install # show fsm status expand\n\nQ. How to Reload the Logical Device from FXOS CLI?\n\nQ. How to Check the FXOS Chassis Uptime and Last Reload Reason?\n\nFXOS uptime check is useful in case there is an FXOS traceback. You can see the FXOS from the UI (FCM) or from CLI:\n\nFPR9K-1-A# connect fxos FPR9K-1-A(fxos)# show system uptime System start time: Sun Sep 25 09:57:19 2016 System uptime: 28 days, 9 hours, 38 minutes, 14 seconds Kernel uptime: 28 days, 9 hours, 38 minutes, 41 seconds Active supervisor uptime: 28 days, 9 hours, 38 minutes, 14 seconds\n\nFurthermore, in order to determine the last reload reason use this command:\n\nFPR9K-1-A(fxos)# show system reset-reason\n\n----- reset reason for Supervisor-module 1 (from Supervisor in slot 1) ---\n\n1) At 212883 usecs after Fri Oct 21 22:34:35 2016\n\nReason: Kernel Panic\n\nService:\n\nVersion: 5.0(3)N2(3.02)\n\n2) At 106690 usecs after Thu May 26 16:07:38 2016\n\nReason: Reset Requested by CLI command reload\n\nService:\n\nVersion: 5.0(3)N2(3.02)\n\nFor FPR2100 uptime do this:\n\n1. Get the 'show tech-support fprm detail' bundle\n\n2. Extract the contents of the bundle\n\n3. Check the file tmp/inventory_manager.xml\n\nThere is an entry which shows the uptime in seconds:\n\ntmp/inventory_manager.xml:\n\n<uptime>151</uptime>\n\nQ. How to Check the Available Disk Space on FXOS?\n\nAlso called 'workspace':\n\nFPR9K-1-A# connect local-mgmt FPR9K-1-A(local-mgmt)# dir 1 29 Sep 25 09:56:22 2016 blade_debug_plugin 1 19 Sep 25 09:56:22 2016 bladelog 1 16 Aug 05 15:41:05 2015 cores 1 2841476 Apr 26 14:13:12 2016 d 2 4096 Dec 01 10:09:11 2015 debug_plugin/ 1 31 Aug 05 15:41:05 2015 diagnostics 1 2842049 Feb 23 03:26:38 2016 dp 1 18053120 Feb 23 11:10:19 2016 fpr9k-1-0-sam_logs_all.tar 1 18176000 Feb 23 11:10:43 2016 fpr9k-1-1-sam_logs_all.tar 1 19302400 Feb 23 11:11:07 2016 fpr9k-1-2-sam_logs_all.tar 1 16312320 Feb 23 11:06:53 2016 fpr9k-1-3-sam_logs_all.tar 1 2841476 Feb 22 18:47:00 2016 fxos-dplug.5.0.3.N2.3.13.67g.gSSA 2 4096 Aug 05 15:38:58 2015 lost+found/ 1 25 Dec 01 11:11:50 2015 packet-capture 1 18493440 Feb 23 10:44:51 2016 sam_logs_all.tar 2 4096 Sep 14 11:23:11 2016 techsupport/ Usage for workspace:// 4032679936 bytes total 324337664 bytes used 3503489024 bytes free\n\nFPR9K-1-A(local-mgmt)# dir volatile:/ 1 66 Oct 27 08:17:48 2016 xmlout_5816 Usage for volatile:// 251658240 bytes total 4096 bytes used 251654144 bytes free\n\nTo check the boot flash free space. Note that this output also shows the workspace size and usage:\n\nFPR9K-1-A# scope fabric-interconnect a FPR9K-1-A /fabric-interconnect # show storage Storage on local flash drive of fabric interconnect: Partition Size (MBytes) Used Percentage ---------------- ---------------- --------------- bootflash 106490 9 opt 3870 2 spare 5767 1 usbdrive Nothing Empty workspace 3845 9\n\nQ. How to Reset the Configuration of FXOS to Factory Defaults?\n\nUse this command:\n\nFPR9K-1-A# connect local-mgmt FPR9K-1-A(local-mgmt)# erase configuration\n\nExample\n\nFPR9K-1# connect local-mgmt FPR9K-1(local-mgmt)# erase configuration All configurations are erased and system must reboot. Are you sure? (yes/no): yes Removing all the configuration. Please wait.... /bin/rm: cannot remove directory `/bootflash/sysdebug//tftpd_logs': Device or resource busy sudo: cannot get working directory sudo: cannot get working directory Configurations are cleaned up. Rebooting.... ... System is coming up ... Please wait ... System is coming up ... Please wait ... 2016 Oct 28 06:31:00 %$ VDC-1 %$ %USER-0-SYSTEM_MSG: Starting bcm_attach - bcm_usd System is coming up ... Please wait ... 2016 Oct 28 06:31:06 %$ VDC-1 %$ %USER-0-SYSTEM_MSG: Finished bcm_attach... - bcm_usd 2016 Oct 28 06:31:07 %$ VDC-1 %$ %USER-0-SYSTEM_MSG: Enabling Filter on CPU port - bcm_usd System is coming up ... Please wait ... 2016 Oct 28 06:31:11 switch %$ VDC-1 %$ %VDC_MGR-2-VDC_ONLINE: vdc 1 has come online System is coming up ... Please wait ... nohup: appending output to `nohup.out' ---- Basic System Configuration Dialog ---- This setup utility guides you through the basic configuration of the system. Only minimal configuration including IP connectivity to the Fabric interconnect and its clustering mode is performed through these steps. Type Ctrl-C at any time to abort configuration and reboot system. To back track or make modifications to already entered values, complete input till end of section and answer no when prompted to apply configuration. You have chosen to setup a new Security Appliance. Continue? (y/n):\n\nQ. How to Check the Bootstrap Configuration (assigned interfaces, version, etc) of a Logical Device from the FXOS CLI?\n\nFPR4100-3-A# scope ssa FPR4100-3-A /ssa # show configuration scope ssa enter logical-device FTD4150-3 ftd 1 standalone enter external-port-link Ethernet16_ftd Ethernet1/6 ftd set decorator \"\" set description \"\" set port-name Ethernet1/6 exit enter external-port-link Ethernet17_ftd Ethernet1/7 ftd set decorator \"\" set description \"\" set port-name Ethernet1/7 exit enter external-port-link Ethernet18_ftd Ethernet1/8 ftd set decorator \"\" set description \"\" set port-name Ethernet1/8 exit enter mgmt-bootstrap ftd enter bootstrap-key DNS_SERVERS set value 192.0.2.100 exit enter bootstrap-key FIREPOWER_MANAGER_IP set value 10.62.148.57 exit enter bootstrap-key FIREWALL_MODE set value routed exit enter bootstrap-key FQDN set value FTD4150-3.lab.com exit enter bootstrap-key SEARCH_DOMAINS set value lab.com exit enter bootstrap-key-secret PASSWORD ! set value exit enter bootstrap-key-secret REGISTRATION_KEY ! set value exit enter ipv4 1 firepower set gateway 10.62.148.1 set ip 10.62.148.89 mask 255.255.255.128 exit exit set description \"\" set res-profile-name \"\" exit scope slot 1 enter app-instance ftd enable set startup-version 6.0.1.1213 exit set log-level info exit scope app asa 9.12.4.12 set-default exit scope app ftd 6.0.1.1213 accept-license-agreement set-default exit exit\n\nThis is equivalent to:\n\nIf you want to see all FXOS configuration then add the keyword 'all' (the output is several pages long):\n\nFPR4100-3-A /ssa # show configuration all\n\nQ. How to Check the Status (port type, state) of the FXOS Interfaces?\n\nFPR4100-3-A# scope eth-uplink\n\nFPR4100-3-A /eth-uplink # scope fabric a\n\nFPR4100-3-A /eth-uplink/fabric # show interface Interface: Port Name Port Type Admin State Oper State State Reason --------------- ------------------ ----------- ---------------- ------------ Ethernet1/1 Data Disabled Admin Down Administratively down Ethernet1/2 Data Disabled Admin Down Administratively down Ethernet1/3 Data Disabled Admin Down Administratively down Ethernet1/4 Data Disabled Sfp Not Present Unknown Ethernet1/5 Data Disabled Admin Down Administratively down Ethernet1/6 Data Enabled Up Ethernet1/7 Mgmt Enabled Up Ethernet1/8 Data Enabled Up FPR4100-3-A /eth-uplink/fabric #\n\nThis is equivalent to:\n\nQ. How to Check the CPU and Memory Utilization on the Chassis?\n\nFPR9K-2-A# connect fxos FPR9K-2-A(fxos)# show system resources Load average: 1 minute: 1.60 5 minutes: 1.30 15 minutes: 1.15 Processes : 967 total, 1 running CPU states : 1.8% user, 1.1% kernel, 97.1% idle Memory usage: 16326336K total, 4359740K used, 11966596K free\n\nTo check the memory:\n\nFPR4100-8-A /fabric-interconnect # show detail Fabric Interconnect: ID: A Product Name: Cisco FPR-4140-SUP PID: FPR-4140-SUP VID: V02 Vendor: Cisco Systems, Inc. Serial (SN): FLM12345KL6 HW Revision: 0 Total Memory (MB): 8074 OOB IP Addr: 10.62.148.196 OOB Gateway: 10.62.148.129 OOB Netmask: 255.255.255.128 OOB IPv6 Address: :: OOB IPv6 Gateway: :: Prefix: 64 Operability: Operable Thermal Status: Ok Current Task 1: Current Task 2: Current Task 3:\n\nTo verify the per-process memory utilization check (RES = Physical Memory):\n\nFPR4100-2-A-A# connect local-mgmt FPR4100-2-A-A(local-mgmt)# show processes Cpu(s): 8.0%us, 4.2%sy, 3.9%ni, 83.8%id, 0.0%wa, 0.0%hi, 0.1%si, 0.0%st Mem: 8267648k total, 3866552k used, 4401096k free, 288k buffers Swap: 0k total, 0k used, 0k free, 1870528k cached PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 5024 root -2 0 354m 114m 34m R 43 1.4 7976:51 /isan/bin/bcm_usd 1096 root 20 0 10352 3992 3332 S 0 0.0 0:00.28 sshd: admin@pts/1 1140 root 20 0 117m 78m 53m S 0 1.0 0:00.42 /isan/bin/ucssh --ucs-mgmt -p admin 1856 root 20 0 2404 632 512 S 0 0.0 2:29.32 /nuova/bin/cmcmon -f /etc/cmcmon.conf 1859 root 20 0 23804 1932 1532 S 0 0.0 1427:47 dmserver -F 1860 root 20 0 2244 472 404 S 0 0.0 0:00.01 /sbin/hotplug2 --persistent --set-rules-file /etc/automount.rules --set-worker /lib/worker_single.so 1861 root 20 0 57116 10m 6552 S 0 0.1 7:28.76 /isan/sbin/sysmgr -V 1864 root 20 0 14044 4136 1072 S 0 0.1 1:06.19 rsyslogd -c3 -i/var/run/rsyslogd.pid 4909 root 20 0 3568 1100 876 S 0 0.0 0:00.48 /isan/sbin/xinetd -syslog local7 -loop 250 -stayalive -reuse -dontfork 4911 root 20 0 58232 12m 6152 S 0 0.2 18:39.24 /isan/sbin/syslogd -d -n -m 0 -r 4912 root 20 0 20076 3532 2368 S 0 0.0 0:00.02 /isan/bin/sdwrapd 4913 root 21 1 2756 300 192 S 0 0.0 0:00.04 /usr/sbin/in.tftpd -l -c -s /bootflash 4914 root 20 0 58312 17m 8724 S 0 0.2 13:45.34 /isan/bin/pfm 4937 root 20 0 2208 332 272 S 0 0.0 0:00.01 /sbin/klogd -2 -x -c 1 4939 root 20 0 26692 4656 3620 S 0 0.1 0:24.01 /isan/bin/vshd\n\n...\n\nTip:\n\n1. Collect the show process memory output\n\n2. Paste the output into a file on a Linux machine (cat > top.log)\n\n3. Sort the file based on the RES column\n\nThis shows you the GBytes, the MBytes, and so on\n\nmzafeiro@MZAFEIRO-JA2YS:$ cat top.log | sort -V -k 6 1954 root 20 0 1645m 1.6g 1372 S 0.0 20.7 793:32.99 dmserver 7556 root 20 0 207m 9.8m 6184 S 0.0 0.1 73:52.25 udld 5563 root 20 0 333m 9.8m 7032 S 0.0 0.1 5:08.65 cdpd 5523 root 20 0 327m 103m 28m S 0.0 1.3 0:12.38 afm 24040 daemon 23 3 592m 115m 33m S 0.0 1.5 74:56.57 httpd 5329 root -2 0 384m 132m 29m S 9.4 1.7 27130:09 bcm_usd 5317 root 20 0 401m 150m 35m S 0.0 1.9 33:19.05 fwm 5625 root 24 4 450m 179m 35m S 0.0 2.3 275:38.25 svc_sam_statsAG 5614 root 23 3 495m 247m 54m S 0.0 3.2 355:59.95 svc_sam_dme 21688 root 20 0 2672 1080 880 S 0.0 0.0 3:15.29 ntpd 8819 root 35 15 2408 1084 748 R 5.6 0.0 0:00.06 top\n\nQ. How to Check Chassis Interface Transceiver Type?\n\nIn Firepower 4100/9300 use this command:\n\nFPR9K-2-A# connect fxos FPR9K-2-A(fxos)# show interface e1/3 transceiver details Ethernet1/3 transceiver is present type is 1000base-T name is CISCO-METHODE part number is SP7041-R revision is serial number is FLM12345KL6 nominal bitrate is 1300 MBit/sec Link length supported for copper is 100 m cisco id is -- cisco extended id number is 4 DOM is not supported FPR9K-2-A(fxos)#\n\nIn the case of fiber, the output is:\n\nFPR4100-1-A(fxos)# show interface e1/1 transceiver details Ethernet1/1 transceiver is present type is 10Gbase-SR name is CISCO-JDSU part number is PLRXPL-SC-S43-CS revision is 1 serial number is FLM12345KL6 nominal bitrate is 10300 MBit/sec Link length supported for 50/125um OM2 fiber is 82 m Link length supported for 62.5/125um fiber is 26 m Link length supported for 50/125um OM3 fiber is 300 m cisco id is -- cisco extended id number is 4 Calibration info not available\n\nIn Firepower 1000/2100 use this command:\n\nFPR2100# scope fabric-interconnect\n\nFPR2100 /fabric-interconnect # show inventory expand detail | egrep ignore-case \"Port|Xcvr\"\n\n...\n\nSlot 1 Port 13:\n\nXcvr: 10 Gbase SR\n\nXcvr Model: PLRXPL-SC-S43-C\n\nXcvr Vendor: Cisco Systems, Inc.\n\nXcvr Serial: ABCD1234\n\nSlot 1 Port 14:\n\nXcvr: 10 Gbase SR\n\nXcvr Model: PLRXPL-SC-S43-C\n\nXcvr Vendor: Cisco Systems, Inc.\n\nXcvr Serial: VWXY1234\n\nSlot 1 Port 15:\n\nXcvr: Non Present\n\nXcvr Model:\n\nXcvr Vendor:\n\nXcvr Serial:\n\nSlot 1 Port 16:\n\nXcvr: Non Present\n\nXcvr Model:\n\nXcvr Vendor:\n\nXcvr Serial:\n\nQ. How to Check the Module/Blade/Server/Netmod Info (HW type/PID/SN/Memory/Cores etc)?\n\nThis command shows the Product ID (PID) and Serial Number (SN) of chassis and modules (netmods)\n\nFP4110-7-A# connect fxos\n\nFP4110-7-A(fxos)# show inventory NAME: \"Chassis\", DESCR: \"Firepower 41xx Security Appliance\" PID: FPR-4110-SUP , VID: V02 , SN: FLM12345KL6 <--- Chassis SN NAME: \"Module 1\", DESCR: \"Firepower 41xx Supervisor\" PID: FPR-4110-SUP , VID: V02 , SN: FLM12345KL6 <--- Embedded module on FPR4100 NAME: \"Module 3\", DESCR: \"Firepower 6x10G FTW SFP+ SR NM\" PID: FPR-NM-6X10SR-F , VID: V00 , SN: FLM12345KL6 <--- FTW Netmode SN\n\nFPR4110 has 2 slots for network modules (2 and 3) and the device in the example has an FTW netmod installed in slot 3.\n\nFPR9K-1-A# scope chassis 1 FPR9K-1-A /chassis # show inventory server Chassis 1: Servers: Server 1/1: Equipped Product Name: Cisco Firepower 9000 Series High Performance Security Module Equipped PID: FPR9K-SM-36 Equipped VID: V01 Equipped Serial (SN): FLM12345KL6 Slot Status: Equipped Acknowledged Product Name: Cisco Firepower 9000 Series High Performance Security Module Acknowledged PID: FPR9K-SM-36 Acknowledged VID: V01 Acknowledged Serial (SN): FLM12345KL6 Acknowledged Memory (MB): 262144 Acknowledged Effective Memory (MB): 262144 Acknowledged Cores: 36 Acknowledged Adapters: 2 Server 1/2: Equipped Product Name: Cisco Firepower 9000 Series High Performance Security Module Equipped PID: FPR9K-SM-36 Equipped VID: V01 Equipped Serial (SN): FLM12345KL6 Slot Status: Equipped Acknowledged Product Name: Cisco Firepower 9000 Series High Performance Security Module Acknowledged PID: FPR9K-SM-36 Acknowledged VID: V01 Acknowledged Serial (SN): FLM12345KL6 Acknowledged Memory (MB): 262144 Acknowledged Effective Memory (MB): 262144 Acknowledged Cores: 36 Acknowledged Adapters: 2 Server 1/3: Equipped Product Name: Cisco Firepower 9000 Series High Performance Security Module Equipped PID: FPR9K-SM-36 Equipped VID: V01 Equipped Serial (SN): FLM12345KL6 Slot Status: Equipped Acknowledged Product Name: Cisco Firepower 9000 Series High Performance Security Module Acknowledged PID: FPR9K-SM-36 Acknowledged VID: V01 Acknowledged Serial (SN): FLM12345KL6 Acknowledged Memory (MB): 262144 Acknowledged Effective Memory (MB): 262144 Acknowledged Cores: 36 Acknowledged Adapters: 2\n\nServer1/1 = module/blade 1\n\nServer1/2 = module/blade 2\n\nServer1/3 = module/blade 3\n\nFPR41xx model PIDs:\n\nFPR4K-SM-12 = FPR4110\n\nFPR4K-SM-24 = FPR4120\n\nFPR4K-SM-36 = FPR4140\n\nFPR4K-SM-44 = FPR4150\n\nFPR4K-SM-24S = FPR4115\n\nFPR4K-SM-32S = FPR4125\n\nFPR4K-SM-44S = FPR4145\n\nYou can also get other information under scope server <chassis-id/blade-id>:\n\nFP9300-A# scope server 1/1\n\nFP9300-A /chassis/server # show inventory\n\n<CR>\n\n> Redirect it to a file\n\n>> Redirect it to a file in append mode\n\nadapter Adapter\n\nbios Bios\n\nboard Board\n\ncpu Cpu\n\ndetail Detail\n\nexpand Expand\n\nmemory Memory\n\nmgmt Mgmt\n\nstorage Storage\n\n| Pipe command output to filter\n\nFP9300-A /chassis/server # show inventory storage\n\nServer 1/1:\n\nName:\n\nUser Label:\n\nEquipped PID: FPR9K-SM-36\n\nEquipped VID: V01\n\nEquipped Serial (SN): FLM12345PBD\n\nSlot Status: Equipped\n\nAcknowledged Product Name: Cisco Firepower 9000 Series High Performance Security Module\n\nAcknowledged PID: FPR9K-SM-36\n\nAcknowledged VID: 01\n\nAcknowledged Serial (SN): FLM67890PBD\n\nAcknowledged Memory (MB): 262144\n\nAcknowledged Effective Memory (MB): 262144\n\nAcknowledged Cores: 36\n\nAcknowledged Adapters: 2\n\nMotherboard:\n\nProduct Name: Cisco Firepower 9000 Series High Performance Security Module\n\nPID: FPR9K-SM-36\n\nVID: V01\n\nVendor: Cisco Systems Inc\n\nSerial (SN): FLM12345KL6\n\nHW Revision: 0\n\nRAID Controller 1:\n\nType: SAS\n\nVendor: Cisco Systems Inc\n\nModel: UCSB-MRAID12G\n\nSerial: FLM12345KL6\n\nHW Revision: C0\n\nPCI Addr: 01:00.0\n\nRaid Support: RAID0, RAID1\n\nOOB Interface Supported: Yes\n\nRebuild Rate: 30\n\nController Status: Optimal\n\nLocal Disk 1:\n\nProduct Name:\n\nPID:\n\nVID:\n\nVendor: TOSHIBA\n\nModel: PX02SMF080\n\nVendor Description:\n\nSerial: FLM12345KL6\n\nHW Rev: 0\n\nBlock Size: 512\n\nBlocks: 1560545280\n\nOperability: Operable\n\nOper Qualifier Reason: N/A\n\nPresence: Equipped\n\nSize (MB): 761985\n\nDrive State: Online\n\nPower State: Active\n\nLink Speed: 12 Gbps\n\nDevice Type: SSD\n\nLocal Disk 2:\n\nProduct Name:\n\nPID:\n\nVID:\n\nVendor: TOSHIBA\n\nModel: PX02SMF080\n\nVendor Description:\n\nSerial: FLM12345KL6\n\nHW Rev: 0\n\nBlock Size: 512\n\nBlocks: 1560545280\n\nOperability: Operable\n\nOper Qualifier Reason: N/A\n\nPresence: Equipped\n\nSize (MB): 761985\n\nDrive State: Online\n\nPower State: Active\n\nLink Speed: 12 Gbps\n\nDevice Type: SSD\n\nLocal Disk Config Definition:\n\nMode: RAID 1 Mirrored\n\nDescription:\n\nProtect Configuration: Yes\n\nVirtual Drive 0:\n\nType: RAID 1 Mirrored\n\nBlock Size: 512\n\nBlocks: 1560545280\n\nOperability: Operable\n\nPresence: Equipped\n\nSize (MB): 761985\n\nLifecycle: Allocated\n\nDrive State: Optimal\n\nStrip Size (KB): 64\n\nAccess Policy: Read Write\n\nRead Policy: Normal\n\nConfigured Write Cache Policy: Write Through\n\nActual Write Cache Policy: Write Through\n\nIO Policy: Direct\n\nDrive Cache: No Change\n\nBootable: True\n\nFP9300-A /chassis/server #\n\nQ. How to Delete an ASA or FTD Image from FXOS GUI and CLI?\n\nFrom FCM GUI:\n\nTo delete from the GUI navigate to System > Updates and delete the image:\n\nFrom FXOS CLI\n\nFPR4100# scope ssa FPR4100 /ssa # show app Application: Name Version Description Author Deploy Type CSP Type Is Default App ------ ---------- ----------- ---------- ----------- ----------- -------------- asa 9.6.1 N/A cisco Native Application Yes ftd 6.0.1.1213 N/A cisco Native Application No ftd 6.1.0.330 N/A cisco Native Application Yes FPR4100 /ssa # delete app asa 9.6.1 FPR4100 /ssa* # commit FPR4100 /ssa # show app Application: Name Version Description Author Deploy Type CSP Type Is Default App ---------- ---------- ----------- ---------- ----------- ----------- -------------- ftd 6.0.1.1213 N/A cisco Native Application No ftd 6.1.0.330 N/A cisco Native Application Yes\n\nQ. How to Check the FXOS Version from the CLI?\n\nThere are a few ways to do this.\n\nWay 1\n\nFPR4100# show fabric-interconnect firmware Fabric Interconnect A: Running-Kern-Vers: 5.0(3)N2(4.01.65) Running-Sys-Vers: 5.0(3)N2(4.01.65) Package-Vers: 2.0(1.86) Startup-Kern-Vers: 5.0(3)N2(4.01.65) Startup-Sys-Vers: 5.0(3)N2(4.01.65) Act-Kern-Status: Ready Act-Sys-Status: Ready Bootloader-Vers:\n\nThis is the same as it can be seen from the FCM GUI:\n\nWay 2\n\nFP4145-1# show version Version: 2.6(1.192) Startup-Vers: 2.6(1.192)\n\nQ. How to Verify Interfaces MTU on FXOS?\n\nThe Firepower 4100/9300 chassis has support for jumbo frames enabled by default. You can check the interface MTU with this command:\n\nFPR9K-1-A# connect fxos\n\nFPR9K-1-A(fxos)# show hardware internal bcm-usd info phy-info all +-----------------+------------------------------------------------------------+ | port phy info | +-----------------+------------------------------------------------------------+ front-port : 1 asic-port : 125 sfp installed : yes enable : ena speed : 1G autoneg : on interface : (10)XFI duplex: half linkscan : sw pause_tx : 0x0 pause_rx : 0x0 max frame : 9216 local_advert : 0x20 remote_advert : 0x420 port_40g_enable : 0 local_fault : 0x1 remote_fault : 0x0 xcvr sfp type : (1)PHY_SFP_1G_COPPER TSC4 registers: txfir(0xc252):0x0000 txdrv(0xc017):0x0000 lane(0x9003):0x1b1b Asic 56846 Registers signal_detect(1.0x81d0):0x0000 link_status(1.0x81d1):0x0000 rx_link_state(1.0x0):0x0000 pcs_rx_tx_fault(1.0x0008):0x0000 pcs_block_status_0x20(1.0x20) :0x0000 pcs_block_status_0x21(1.0x021) : 0x0000 transmitter_reg(1.0x8000):0x0000 micro_ver(1.0x81f0):0x0000\n\nAlternatively, check MTU in the fxos command shell:\n\nKSEC-FPR4112-4# connect fxos\n\n<output is skipped>\n\nKSEC-FPR4112-4(fxos)# show interface ethernet 1/1\n\nEthernet1/1 is up\n\nDedicated Interface\n\nHardware: 1000/10000 Ethernet, address: 14a2.a02f.07c0 (bia 14a2.a02f.07c0)\n\nDescription: U: Uplink\n\nMTU 9216 bytes, BW 1000000 Kbit, DLY 10 usec\n\nQ. How to Check Installed Applications?\n\nFrom the chassis CLI use the command scope ssa and then show slot expand detail.\n\nThe same information can be found on file sam_techsupportinfo within the chassis show tech bundle.\n\n`scope ssa` `show slot expand detail` Slot: Slot ID: 1 Log Level: Info Admin State: Ok Operational State: Online Disk State: Ok Clear Log Data: Available Application Instance: Application Name: asa Admin State: Enabled Operational State: Online Running Version: 9.6.2 Startup Version: 9.6.2 Hotfixes: Externally Upgraded: No Cluster Oper State: Not Applicable Current Job Type: Start Current Job Progress: 100 Current Job State: Succeeded Clear Log Data: Available Error Msg: Current Task: App Attribute: App Attribute Key: mgmt-ip Value: 0.0.0.0 App Attribute Key: mgmt-url Value: https://0.0.0.0/ Heartbeat: Last Received Time: 2017-03-15T10:25:02.220 Heartbeat Interval: 1 Max Number of Missed heartbeats Permitted: 3 Resource: Allocated Core NR: 46 Allocated RAM (KB): 233968896 Allocated Data Disk (KB): 20971528 Allocated Binary Disk (KB): 174964 Allocated Secondary Disk (KB): 0 Heartbeat: Last Received Time: 2017-03-15T10:25:00.447 Heartbeat Interval: 5 Max Number of Missed heartbeats Permitted: 3 Monitor: OS Version: 9.6(1.150) CPU Total Load 1 min Avg: 48.110001 CPU Total Load 5 min Avg: 48.110001 CPU Total Load 15 min Avg: 48.110001 Memory Total (KB): 264377600 Memory Free (KB): 236835112 Memory Used (KB): 27542488 Memory App Total (KB): 233968896 Disk File System Count: 5 Blade Uptime: up 1 day, 6:56 Last Updated Timestamp: 2017-03-15T10:24:10.306 Disk File System: File System: /dev/sda1 Mount Point: /mnt/boot Disk Total (KB): 7796848 Disk Free (KB): 7694456 Disk Used (KB): 102392 File System: /dev/sda2 Mount Point: /opt/cisco/config Disk Total (KB): 1923084 Disk Free (KB): 1734420 Disk Used (KB): 90976 File System: /dev/sda3 Mount Point: /opt/cisco/platform/logs Disk Total (KB): 4805760 Disk Free (KB): 4412604 Disk Used (KB): 149036 File System: /dev/sda5 Mount Point: /var/data/cores Disk Total (KB): 48061320 Disk Free (KB): 43713008 Disk Used (KB): 1906892 File System: /dev/sda6 Mount Point: /opt/cisco/csp Disk Total (KB): 716442836 Disk Free (KB): 714947696 Disk Used (KB): 1495140\n\nQ. How to Verify the Port-Channel Configuration from FXOS CLI?\n\nPort-Channel verification commands\n\nCheck 1\n\nTo verify which Port-Channels are currently configured on the chassis:\n\nFPR9K-1-A# connect fxos\n\nFPR9K-1-A(fxos)# show port-channel summary Flags: D - Down P - Up in port-channel (members) I - Individual H - Hot-standby (LACP only) s - Suspended r - Module-removed S - Switched R - Routed U - Up (port-channel) M - Not in use. Min-links not met -------------------------------------------------------------------------------- Group Port- Type Protocol Member Ports Channel -------------------------------------------------------------------------------- 11 Po11(SU) Eth LACP Eth1/4(P) Eth1/5(P) 15 Po15(SD) Eth LACP Eth1/6(D) 48 Po48(SU) Eth LACP Eth1/2(P) Eth1/3(P)\n\nCheck 2\n\nTo verify the Port-Channels allocated to a logical device:\n\nFPR9K-1-A# scope ssa FPR9K-1-A /ssa # show configuration scope ssa enter logical-device ftd_682021968 ftd \"1,2,3\" clustered enter cluster-bootstrap set chassis-id 1 set ipv4 gateway 0.0.0.0 set ipv4 pool 0.0.0.0 0.0.0.0 set ipv6 gateway :: set ipv6 pool :: :: set virtual ipv4 0.0.0.0 mask 0.0.0.0 set virtual ipv6 :: prefix-length \"\" ! set key set mode spanned-etherchannel set name 682021968 set site-id 0 exit enter external-port-link Ethernet11_ftd Ethernet1/1 ftd set decorator \"\" set description \"\" set port-name Ethernet1/1 exit enter external-port-link PC11_ftd Port-channel11 ftd set decorator \"\" set description \"\" set port-name Port-channel11 exit enter external-port-link PC48_ftd Port-channel48 ftd set decorator \"\" set description \"\" set port-name Port-channel48 exit\n\nCheck 3\n\nTo check the Port-Channel traffic statistics per port:\n\nFPR9K-1-A(fxos)# show port-channel traffic interface port-channel 11 ChanId Port Rx-Ucst Tx-Ucst Rx-Mcst Tx-Mcst Rx-Bcst Tx-Bcst ------ --------- ------- ------- ------- ------- ------- ------- 11 Eth1/4 62.91% 0.0% 58.90% 49.99% 100.00% 0.0% 11 Eth1/5 37.08% 0.0% 41.09% 50.00% 0.0% 0.0%\n\nCheck 4\n\nTo check the details of a specific Port-Channel:\n\nFPR9K-1-A(fxos)# show port-channel database interface port-channel 11 port-channel11 Last membership update is successful 2 ports in total, 2 ports up First operational port is Ethernet1/4 Age of the port-channel is 0d:20h:26m:27s Time since last bundle is 0d:18h:29m:07s Last bundled member is Ethernet1/5 Ports: Ethernet1/4 [active ] [up] * Ethernet1/5 [active ] [up]\n\nCheck 5\n\nTo check the local LACP system-id:\n\nFPR9K-1-A(fxos)# show lacp system-identifier 32768,b0-aa-77-2f-81-bb\n\nCheck 6\n\nTo check the LACP system-ID of the upstream devices along with the LACP status flags:\n\nFPR9K-1-A(fxos)# show lacp neighbor Flags: S - Device is sending Slow LACPDUs F - Device is sending Fast LACPDUs A - Device is in Active mode P - Device is in Passive mode port-channel11 neighbors Partner's information Partner Partner Partner Port System ID Port Number Age Flags Eth1/4 32768,4-62-73-d2-65-0 0x118 66828 FA LACP Partner Partner Partner Port Priority Oper Key Port State 32768 0xb 0x3d Partner's information Partner Partner Partner Port System ID Port Number Age Flags Eth1/5 32768,4-62-73-d2-65-0 0x119 66826 FA LACP Partner Partner Partner Port Priority Oper Key Port State 32768 0xb 0x3d\n\nCheck 7\n\nTo check the Port-Channel event history:\n\nFPR9K-1-A(fxos)# show port-channel internal event-history all Low Priority Pending queue: len(0), max len(1) [Thu Apr 6 11:07:48 2017] High Priority Pending queue: len(0), max len(16) [Thu Apr 6 11:07:48 2017] PCM Control Block info: pcm_max_channels : 4096 pcm_max_channel_in_use : 48 pc count : 3 hif-pc count : 0 Max PC Cnt : 104 Load-defer timeout : 120 ==================================================== PORT CHANNELS: 2LvPC PO in system : 0 port-channel11 channel : 11 bundle : 65535 ifindex : 0x1600000a admin mode : active oper mode : active fop ifindex : 0x1a003000 nports : 2 active : 2 pre cfg : 0 ltl : 0x0 (0) lif : 0x0 iod : 0x78 (120) global id : 3 flag : 0 lock count : 0 num. of SIs: 0 ac mbrs : 0 0 lacp graceful conv disable : 0 lacp suspend indiv disable : 1 pc min-links : 1 pc max-bundle : 16 pc max active members : 32 pc is-suspend-minlinks : 0 port load defer enable : 0 lacp fast-select-hot-standby disable : 0 ethpm bundle lock count : 0 bundle res global id : 2 Members: Ethernet1/4 [bundle_no = 0] Ethernet1/5 [bundle_no = 0] port-channel external lock: Lock Info: resource [eth-port-channel 11] type[0] p_gwrap[(nil)] FREE @ 246108 usecs after Wed Apr 5 14:18:10 2017 type[1] p_gwrap[(nil)] FREE @ 436471 usecs after Wed Apr 5 16:15:30 2017 type[2] p_gwrap[(nil)] FREE @ 436367 usecs after Wed Apr 5 16:15:30 2017 0x1600000a internal (ethpm bundle) lock: Lock Info: resource [eth-port-channel 11] type[0] p_gwrap[(nil)] FREE @ 246083 usecs after Wed Apr 5 14:18:10 2017 type[1] p_gwrap[(nil)] FREE @ 610546 usecs after Wed Apr 5 16:19:04 2017 type[2] p_gwrap[(nil)] FREE @ 610437 usecs after Wed Apr 5 16:19:04 2017 0x1600000a >>>>FSM: <eth-port-channel 11> has 194 logged transitions<<<<< 1) FSM:<eth-port-channel 11> Transition at 557291 usecs after Wed Apr 5 16:04:27 2017 Previous state: [PCM_PC_ST_WAIT_REL_RESRC] Triggered event: [PCM_PC_EV_REL_RESRC_DONE] Next state: [PCM_PC_ST_INIT] 2) FSM:<eth-port-channel 11> Transition at 49036 usecs after Wed Apr 5 16:07:18 2017 Previous state: [PCM_PC_ST_INIT] Triggered event: [PCM_PC_EV_L2_CREATE] Next state: [PCM_PC_ST_WAIT_CREATE] 3) FSM:<eth-port-channel 11> Transition at 49053 usecs after Wed Apr 5 16:07:18 2017 Previous state: [PCM_PC_ST_WAIT_CREATE] Triggered event: [PCM_PC_EV_L2_CREATED] Next state: [PCM_PC_ST_CREATED]\n\nCheck 8\n\nDebug lacp all produces a very big output:\n\nFPR9K-1-A(fxos)# debug lacp all\n\n2017 Jul 11 10:42:23.854160 lacp: lacp_pkt_parse_pdu(569): lacp_pkt_parse_pdu: got packet from actorport=220a partnerport= 43 2017 Jul 11 10:42:23.854177 lacp: lacp_pkt_compute_port_params(1163): Ethernet1/3(0x1a002000): pa aggregatable state=1 ac aggregatable state=1 pkt sync=1 port_stateactive=1 2017 Jul 11 10:42:23.854190 lacp: lacp_pkt_compute_port_params(1170): p_el=(8000, 2-0-0-0-0-1, 136, 8000, 220a) 2017 Jul 11 10:42:23.854198 lacp: lacp_pkt_compute_port_params(1172): p_el_pkt=(8000, 2-0-0-0-0-1, 136, 8000, 220a) 2017 Jul 11 10:42:23.854207 lacp: lacp_utils_get_obj_type_from_ifidx(390): lacp_utils_get_obj_type_from_ifidx: For if-index 1a002000 , if_type =26 2017 Jul 11 10:42:23.854218 lacp: Malloc in fu_fsm_event_new@../utils/fsmutils/fsm.c[5317]-ty[1]0x9bf719c[124] 2017 Jul 11 10:42:23.854228 lacp: lacp_utils_cr_fsm_event(572): Called from lacp_utils_create_fsm_event_with_params: Create event 0x9bf719c 2017 Jul 11 10:42:23.854237 lacp: Malloc in fu_fsm_event_pair_new@../utils/fsmutils/fsm.c[5327]-ty[2]0x9bf730c[132] 2017 Jul 11 10:42:23.854248 lacp: fu_fsm_execute_all: match_msg_id(0), log_already_open(0) 2017 Jul 11 10:42:23.854257 lacp: Malloc in fu_fsm_event_new@../utils/fsmutils/fsm.c[5317]-ty[1]0x9bf719c[124] 2017 Jul 11 10:42:23.854268 lacp: fu_fsm_execute: (Ethernet1/3) 2017 Jul 11 10:42:23.854275 lacp: current state [LACP_ST_PORT_MEMBER_COLLECTING_AND_DISTRIBUTING_ENABLED] 2017 Jul 11 10:42:23.854283 lacp: current event [LACP_EV_PARTNER_PDU_IN_SYNC_COLLECT_ENABLED_DISTRIBUTING_ENABLED] 2017 Jul 11 10:42:23.854291 lacp: next state [FSM_ST_NO_CHANGE] 2017 Jul 11 10:42:23.854304 lacp: lacp_proto_get_state(969): IF Ethernet1/3(0x1a002000): end PartnerEnd(2): state TimeOut(1): enable_flag False 2017 Jul 11 10:42:23.854314 lacp: lacp_proto_record_pdu(2266): Recording PDU for LACP pkt on IF Ethernet1/3(0x1a002000) 2017 Jul 11 10:42:23.854325 lacp: lacp_proto_set_state(900): IF Ethernet1/3(0x1a002000): Set end ActorEnd(1): state Defaulted(6) from False to False 2017 Jul 11 10:42:23.854335 lacp: lacp_proto_get_state(969): IF Ethernet1/3(0x1a002000): end PartnerEnd(2): state TimeOut(1): enable_flag False 2017 Jul 11 10:42:23.854344 lacp: lacp_proto_update_ntt(2211): updateNTT called for IF Ethernet1/3(0x1a002000) 2017 Jul 11 10:42:23.854355 lacp: lacp_proto_get_state(969): IF Ethernet1/3(0x1a002000): end ActorEnd(1): state TimeOut(1): enable_flag True 2017 Jul 11 10:42:23.854362 lacp: lacp_timer_start_w_chgd_time(681): lacp_timer_start_w_chgd_time: starting timer with time in ms = 15000 2017 Jul 11 10:42:23.854377 lacp: lacp_timer_start(637): Timer Started: Timer_Arg ([rid type IF-Rid: ifidx 0x1a002000: ch_num 0: event_id LACP_EV_RECEIVE_PARTNER_PDU_TIMED_OUT(17): timer_id 426092: type PartnerTimedOut: active True: period_in_ms 15000]) 2017 Jul 11 10:42:23.854386 lacp: lacp_timer_start(638): Timer period=15 seconds 2017 Jul 11 10:42:23.854396 lacp: Free ptr in fu_fsm_execute@../utils/fsmutils/fsm.c[1091] for addr 0x9bf719c 2017 Jul 11 10:42:23.854408 lacp: fu_fsm_execute_all: done processing event LACP_EV_PARTNER_PDU_IN_SYNC_COLLECT_ENABLED_DISTRIBUTING_ENABLED 2017 Jul 11 10:42:23.854419 lacp: fu_mts_drop ref 0x9bf7320 opc 90117 2017 Jul 11 10:42:23.854434 lacp: fu_fsm_execute_all: MTS_OPC_NET_L2_RX_DATA_HDR(msg_id 2623696) dropped 2017 Jul 11 10:42:23.854445 lacp: fu_fsm_engine_post_event_processing 2017 Jul 11 10:42:23.854453 lacp: end of while in fu_fsm_engine 2017 Jul 11 10:42:23.854461 lacp: fu_handle_process_hot_plugin_msg: Entered the function line 143 2017 Jul 11 10:42:23.854468 lacp: begin fu_fsm_engine: line[2357] 2017 Jul 11 10:42:24.361501 lacp: lacp_pkt_encode_pdu_helper(770): lacp_pkt_encode_pdu_helper: pkt_len=LACP_PDU_LEN=110 periodic_rate:1 2017 Jul 11 10:42:24.361530 lacp: lacp_pkt_encode_pdu_helper(797): lacp_pkt_encode_pdu_helper: if_idx=Ethernet1/3(0x1a002000) partner-mac=0-a6-ca-f3-c7-83 port_num=43 2017 Jul 11 10:42:24.361542 lacp: lacp_debug_wrapper_tl(1718): Executing [mcecm_api_is_pc_mcec] 2017 Jul 11 10:42:24.361551 lacp: lacp_debug_wrapper_tl(1718): input: if_index = [0x16000000] 2017 Jul 11 10:42:24.361559 lacp: lacp_debug_wrapper_tl(1718): Executing [mcecm_cache_is_pc_mcec] 2017 Jul 11 10:42:24.361568 lacp: lacp_debug_wrapper_tl(1718): output:0 2017 Jul 11 10:42:24.361589 lacp: lacp_pkt_encode_pdu_helper(842): 0x1a002000: Set short_timeout to periodic_rate:1 2017 Jul 11 10:42:24.361599 lacp: lacp_pkt_encode_pdu_helper(879): lacp_pkt_encode_pdu_helper: actor-port-state=3f agg=1 insync=1 coll=1 dis=1 active=1 short_timeout=1 2017 Jul 11 10:42:24.361612 lacp: lacp_pkt_encode_pdu_helper(906): lacp_pkt_encode_pdu_helper: if_idx=Ethernet1/3(0x1a002000) partner-port-state=3d agg=1 insync=1 coll=1 dis=1 active=1 short-timeout=0 2017 Jul 11 10:42:24.361624 lacp: lacp_pkt_encode_pdu_helper(910): lacp_pkt_encode_pdu_helper: if_idx=Ethernet1/3(0x1a002000) partner-mac=2-0-0-0-0-1 port_num=220a 2017 Jul 11 10:42:24.361636 lacp: lacp_net_tx_data(206): lacp_net_tx_data: Sending buffer with length 110 2017 Jul 11 10:42:24.361648 lacp: lacp_net_tx_data(215): 01 01 01 14 ffff 2017 Jul 11 10:42:24.361658 lacp: lacp_net_tx_data(215): ffff 2017 Jul 11 10:42:24.361668 lacp: lacp_net_tx_data(215): 00 00 00 02 14 ffff 2017 Jul 11 10:42:24.361678 lacp: lacp_net_tx_data(215): ffff 2017 Jul 11 10:42:24.361689 lacp: lacp_net_tx_data(215): 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 2017 Jul 11 10:42:24.361700 lacp: lacp_net_tx_data(215): 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 2017 Jul 11 10:42:24.361710 lacp: lacp_net_tx_data(215): 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 2017 Jul 11 10:42:24.361721 lacp: lacp_net_tx_data(247): Ethernet1/3(0x1a002000): Tx LACP PDU len: 110 As:3f, Ps:3d 2017 Jul 11 10:42:24.361753 lacp: lacp_proto_get_state(969): IF Ethernet1/3(0x1a002000): end PartnerEnd(2): state TimeOut(1): enable_flag False 2017 Jul 11 10:42:24.361764 lacp: lacp_proto_restart_tx_timer(1802): lacp_proto_restart_tx_timer: got enable flag=0 before sending on interface Ethernet1/3(0x1a002000) 2017 Jul 11 10:42:24.361773 lacp: lacp_proto_restart_tx_timer(1825): lacp_proto_restart_tx_timer: flag 0 interface Ethernet1/3(0x1a002000) periodic_timer is fast 2017 Jul 11 10:42:24.361782 lacp: lacp_timer_start_w_chgd_time(681): lacp_timer_start_w_chgd_time: starting timer with time in ms = 1000 2017 Jul 11 10:42:24.361798 lacp: lacp_timer_start(637): Timer Started: Timer_Arg ([rid type IF-Rid: ifidx 0x1a002000: ch_num 0: event_id LACP_EV_PERIODIC_TRANSMIT_TIMER_EXPIRED(19): timer_id 400214: type PDUSendTime: active True: period_in_ms 1000]) 2017 Jul 11 10:42:24.361807 lacp: lacp_timer_start(638): Timer period=1 seconds 2017 Jul 11 10:42:24.361820 lacp: lacp_pkt_encode_pdu_helper(770): lacp_pkt_encode_pdu_helper: pkt_len=LACP_PDU_LEN=110 periodic_rate:1 2017 Jul 11 10:42:24.361833 lacp: lacp_pkt_encode_pdu_helper(797): lacp_pkt_encode_pdu_helper: if_idx=Ethernet1/4(0x1a003000) partner-mac=0-a6-ca-f3-c7-83 port_num=44 2017 Jul 11 10:42:24.361841 lacp: lacp_debug_wrapper_tl(1718): Executing [mcecm_api_is_pc_mcec] 2017 Jul 11 10:42:24.361849 lacp: lacp_debug_wrapper_tl(1718): input: if_index = [0x16000000] 2017 Jul 11 10:42:24.361857 lacp: lacp_debug_wrapper_tl(1718): Executing [mcecm_cache_is_pc_mcec] 2017 Jul 11 10:42:24.361865 lacp: lacp_debug_wrapper_tl(1718): output:0 2017 Jul 11 10:42:24.361879 lacp: lacp_pkt_encode_pdu_helper(842): 0x1a003000: Set short_timeout to periodic_rate:1 2017 Jul 11 10:42:24.361888 lacp: lacp_pkt_encode_pdu_helper(879): lacp_pkt_encode_pdu_helper: actor-port-state=7f agg=1 insync=1 coll=1 dis=1 active=1 short_timeout=1 2017 Jul 11 10:42:24.361899 lacp: lacp_pkt_encode_pdu_helper(906): lacp_pkt_encode_pdu_helper: if_idx=Ethernet1/4(0x1a003000) partner-port-state=0 agg=0 insync=0 coll=0 dis=0 active=0 short-timeout=0 2017 Jul 11 10:42:24.361910 lacp: lacp_pkt_encode_pdu_helper(910): lacp_pkt_encode_pdu_helper: if_idx=Ethernet1/4(0x1a003000) partner-mac=0-0-0-0-0-0 port_num=0 2017 Jul 11 10:42:24.361920 lacp: lacp_net_tx_data(206): lacp_net_tx_data: Sending buffer with length 110 2017 Jul 11 10:42:24.361930 lacp: lacp_net_tx_data(215): 01 01 01 14 ffff 2017 Jul 11 10:42:24.361940 lacp: lacp_net_tx_data(215): ffff 2017 Jul 11 10:42:24.361950 lacp: lacp_net_tx_data(215): 00 00 00 02 14 00 00 00 00 00 00 00 00 00 00 00 00 2017 Jul 11 10:42:24.361960 lacp: lacp_net_tx_data(215): 00 00 00 00 00 00 03 10 00 00 00 00 00 00 00 00 00 2017 Jul 11 10:42:24.361971 lacp: lacp_net_tx_data(215): 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 2017 Jul 11 10:42:24.361981 lacp: lacp_net_tx_data(215): 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 2017 Jul 11 10:42:24.361991 lacp: lacp_net_tx_data(215): 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 2017 Jul 11 10:42:24.362001 lacp: lacp_net_tx_data(247): Ethernet1/4(0x1a003000): Tx LACP PDU len: 110 As:7f, Ps:00 2017 Jul 11 10:42:24.362022 lacp: lacp_proto_get_state(969): IF Ethernet1/4(0x1a003000): end PartnerEnd(2): state TimeOut(1): enable_flag False 2017 Jul 11 10:42:24.362032 lacp: lacp_proto_restart_tx_timer(1802): lacp_proto_restart_tx_timer: got enable flag=0 before sending on interface Ethernet1/4(0x1a003000) 2017 Jul 11 10:42:24.362042 lacp: lacp_proto_restart_tx_timer(1825): lacp_proto_restart_tx_timer: flag 0 interface Ethernet1/4(0x1a003000) periodic_timer is fast 2017 Jul 11 10:42:24.362050 lacp: lacp_timer_start_w_chgd_time(681): lacp_timer_start_w_chgd_time: starting timer with time in ms = 1000 2017 Jul 11 10:42:24.362062 lacp: lacp_timer_start(637): Timer Started: Timer_Arg ([rid type IF-Rid: ifidx 0x1a003000: ch_num 0: event_id LACP_EV_PERIODIC_TRANSMIT_TIMER_EXPIRED(19): timer_id 399340: type PDUSendTime: active True: period_in_ms 1000])\n\nTip\n\nCheck if you receive LACP packets from the peer. For example, the Ethernet1/3 interface receives LACP packets, but Ethernet1/4 no:\n\n2017 Jul 11 10:42:25.641920 lacp: lacp_net_get_pkt_info(746): Packet received on phy_if_idx Ethernet1/3(0x1a002000): log_if_idx Ethernet1/3(0x1a002000): pkt_len 124 l2 header len 14 2017 Jul 11 10:42:25.641937 lacp: lacp_net_process_rx_data(480): Ethernet1/3(0x1a002000): Rx LACP PDU len: 124 As:3f, Ps:3d\n\nCheck 9\n\nIn this output the interface Ethernet1/4 is a member of Port-Channel, but is in Individual mode (Suspended on the switch side):\n\nciscofcm01-A(fxos)# show lacp internal event-history interface ethernet 1/4 >>>>FSM: <Ethernet1/4> has 549 logged transitions<<<<< 1) FSM:<Ethernet1/4> Transition at 385779 usecs after Wed Jul 5 13:13:03 2017 Previous state: [LACP_ST_PORT_IS_DOWN_OR_LACP_IS_DISABLED] Triggered event: [LACP_EV_CLNUP_PHASE_II] Next state: [LACP_ST_PORT_IS_DOWN_OR_LACP_IS_DISABLED] 2) FSM:<Ethernet1/4> Transition at 955546 usecs after Wed Jul 5 13:13:03 2017 Previous state: [LACP_ST_PORT_IS_DOWN_OR_LACP_IS_DISABLED] Triggered event: [LACP_EV_LACP_ENABLED_AND_PORT_UP] Next state: [LACP_ST_DETACHED_LAG_NOT_DETERMINED] 3) FSM:<Ethernet1/4> Transition at 962224 usecs after Wed Jul 5 13:13:10 2017 Previous state: [LACP_ST_DETACHED_LAG_NOT_DETERMINED] Triggered event: [LACP_EV_RECEIVE_PARTNER_PDU_TIMED_OUT] Next state: [FSM_ST_NO_CHANGE] 4) FSM:<Ethernet1/4> Transition at 963838 usecs after Wed Jul 5 13:13:13 2017 Previous state: [LACP_ST_DETACHED_LAG_NOT_DETERMINED] Triggered event: [LACP_EV_RECEIVE_PARTNER_PDU_TIMED_OUT] Next state: [FSM_ST_NO_CHANGE] 5) FSM:<Ethernet1/4> Transition at 964002 usecs after Wed Jul 5 13:13:13 2017 Previous state: [LACP_ST_DETACHED_LAG_NOT_DETERMINED] Triggered event: [LACP_EV_RECEIVE_PARTNER_PDU_TIMED_OUT_II_INDIVIDUAL] Next state: [LACP_ST_INDIVIDUAL_OR_DEFAULT] 6) FSM:<Ethernet1/4> Transition at 735923 usecs after Wed Jul 5 13:13:36 2017 Previous state: [LACP_ST_INDIVIDUAL_OR_DEFAULT] Triggered event: [LACP_EV_UNGRACEFUL_DOWN] Next state: [LACP_ST_PORT_IS_DOWN_OR_LACP_IS_DISABLED]\n\nCheck 10\n\nIn this output the interface Ethernet1/3 is operational and member of PortChannel1 while Ethernet1/4 although is member of PortChannel1 is in Individual mode. Note that Ethernet1/3 sends (tx) and receives (rx) packets, but Ethernet1/4 only sends (rx) no tx:\n\nciscofcm01-A(fxos)# debug lacp pkt ciscofcm01-A(fxos)# 2017 Jul 11 11:04:05.278736 lacp: lacp_net_process_rx_data(480): Ethernet1/3(0x1a002000): Rx LACP PDU len: 124 As:3f, Ps:3d 2017 Jul 11 11:04:05.602855 lacp: lacp_net_tx_data(247): Ethernet1/3(0x1a002000): Tx LACP PDU len: 110 As:3f, Ps:3d 2017 Jul 11 11:04:05.983134 lacp: lacp_net_tx_data(247): Ethernet1/4(0x1a003000): Tx LACP PDU len: 110 As:7f, Ps:00 2017 Jul 11 11:04:06.249929 lacp: lacp_net_process_rx_data(480): Ethernet1/3(0x1a002000): Rx LACP PDU len: 124 As:3f, Ps:3d 2017 Jul 11 11:04:06.602815 lacp: lacp_net_tx_data(247): Ethernet1/3(0x1a002000): Tx LACP PDU len: 110 As:3f, Ps:3d 2017 Jul 11 11:04:06.992812 lacp: lacp_net_tx_data(247): Ethernet1/4(0x1a003000): Tx LACP PDU len: 110 As:7f, Ps:00 2017 Jul 11 11:04:07.163780 lacp: lacp_net_process_rx_data(480): Ethernet1/3(0x1a002000): Rx LACP PDU len: 124 As:3f, Ps:3d 2017 Jul 11 11:04:07.602814 lacp: lacp_net_tx_data(247): Ethernet1/3(0x1a002000): Tx LACP PDU len: 110 As:3f, Ps:3d 2017 Jul 11 11:04:08.002817 lacp: lacp_net_tx_data(247): Ethernet1/4(0x1a003000): Tx LACP PDU len: 110 As:7f, Ps:00 2017 Jul 11 11:04:08.102006 lacp: lacp_net_process_rx_data(480): Ethernet1/3(0x1a002000): Rx LACP PDU len: 124 As:3f, Ps:3d 2017 Jul 11 11:04:08.612810 lacp: lacp_net_tx_data(247): Ethernet1/3(0x1a002000): Tx LACP PDU len: 110 As:3f, Ps:3d 2017 Jul 11 11:04:09.002811 lacp: lacp_net_tx_data(247): Ethernet1/4(0x1a003000): Tx LACP PDU len: 110 As:7f, Ps:00 2017 Jul 11 11:04:09.091937 lacp: lacp_net_process_rx_data(480): Ethernet1/3(0x1a002000): Rx LACP PDU len: 124 As:3f, Ps:3d 2017 Jul 11 11:04:09.622810 lacp: lacp_net_tx_data(247): Ethernet1/3(0x1a002000): Tx LACP PDU len: 110 As:3f, Ps:3d 2017 Jul 11 11:04:10.002807 lacp: lacp_net_tx_data(247): Ethernet1/4(0x1a003000): Tx LACP PDU len: 110 As:7f, Ps:00 2017 Jul 11 11:04:10.004411 lacp: lacp_net_process_rx_data(480): Ethernet1/3(0x1a002000): Rx LACP PDU len: 124 As:3f, Ps:3d 2017 Jul 11 11:04:10.632806 lacp: lacp_net_tx_data(247): Ethernet1/3(0x1a002000): Tx LACP PDU len: 110 As:3f, Ps:3d 2017 Jul 11 11:04:10.854094 lacp: lacp_net_process_rx_data(480): Ethernet1/3(0x1a002000): Rx LACP PDU len: 124 As:3f, Ps:3d 2017 Jul 11 11:04:11.002789 lacp: lacp_net_tx_data(247): Ethernet1/4(0x1a003000): Tx LACP PDU len: 110 As:7f, Ps:00 2017 Jul 11 11:04:11.642807 lacp: lacp_net_tx_data(247): Ethernet1/3(0x1a002000): Tx LACP PDU len: 110 As:3f, Ps:3d 2017 Jul 11 11:04:11.714199 lacp: lacp_net_process_rx_data(480): Ethernet1/3(0x1a002000): Rx LACP PDU len: 124 As:3f, Ps:3d\n\nFor additional information check this document:\n\nQ. How to Find the FXOS Bundle Version from the Show Tech Output?\n\nWay 1\n\nIn FPRM tar file extract the contents of FPRM_A_TechSupport.tar.gz file. Then open the sam_techsupportinfo file and search for Package-Verse:\n\nFPR4140-A# show fabric-interconnect firmware Fabric Interconnect A: Running-Kern-Vers: 5.0(3)N2(4.11.74) Running-Sys-Vers: 5.0(3)N2(4.11.74) Package-Vers: 2.1(1.77) Startup-Kern-Vers: 5.0(3)N2(4.11.74) Startup-Sys-Vers: 5.0(3)N2(4.11.74) Act-Kern-Status: Ready Act-Sys-Status: Ready Bootloader-Vers:\n\nWay 2\n\nIn FRPM tar file extract the contents of FPRM_A_TechSupport.tar.gz file. Then open the /var/sysmgr/sam_logs/svc_sam_dme.log file and search for aInPlatformVersion keyword:\n\nQ. How the MIO Propagates Interface Information (Addition/Removal) to the Blade Application (FTD, ASA)?\n\nIt uses the MIO app-agent component.\n\nFor example, when a new Port-Channel is assigned to the FTD from MIO:\n\nFTD app-agent debug shows:\n\nfirepower# debug app-agent 255 appagent : part 0 : ftd_001_JAD19500BAB0Z690F2.interfaceMapping.update appagent : part 1 : ssp-xml:3 appagent : part 2 : 7 appagent : part 3 : appAG appagent : part 4 : <interfaceMappingConfigUpdateRequest><interfaceMapping action=\"insert\"><externalPort><portName>Port-channel11</portName><vlan>1011</vlan><role>data</role><mode>individual</mode><mc_mode>individual</mc_mode><status>down</status><speed>1000</speed><mac type=\"system\">5897.bdb9.367e</mac></externalPort><internalPort><bladeVNIC>9</bladeVNIC>\n\n<bladeVNIC>22</bladeVNIC></internalPort></interfaceMapping></interfaceMappingConfigUpdateRequest> appagent : Process the request message appagent : It is an update request command appagent : Invoke request msg handler for cmd interfaceMapping.update appagent : Processing InterfaceMapping Update Message appagent : Creating Interface Mapping Structure. appagent : Processing the tag externalPort. appagent : ================================ appagent : PortName=Port-channel11 appagent : ftw capability=0 appagent : no available ftw peers appagent : cleaning external_port_ftw_peers_t appagent : Sending Response message for Interface Mapping update Message appagent : Send response message to appAG appagent : resp_msg->cmdName =appAG.interfaceMapping.update appagent : resp_msg->content_version =ssp-xml:3 appagent : resp_msg->msgId =7 appagent : resp_msg->statuscode =100 appagent : resp_msg->data =<interfaceMappingConfigUpdateResponse> <response> <code>100</code> <message>Request success</message> </response> </interfaceMappingConfigUpdateResponse> appagent : part 0 : ftd_001_JAD19500BAB0Z690F2.interfaceStatus.update appagent : part 1 : ssp-xml:3 appagent : part 2 : 8 appagent : part 3 : appAG appagent : part 4 : <interfaceStatusUpdateRequest><interface><interfaceName>Port-channel11</interfaceName><externalOperationalStatus>down</externalOperationalStatus><internalOperationalStatus>up</internalOperationalStatus></interface></interfaceStatusUpdateRequest> appagent : Process the request message appagent : It is an update request command appagent : Invoke request msg handler for cmd interfaceStatus.update appagent : Processing Interface Status Update Request. appagent : The Fxos version is 2.1.1 or newer appagent : Parsing interface status update request message for FXOS > 211 appagent : Parsing Interface Status Req. appagent : Interface Status Successfully Updated. appagent : Sending Response for Interface Status Update Request appagent : Send response message to appAG appagent : resp_msg->cmdName =appAG.interfaceStatus.update appagent : resp_msg->content_version =ssp-xml:3 appagent : resp_msg->msgId =8 appagent : resp_msg->statuscode =100 appagent : resp_msg->data =<interfaceStatusUpdateResponse> <response> <code>100</code> <message>Request success</message> </response> </interfaceStatusUpdateResponse>\n\nQ. What Serial Number (SN) Must be Used in the Case of RMA of the Firepower Chassis?\n\nThe firepower chassis has multiple SNs. The one used for an RMA request can be taken from these outputs:\n\nFP4120-5-A# scope chassis 1 FP4120-5-A /chassis # show inventory Chassis PID Vendor Serial (SN) HW Revision ---------- --------------- ----------------- ----------- ----------- 1 FPR-4120-K9 Cisco Systems Inc FLM12345KL6 0\n\nOr:\n\nFP4120-5-A# connect local-mgmt FP4120-5-A(local-mgmt)# show license all Smart Licensing Status ====================== Smart Licensing is ENABLED Registration: Status: UNREGISTERED Export-Controlled Functionality: Not Allowed License Authorization: Status: No Licenses in Use License Usage ============== No licenses in use Product Information =================== UDI: PID:FPR-4120-SUP,SN:JAD19500BAB\n\nOr:\n\nFP4120-5-A# scope license FP4120-5-A /license # show license all Smart Licensing Status ====================== Smart Licensing is ENABLED Registration: Status: UNREGISTERED Export-Controlled Functionality: Not Allowed License Authorization: Status: No Licenses in Use License Usage ============== No licenses in use Product Information =================== UDI: PID:FPR-4120-SUP,SN:JAD19500BAB\n\nQ. Can you Swap SSD1 Between 2 Different FXOS Chassis?\n\nThe short answer is no. The SSD1 contains the Application Image (for example FTD or ASA). If you take the SSD1 out of the chassis and plug it into a different chassis the module does not come UP and these errors appear:\n\nCritical F1548 2017-11-08T11:36:40.095 427280 Blade swap detected on slot 1\n\nSecurity module image mismatch\n\nLocal disk 1 missing on server 1/1\n\nQ. How the Check the Chassis Power Consumption?\n\nAs from FXOS 2.2.1 version, you can use the command show environment summary:\n\nFPR4100-1 /chassis # show environment summary Chassis INFO : Total Power Consumption: 440.000000 Inlet Temperature (C): 21.000000 CPU Temperature (C): 39.000000 Last updated Time: 2018-07-01T09:39:55.157 PSU 1: Type: AC Input Feed Status: Ok 12v Output Status: Ok Overall Status: Operable PSU 2: Type: AC Input Feed Status: N/A 12v Output Status: N/A Overall Status: Removed FAN 1 Fan Speed RPM (RPM): 12110 Speed Status: Ok Overall Status: Operable FAN 2 Fan Speed RPM (RPM): 12110 Speed Status: Ok Overall Status: Operable FAN 3 Fan Speed RPM (RPM): 12100 Speed Status: Ok Overall Status: Operable\n\nFor additional info check:\n\nMonitoring Chassis Health\n\nQ. How to Check the Bootloader Version?\n\nFPR-4110-7-A# scope chassis 1\n\nFPR-4110-7-A /chassis # scope server 1\n\nFPR-4110-7-A /chassis/server # scope adapter 1\n\nFPR-4110-7-A /chassis/server/adapter # show version detail\n\nAdapter 1:\n\nRunning-Vers: 5.3(1.91)\n\nPackage-Vers: 2.3(1.88)\n\nUpdate-Status: Ready\n\nActivate-Status: Ready\n\nBootloader-Update-Status: Ready\n\nStartup-Vers: 5.3(1.91)\n\nBackup-Vers: 5.3(1.48)\n\nBootloader-Vers: MF-111-234949\n\nQ. How to Upgrade Bootloader?\n\nAfter the FXOS 2.3.1.58 installation or later, system may show receive a critical fault on your security appliance indicating adapter firmware upgrade is required:\n\nCritical F1715 2017-05-11T11:43:33.121 339561 Adapter 1 on Security Module 1 requires a critical firmware upgrade. Please see Adapter Bootloader Upgrade instructions in the FXOS Release Notes posted with this release.\n\nThe procedure of the Bootloader upgrade is described on this link:\n\nhttps://www.cisco.com/c/en/us/td/docs/security/firepower/fxos/fxos231/release/notes/fxos231_rn.html#pgfId-173826\n\nIf you face his below error during bootloader upgrade, you can try to use 'force' option.\n\nFPR-4110-7-A# scope chassis 1\n\nFPR-4110-7-A /chassis # scope server 1\n\nFPR-4110-7-A /chassis/server # scope adapter 1/1/1\n\nFPR-4110-7-A /chassis/server/adapter # show image\n\nName Type Version\n\n--------------------------------------------- -------------------- -------\n\nfxos-m83-8p40-cruzboot.4.0.1.62.bin Adapter Boot 4.0(1.62)\n\nfxos-m83-8p40-vic.4.0.1.51.bin Adapter 4.0(1.51)\n\nfxos-m83-8p40-vic.5.3.1.2.bin Adapter 5.3(1.2)\n\nfxos-m83-8p40-vic.5.3.1.48.bin Adapter 5.3(1.48)\n\nfxos-m83-8p40-vic.5.3.1.91.bin Adapter 5.3(1.91)\n\nFPR-4110-7-A /chassis/server/adapter # update boot-loader 4.0(1.62)\n\nWarning: Please DO NOT reboot blade or chassis during uprgade, otherwise, it may cause adapter UNUSABLE\n\nAfter upgrade completed, blade must be power cycled automatically\n\nFPR-4110-7-A /chassis/server/adapter* # commit-buffer\n\nError: Update failed: [This adaptor is not applicable for boot-loader upgrade.]\n\nQ. How to Disable the Absolute SSH Timeout?\n\nThis is helpful during lab testing and troubleshooting. Note that this absolute timeout is a security best practice to be non-zero therefore be mindful if this is temporarily done in the user environment.\n\nFPR-4115-A# scope security\n\nFPR-4115-A /security # scope default-auth\n\nFPR-4115-A /security/default-auth # show detail\n\nDefault authentication:\n\nAdmin Realm: Local\n\nOperational Realm: Local\n\nWeb session refresh period(in secs): 600\n\nIdle Session timeout(in secs) for web, ssh, telnet sessions: 3600\n\nAbsolute Session timeout(in secs) for web, ssh, telnet sessions: 3600\n\nSerial Console Idle Session timeout(in secs): 3600\n\nSerial Console Absolute Session timeout(in secs): 3600\n\nAdmin Authentication server group:\n\nOperational Authentication server group:\n\nUse of 2nd factor: No\n\nFPR-4115-A /security/default-auth # set absolute-session-timeout 0\n\nFPR-4115-A /security/default-auth* # commit-buffer\n\nFPR-4115-A /security/default-auth # show detail\n\nDefault authentication:\n\nAdmin Realm: Local\n\nOperational Realm: Local\n\nWeb session refresh period(in secs): 600\n\nIdle Session timeout(in secs) for web, ssh, telnet sessions: 3600\n\nAbsolute Session timeout(in secs) for web, ssh, telnet sessions: 0\n\nSerial Console Idle Session timeout(in secs): 3600\n\nSerial Console Absolute Session timeout(in secs): 3600\n\nAdmin Authentication server group:\n\nOperational Authentication server group:\n\nUse of 2nd factor: No\n\nQ. How to Capture LACP Packets Destined to Chassis Supervisor (Control-Plane)?\n\nLACP packets destined to the Firepower 4100/9300 chassis supervisor (control-plane) are encapsulated inside the data section of specific packets and can be captured on the internal inbound-hi interface using the ethanalyzer command. The LACP PDU bytes are embedded starting from bytes with values 01 80 C2 00 00 02 (IEEE 802.3 Slow_Protocols_Multicast address) until the end of the data section:\n\nfirepower# connect fxos\n\n...\n\nfirepower(fxos)# ethanalyzer local interface inbound-hi limit-captured-frames 10000 limit-frame-size 9000 detail\n\nCapturing on 'eth4'\n\nFrame 1: 188 bytes on wire (1504 bits), 188 bytes captured (1504 bits) on interface 0\n\nInterface id: 0 (eth4)\n\nInterface name: eth4\n\nEncapsulation type: Ethernet (1)\n\nArrival Time: Dec 5, 2023 09:16:06.736180828 UTC\n\n[Time shift for this packet: 0.000000000 seconds]\n\nEpoch Time: 1701767766.736180828 seconds\n\n[Time delta from previous captured frame: 0.000000000 seconds]\n\n[Time delta from previous displayed frame: 0.000000000 seconds]\n\n[Time since reference or first frame: 0.000000000 seconds]\n\nFrame Number: 1\n\nFrame Length: 188 bytes (1504 bits)\n\nCapture Length: 188 bytes (1504 bits)\n\n[Frame is marked: False]\n\n[Frame is ignored: False]\n\n[Protocols in frame: eth:ethertype:vlan:ethertype:data]\n\nEthernet II, Src: 02:10:18:a3:4f:f5 (02:10:18:a3:4f:f5), Dst: 58:97:bd:b9:36:4e (58:97:bd:b9:36:4e)\n\nDestination: 58:97:bd:b9:36:4e (58:97:bd:b9:36:4e)\n\nAddress: 58:97:bd:b9:36:4e (58:97:bd:b9:36:4e)\n\n.... ..0. .... .... .... .... = LG bit: Globally unique address (factory default)\n\n.... ...0 .... .... .... .... = IG bit: Individual address (unicast)\n\nSource: 02:10:18:a3:4f:f5 (02:10:18:a3:4f:f5)\n\nAddress: 02:10:18:a3:4f:f5 (02:10:18:a3:4f:f5)\n\n.... ..1. .... .... .... .... = LG bit: Locally administered address (this is NOT the factory default)\n\n.... ...0 .... .... .... .... = IG bit: Individual address (unicast)\n\nType: 802.1Q Virtual LAN (0x8100)\n\n802.1Q Virtual LAN, PRI: 0, DEI: 0, ID: 4048\n\n000. .... .... .... = Priority: Best Effort (default) (0)\n\n...0 .... .... .... = DEI: Ineligible\n\n.... 1111 1101 0000 = ID: 4048\n\nType: Unknown (0xde08)\n\nData (170 bytes)\n\n0000 b8 50 20 04 00 00 00 00 00 00 00 00 00 00 81 00 .P .............\n\n0010 00 00 00 00 00 04 09 04 cd 00 00 00 00 00 00 00 ................\n\n0020 00 00 00 00 00 00 00 00 00 00 00 00 00 00 01 80 ................\n\n0030 c2 00 00 02 58 97 bd b9 36 51 88 09 01 01 01 14 ....X...6Q......\n\n0040 80 00 58 97 bd b9 36 4d 00 28 80 00 00 44 3f 00 ..X...6M.(...D?.\n\n0050 00 00 02 14 80 00 00 17 df d6 ec 00 00 33 80 00 .............3..\n\n0060 02 2c 3d 00 00 00 03 10 00 00 00 00 00 00 00 00 .,=.............\n\n0070 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ................\n\n0080 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ................\n\n0090 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ................\n\n00a0 00 00 00 00 00 00 00 00 00 00 ..........\n\nData: b85020040000000000000000000081000000000000040904...\n\nThe hex dump can be converted to PCAP using online tools.\n\nQ. How to Find SSD Information?\n\nThe chassis supervisor internal SSD information is available in all FXOS version mentioned in the step 1, section Workaround/Solution in FN72077:\n\nKSEC-FPR4112-4 # scope chassis 1\n\nKSEC-FPR4112-4 /chassis # show sup version detail\n\nSUP FIRMWARE:\n\nROMMON:\n\nRunning-Vers: 1.0.15\n\nPackage-Vers: 1.0.18\n\nActivate-Status: Ready\n\nUpgrade Status: SUCCESS\n\nFPGA:\n\nRunning-Vers: 2.00\n\nPackage-Vers: 1.0.18\n\nActivate-Status: Ready\n\nSSD:\n\nRunning-Vers: MU03\n\nModel: Micron_M500IT_MTFDDAT128MBD\n\nSecurity engine (blade) SSD:\n\nKSEC-FPR4112-4# show server storage detail\n\nServer 1/1:\n\n<output skipped>\n\nRAID Controller 1:\n\nType: SATA\n\nVendor: Cisco Systems Inc\n\nModel: FPR4K-PT-01\n\nSerial: JAD260508TZ\n\nHW Revision:\n\nPCI Addr: 00:31.2\n\nRaid Support:\n\nOOB Interface Supported: No\n\nRebuild Rate: N/A\n\nController Status: Unknown\n\nLocal Disk 1:\n\nVendor: INTEL\n\nModel: SSDSC2KG48\n\nSerial: PHYG109603PA480BGN\n\nHW Rev: 0\n\nOperability: Operable\n\nPresence: Equipped\n\nSize (MB): 400000\n\nDrive State: Online\n\nPower State: Active\n\nLink Speed: 6 Gbps\n\nDevice Type: SSD\n\nLocal Disk 2:\n\nVendor: INTEL\n\nModel: SSDSC2KG96\n\nSerial: PHYG143301JG960CGN\n\nHW Rev: 0\n\nOperability: Operable\n\nPresence: Equipped\n\nSize (MB): 800000\n\nDrive State: Online\n\nPower State: Active\n\nLink Speed: 6 Gbps\n\nDevice Type: SSD\n\nLocal Disk Config Definition:\n\nMode: No RAID\n\nDescription:\n\nProtect Configuration: No\n\nQ. How to Configure Internal Switch (FXOS) Captures?\n\nRefer to the article Configure and Verify Secure Firewall and Firepower Internal Switch Captures.\n\nReferences"
    }
}