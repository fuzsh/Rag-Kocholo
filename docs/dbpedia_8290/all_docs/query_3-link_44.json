{
    "id": "dbpedia_8290_3",
    "rank": 44,
    "data": {
        "url": "https://www.digitalocean.com/community/tutorials/how-to-install-and-use-bastille-to-harden-an-ubuntu-12-04",
        "read_more_link": "",
        "language": "en",
        "title": "How To Install and Use Bastille To Harden an Ubuntu 12.04",
        "top_image": "https://www.digitalocean.com/_next/static/media/intro-to-cloud.d49bc5f7.jpeg",
        "meta_img": "https://www.digitalocean.com/_next/static/media/intro-to-cloud.d49bc5f7.jpeg",
        "images": [
            "https://www.digitalocean.com/api/static-content/v1/images?src=%2F_next%2Fstatic%2Fmedia%2Fdefault-avatar.14b0d31d.jpeg&width=48 1x, https://www.digitalocean.com/api/static-content/v1/images?src=%2F_next%2Fstatic%2Fmedia%2Fdefault-avatar.14b0d31d.jpeg&width=96 2x",
            "https://www.digitalocean.com/api/static-content/v1/images?src=%2F_next%2Fstatic%2Fmedia%2Fintro-to-cloud.d49bc5f7.jpeg&width=828 1x, https://www.digitalocean.com/api/static-content/v1/images?src=%2F_next%2Fstatic%2Fmedia%2Fintro-to-cloud.d49bc5f7.jpeg&width=1920 2x",
            "https://www.digitalocean.com/api/static-content/v1/images?src=%2F_next%2Fstatic%2Fmedia%2Fdefault-avatar.14b0d31d.jpeg&width=64 1x, https://www.digitalocean.com/api/static-content/v1/images?src=%2F_next%2Fstatic%2Fmedia%2Fdefault-avatar.14b0d31d.jpeg&width=128 2x",
            "https://www.digitalocean.com/api/static-content/v1/images?src=%2F_next%2Fstatic%2Fmedia%2Fcreativecommons.c0a877f1.png&width=128 1x, https://www.digitalocean.com/api/static-content/v1/images?src=%2F_next%2Fstatic%2Fmedia%2Fcreativecommons.c0a877f1.png&width=256 2x",
            "https://www.digitalocean.com/api/static-content/v1/images?src=%2F_next%2Fstatic%2Fmedia%2FnewsLetter.c1eb26e3.jpeg&width=750 1x, https://www.digitalocean.com/api/static-content/v1/images?src=%2F_next%2Fstatic%2Fmedia%2FnewsLetter.c1eb26e3.jpeg&width=1920 2x",
            "https://www.digitalocean.com/api/static-content/v1/images?src=%2F_next%2Fstatic%2Fmedia%2FhollieHub4Good.90285377.jpeg&width=750 1x, https://www.digitalocean.com/api/static-content/v1/images?src=%2F_next%2Fstatic%2Fmedia%2FhollieHub4Good.90285377.jpeg&width=1920 2x",
            "https://www.digitalocean.com/api/static-content/v1/images?src=%2F_next%2Fstatic%2Fmedia%2Fwrite4DO.6a167f0c.jpeg&width=750 1x, https://www.digitalocean.com/api/static-content/v1/images?src=%2F_next%2Fstatic%2Fmedia%2Fwrite4DO.6a167f0c.jpeg&width=1920 2x",
            "https://www.digitalocean.com/api/static-content/v1/images?src=%2F_next%2Fstatic%2Fmedia%2Fconsole-static.1b14cc64.svg&width=640 1x, https://www.digitalocean.com/api/static-content/v1/images?src=%2F_next%2Fstatic%2Fmedia%2Fconsole-static.1b14cc64.svg&width=1080 2x"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "In this DigitalOcean article, using Bastille, we are going to enhance the security of our system and greatly power up our knowledge and understanding of Linuâ¦",
        "meta_lang": "en",
        "meta_favicon": "/_next/static/media/apple-touch-icon.d7edaa01.png",
        "meta_site_name": "",
        "canonical_link": "https://www.digitalocean.com/community/tutorials/how-to-install-and-use-bastille-to-harden-an-ubuntu-12-04",
        "text": "Introduction\n\nBastille is an extremely useful tool for system administrators and Linux users of all levels looking to enhance or assess their level of security. At a first glance, Bastille itself [and its points of interest] might seem to be within the desktop computing domain. Moreover, it has recently lost its popularity, not being one of the go-to applications and becoming a not-cool tool amongst online communities.\n\nHowever, Bastille is a true gem that should be praised generously; itâs a wonderful system administration tool dedicated to the true art of not just OS (operating system) hardening but also security assessment and education.\n\nIn this DigitalOcean article, using Bastille, we are going to enhance the security of our system and greatly power up our knowledge and understanding of Linux system hardening by analyzing what Bastille in essence aims to teach with its thorough guide notes as we analyze various aspects of the process.\n\nHardening of Operating Systems\n\nOperating system hardening (or simply hardening) is an umbrella term for actions taken by users (maintainers, system administrator etc.) with the goal of preventing intrusion attacks by malicious parties wanting to steal information, harm operations or cause damages in general as much as possible.\n\nSecurity being one of those bottomless pits, no matter the effort spent or level of experience applied, no full proof solution can be reached and it is never safe to assume safety. The next unknown might come along in the form of an attack and take over.\n\nHowever, luckily, when one acts with prudence the âunknownâ today is an odd occurrence that cedes with the help of common knowledge, relatively mature(d) systems and simple to use tools such as Bastille that can be accessed by many with ease.\n\nSome Common System Aspects Causing Vulnerabilities\n\nAs mentioned above, the number of things to look out for in order to enhance security is endless. Below, we will try to mention some of the [system] aspects that can cause vulnerability, giving way to attacks or actions causing harm.\n\nDefault operating system applications and its tools must be kept up-to-date.\n\nOverloading the system with unnecessary applications with access to various system resources must be avoided in order to prevent exploits.\n\nAll unwanted (and unused) default executables / binaries and access methods must either be removed or disabled.\n\nStrong password and key rotations must be set up for the system and its users to encourage password sharing and higher level dictionary attacks.\n\nEncrypted keys better to be used instead of (shorter) passwords.\n\nPlain-text (unencrypted) communications and transfers will leak critical information - must use encrypted methods.\n\nKeeping all ports closed unless needed and different than (the obvious) defaults - they can be picked up as targets for (usually automated) attacks.\n\nSocket creations must be tightly monitored.\n\nAnalyzing logs should be routinely performed, preferably using log automatic analyzing and reporting tools to identify possible intrusion attempts and security flaws.\n\nAccount access must be disabled and locked down after too many repeating failures to log in to prevent brute-force attacks.\n\nUser level access must be limited on a strict regime to prevent root level access upon hijacking of a single account.\n\nLogging in as root should not be permitted.\n\nIntrusion preventing / fighting applications are better to be used as they can follow certain specific patterns to automatically fight some attacks.\n\nExposing the server to the outside world should not be done unless necessary â better to opt in for internal network connections whenever possible.\n\nSolid backup policy must be in place for recovery and ensuring data integrity.\n\nDisk partitioning should be considered to prevent certain attacks aiming to make the disk inoperative for the system and its applications.\n\nResponding to outside world and to look-up attempts should not be permitted unless necessary and application versions should be obscured to not to encourage certain application level fault exploits.\n\nDatacenter auditing and physical server security must be ensured.\n\nHardening and Assessment with Bastille\n\nHaving talked about what Bastille is and going through some system aspects which can turn into vulnerabilities, we are ready to talk about what Bastille does.\n\nNote: Given that Bastille will make system level changes (and important ones too!), it is recommended that you try it first on a fresh server installation. Also, please make sure to have backups (as always) before trying something new. When using Bastille, you are highly encouraged to read its explanations for the system tunings it will perform as they are extremely valuable. Here, we are working with Ubuntu Long Term Support (LTS) versions --10.04 and 12.04-- due to their maturity, stability and the long term support they get from the company. If you are using a non-LTS or one of the more recent versions, certain things (e.g. sources.list file) might appear a little bit different.\n\nPreparing the system\n\nAs recommended, we should start with updating our systemâs application sources list (where package managers â such as aptitude â look for applications) and upgrading if necessary.\n\nFor Ubuntu, run the following:\n\nsudo aptitude update sudo aptitude -y upgrade\n\nInstalling Bastille Hardening and Assessment Tool\n\nDepending on your version of Ubuntu, in order to get Bastille, you might need to enable the Universe repository (see the explanations below). Please follow along and try to install Bastille and if the package manager (aptitude) complains that it is unable to locate Bastille, continue to the following section (troubleshooting) and try it once again.\n\nTo download and install Bastille, execute the install command via aptitude:\n\nsudo aptitude install -y bastille\n\nUbuntu Repositories\n\nUbuntu by default has various application package scopes and in Ubuntu world, all software is divided into four distinct categories (repositories / scopes).\n\nThese are:\n\nMain\n\nRestricted\n\nUniverse\n\nMultiverse\n\nMain is where all Ubuntu supported, encouraged and (well) maintained free applications reside.\n\nRestricted contains proprietary drivers and some other vital system tools that are needed to have Ubuntu operate on âeveryday hardwareâ.\n\nUniverse is where almost all free (and open-source) Linux applications can be found and installed and it is from here that we are going to fetch Bastille.\n\nFinally, Multiverse contains the rest and everything else, including and especially the applications that are not free.\n\nTroubleshooting\n\nIf you were unable to download Bastille:\n\nIn case aptitude complains about not being able to locate Bastille, please execute:\n\nsudo nano /etc/apt/sources.list\n\nThis is going to bring up the text editor nano. Here, you are going to see bunch of URLs (and possible commented out text) for the Ubuntu package repositories.\n\nDepending on your version of Ubuntu (lucid, precise etc.), you will need to append the following lines (URLs) to the beginning of this file (making sure that you replace the version name with yours).\n\nIf you are unsure about your Ubuntu version name, please run: $ cat /etc/lsb-release\n\nThe line beginning with DISTRIB_CODENAME will tell you the name of your systemâs version.\n\nEx: DISTRIB_CODENAME=lucid\n\nExample URLs for Universe repository:\n\n# Example URLs: # deb http://archive.ubuntu.com/ubuntu [version name] universe # deb http://archive.ubuntu.com/ubuntu [version name]-updates universe # For Ubuntu 'precise' you would need to use: deb http://archive.ubuntu.com/ubuntu precise universe deb http://archive.ubuntu.com/ubuntu precise-updates universe\n\nClose and save the file by pressing âCTRL+Xâ and confirming with entering âYâ.\n\nUpon adding the URL to the sources, you will need to update the repository list by executing:\n\naptitude update\n\nNow you should be able to download Bastille as stated above via aptitude.\n\nUsing Bastille for Hardening\n\nAfter installing Bastille, we are ready to work with it.\n\nIn order to run Bastille, run the following command:\n\nsudo bastille\n\nNote: Bastille has two working modes: CLI (command-line interface) and GUI (graphical user interface). If you were working with a desktop system with X-based interactive (graphical) interface, you could use its GUI by running sudo bastille -x instead (for which you might need to install the Perlâs Tk module âaptitude install perl-tk).\n\nUpon running the application, you will be shown a disclaimer regarding Bastille, its capabilities and what it will or will not do. Read the disclaimer carefully and type âacceptâ and press Enter in order to continue with the actual program. Read the second introduction screen where use of arrow keys and TAB is explained and again, press Enter to continue.\n\nFrom now on you will be presented with questions one by one. You will be asked to answer them and for some, to enter text (such as warning messages). Please find the questions with explanations and recommended answers you should choose below.\n\nAnswering Bastilleâs Questions for Hardening\n\nQuestions:\n\nWould you like to set more restrictive permissions on the administration utilities?\n\nIn general, the default file permissions set by most vendors are fairly secure. To make them more secure, though, you can remove non-root user access to some administrator functions.\n\nIf you choose this option, youâll be changing the permissions on some common system administration utilities so that theyâre not readable or executable by users other than root. These utilities (which include linuxconf, fsck, ifconfig, runlevel and portmap) are ones that most users should never have a need to access. This option will increase your system security, but thereâs a chance it will inconvenience your users.\n\nRecommended answer is âYesâ\n\nBefore continuing with question number 2, you will be provided with further (and very helpful) explanations regarding âSUIDâ. Press Enter to continue.\n\nWould you like to disable SUID status for mount/umount?\n\nMount and umount are used for mounting (activating) and unmounting (deactivating) drives that were not automatically mounted at boot time. This can include floppy and CD-ROM drives. Disabling SUID would still allow anyone with the root password to mount and unmount drives.\n\nRecommended answer is âYesâ\n\nWould you like to disable SUID status for ping?\n\nPing is used for testing network connectivity. Specifically itâs for testing the ability of the network to get a packet from this machine to another and back. The ping program is SUID since only the root user can open a raw socket. Since, however, it is often used only by the person responsible for networking the host, who normally has root access, we recommend disabling SUID status for it.\n\nRecommended answer is âYesâ\n\nWould you like to disable SUID status for traceroute?\n\nThe traceroute utility is used to test network connectivity. It is useful for debugging network problems, but it is generally not necessary, especially for non-privileged users. If non-root users will be needing to debug network connections, you can leave the SUID bit on traceroute. Otherwise, you should disable it.\n\nRecommended answer is âYesâ\n\nShould Bastille disable clear-text r-protocols that use IP-based authentication?\n\nThe BSD r-tools rely on IP-based authentication, which means that you can allow anyone with (for instance) root access on 192.168.1.1 have root access on 192.168.1.2. Administrators and other users have traditionally found this useful, as it lets them connect from one host to another without having to retype a password. The .rhosts file contains the names of the accounts and machines that are considered to be trusted. The problem with IP-based authentication, however, is that an intruder can craft âspoofedâ or faked packets which claim to be from a trusted user on a trusted machine. Since the r-tools rely entirely on IP addresses (and remote username) for authentication, a spoofed packet will be accepted as real. Some of your users, or even possibly other administrators for this machine, might not be aware of the security problems with the BSD r-tools. If this is the case, they might create .rhosts files that would potentially allow crackers access to the machine. This option will disable the use of those r-tools both from your machine and as a means of logging into your machine.\n\nRecommended answer is âYesâ\n\nWould you like to enforce password aging?\n\nYour operating systemâs default behavior, which we would change here, is to disable an account when the password hasnât changed in 99,999 days. This interval is too long to be useful. We can set the default to 60 days. At some point before the 60 days have passed, the system will ask the user to change his or her password. At the end of the 60 days, if the password has not been changed, the account will be temporarily disabled. Weâll make sure this warning period is at least 5 days long. We would make this change in /etc/login.defs\n\nRecommended answer is âYesâ\n\nDo you want to set the default umask?\n\nThe umask sets the default permission for files that you create. Bastille can set one of several umasks in the default login configuration files. These cover standard shells like csh and most bourne shell variants like bash, sh, and ksh. If you are going to install other shells, you may have to configure them yourself. The only reason not to set at least a minimal default umask is if you are sure that you have already set one.\n\nRecommended answer is âYesâ and opt for â077â (without quotes). Press TAB and Enter to continue.\n\nShould we disallow root login on ttyâs 1-6?\n\nYou can restrict which ttyâs root can login on. Some sites choose to restrict root logins, so that an admin must login with an ordinary user account and then use âsuâ to become ârootâ. This can stop an attacker who has only been able to steal the root password from logging in directly. He has to steal a second accountâs password to make use of the root password via the ttys.\n\nRecommended answer is âNoâ\n\nWould you like to password-protect the GRUB prompt?\n\nIf an attacker has physical access to this machine, and particularly to the keyboard, s/he could get super-user access through the Grand Unified Bootloader (GRUB) command line. We will look at other ways to prevent this later, but one easy way is to password-protect the GRUB prompt. If GRUB is password-protected, any user can reboot the machine normally, but only users with the password can pass arguments to the GRUB prompt. Note that this option can interfere dual-booting with a second operating system, since dual booting often requires that type an O/S name to boot one of the two operating systems. If this machine sits in a general purpose lab and dual boots, you probably shouldnât choose this option. Otherwise, this is strongly recommended for general use workstations and servers which are not locked away in their own room.\n\nRecommended answer is âNoâ given you are on a virtual server.\n\nWould you like to password protect single-user mode?\n\nAnyone who can physically interact with your system can tell the bootloader to bring your machine up in \" single user mode\", where s/he is given root privileges and everyone else is locked out of the system. This doesnât require a password on most Unix systems. The method differs with the bootloader being used, thus on each operating system revision and architecture. You can test this attack on a Linux system that uses LILO by typing âlinux singleâ at the LILO: prompt. Bastille can password-protect the bootprompt for you. You wonât have to remember another passwordâsingle user mode, or ârootâ mode, will require the root password. We HIGHLY recommend that you password protect single user mode.\n\nRecommended answer is âYesâ\n\nWould you like to set a default-deny on TCP Wrappers and xinetd?\n\nNot recommended for most users: Many network services can be configured to restrict access to certain network addresses (and in the case of xinetd services in Linux-Mandrake 8.0 and Red Hat 7.x, other criteria as well). For services running under the older inetd super-server (found in older versions of Linux-Mandrake and Red Hat, and current versions of some other distributions), some standalone services like OpenSSH, and --unless otherwise configured-- services running under Red Hatâs xinetd super-server, you can configure restrictions based on network address in /etc/hosts.allow. The services using inetd or xinetd typically include telnet, ftp, pop, imap, finger, and a number of other services. If you would like, Bastille can configure a default policy for all inetd, xinetd, and TCP Wrappers-aware services to deny all connection attempts. While you might have already chosen to install Bastilleâs firewall , setting a default deny policy for these services gives more defense in depth. This will also configure xinetd so that the currently-installed xinetd services will use xinetdâs more flexible access control and not /etc/hosts.allow. All other wrappers-based programs, like sshd, will obey the default-deny. As a special exception, Bastille currently allows âsshdâ on a default-allow basis. If you wish this blocked as well, please change its line manually in hosts.allow.\n\nRecommended answer is âNoâ\n\nShould Bastille ensure the telnet service does not run on this system?\n\nTelnet is not secure.\n\nTelnet is shipped on most operating systems for backward compatibility, and it should not be used in an untrusted network.\n\nTelnet is a clear-text protocol, meaning that any data transferred, including passwords, can be monitored by anyone else on your network (even if you use a switching router, as switches were designed for performance, not security and can be made to broadcast). Other networks can monitor this information too if the telnet session crosses multiple LANs.\n\nThere are also other more active attacks. For example, anyone who can eavesdrop can usually take over your telnet session, using a tool like Hunt or Ettercap.\n\nThe standard practice among security-conscious sites is to migrate as rapidly as practical from telnet to Secure Shell (command: ssh). Weâd advise you to make this move as soon as possible. Secure shell implementations are available from openssh.org and ssh.com. Most Operating System vendors also distribute a version of secure shell, so check with your vendor first to see if there is a version that has been tested with your OS.\n\nNOTE: Deactivating the âtelnetdâ service will not affect your telnet client.\n\nRecommended answer is âYesâ\n\nShould Bastille ensure inetdâs FTP service does not run on this system?\n\nFtp is another problematic protocol. First, it is a clear-text protocol, like telnet â this allows an attacker to eavesdrop on sessions and steal passwords. This also allows an attacker to take over an FTP session, using a clear-text-takeover tool like Hunt or Ettercap. Second, it can make effective firewalling difficult due to the way FTP requires many ports to stay open. Third, every major FTP daemon has had a long history of security vulnerability â they represent one of the major successful attack vectors for remote root attacks.\n\nFTP can be replaced by Secure Shellâs scp and sftp programs.\n\nNOTE: Answering âyesâ to this question will also prevent the use of this machine as an anonymous ftp server.\n\nRecommended answer is âYesâ\n\nWould you like to display âAuthorized Useâ messages at log-in time?\n\nAt this point you can create âAuthorized Use Onlyâ messages for your site. These may be very helpful in prosecuting system crackers you may catch trying to break into your system. Bastille can make default messages which you may then later edit. This is sort of like an âanti-welcome matâ for your computer.\n\nRecommended answer is âNoâ by default, âYesâ if you have other users.\n\nSet and decide on the anti-welcome mat message and press TAB to continue.\n\nWho is responsible for granting authorization to use this machine?\n\nBastille will start to make the banner more specific by telling the user who is responsible for this machine. This will state explicitly from whom the user needs to obtain authorization to use this machine. Please type in the name of the company, person, or other organization who owns or is responsible for this machine.\n\nDecide on the system ownerâs name and press TAB and then Enter to continue.\n\nWould you like to put limits on system resource usage?\n\nDenial of Service attacks are often very difficult to defend against, since they donât require access of any kind to the target machine. Since several major daemons, including the web, name, and FTP servers, may run as a particular user, you can limit the effectiveness of many Denial of Service attacks by modifying /etc/security/limits.conf. If you restrict the resources available in this manner, you can effectively cripple most Denial of Service attacks.\n\nIf you choose this option, youâll be setting the following initial limits on resource usage:\n\nThe number of allowed core files will be set to zero. Core files can be useful for diagnosing system problems, but they are very large files and can be exploited by an attacker to fill up your file system. They can also be used to tune vulnerability exploitation tools. Finally, an attacker might use the core file from a crashed program to obtain privileged data that was dumped by the program.\n\nIndividual users are limited to 150 processes each. This should be more than enough for normal system usage, and is not enough to bring down your machine. (Linux only)\n\nAll of these values can be edited later.\n\nRecommended answer is âNoâ\n\nShould we restrict console access to a small group of user accounts?\n\nUnder some distributions, users logged in at the console have some special access rights (like the ability to mount the CD-ROM drive). You can disable this special access entirely, but a more flexible option is to restrict console access to a small group of trusted user accounts\n\nRecommended answer is âYesâ: Root\n\nWould you like to add additional logging?\n\nWe would like to configure additional logging for your system. We will give you the option to log to a remote host, if your site already has one. We will add two additional logging files to the default setup and will also log some status messages to the 7th and 8th virtual terminals (the ones youâll see when you hit ALT-F7 and ALT-F8). This additional logging will not change the existing log files at all, so this is by no means a âriskyâ move.\n\nRecommended answer is âYesâ\n\nSet the logging and press TAB followed by Enter to continue.\n\nDo you have a remote logging host?\n\nIf you already have a remote logging host, we can set this machine to log to it.\n\nRecommended answer is âNoâ unless you have, âYesâ otherwise.\n\nWould you like to set up process accounting?\n\nLinux has the ability to log which commands are run when and by whom. This is extremely useful in trying to reconstruct what a potential cracker actually ran. The drawbacks are that the logs get large quickly (a log rotate module is included to offset this), the parameters to commands are not recorded, and, like all log files, the accounting log is removable if the attacker has root. As this is rather disk and CPU intensive, please choose NO unless you have carefully considered this option.\n\nRecommended answer is âYesâ or âNoâ depending on your preference.\n\nWould you like to disable acpid and/or apmd?\n\napmd and acpid are used to monitor battery power and are used almost exclusively by notebook/laptop computers.\n\nRecommended answer is âYesâ\n\nWould you like to deactivate NFS and Samba?\n\nWe would like to disable the network file systems NFS (Network File System, common to most Unix variants) and SMB (Samba, which comes with most Linux distributions). We strongly recommend that you disable both of these. NFS has a history of major security vulnerabilities; Samba is slightly better, but it is still a shared file system and still raises potentially severe security concerns. Both services use clear-text, meaning that any data transferred can be monitored by anyone else on your network (even if you use a switching router , as switches were designed for performance, not security). Transferred data includes file handles, which can then be used to modify files.\n\nThese services are safer if you can set your firewall to block packets for either of them from entering or leaving your network, but itâs probably best to deactivate them until you can investigate whether or not you need them and how to best secure them.\n\nRecommended answer is âYesâ\n\nDo you want to stop sendmail from running in daemon mode?\n\nYou do not need to have sendmail running in daemon mode to send and receive email, and unless you have a constant network connection, you probably cannot run sendmail in daemon mode. Daemon mode means that sendmail is constantly listening on a network connection waiting to receive mail.\n\nIf you disable daemon mode, Bastille will ask you if you would like to run sendmail every few minutes to process the queue of outgoing mail. Most programs which send mail will still do so immediately, and processing the queue will take care of transient errors.\n\nIf you receive all of your email via a POP/IMAP mailbox provided by your ISP, you may have no need of daemon -mode sendmail, unless youâre running a special fetchmail-style POP/IMAP based retrieval program. For instance, you can turn daemon mode off if you read your mail via Netscapeâs common POP/IMAP read functionality. The only reason to run sendmail in daemon mode is if you are running a mail server.\n\nRecommended answer is âYesâ but depends on your serverâs role.\n\nWould you like to deactivate the Apache web server?\n\nWill you be using the Apache web server immediately? Again, minimalism is a critical part of a good site security. If you donât need to run a web server, at least not right now, you should deactivate it.\n\nYou can restart the web server later by typing: /sbin/chkconfig httpd on\n\nRecommended answer is âYesâ but strongly depends on your systemâs role.\n\nWould you like to disable printing?\n\nIf this machine is not going to need to print, you should stop the print scheduler and restrict the permissions on all the printing utilities.\n\nOn Linux, you could revert this later by typing:\n\n$ /bin/chmod 06555 /usr/bin/lpr /usr/bin/lprm $ /sbin/chkconfig lpd on\n\nThis is only recommended if this machine will not be used for printing in the near future. If you deactivate this, you might want to write down the commands above in case you decide to re-enable printing later.\n\nRecommended answer is âYesâ for servers.\n\nWould you like to disable printing?\n\nIf this machine is not going to need to print, you should stop the print scheduler and restrict the permissions on all the printing utilities.\n\nOn Linux, you could revert this later by typing:\n\n$ /bin/chmod 0755 /usr/bin/lpr /usr/bin/lprm /usr/bin/lpstat $ /bin/chmod 04755 /usr/bin/lppasswd $ /sbin/chkconfig cups on\n\nThis is only recommended if this machine will not be used for printing in the near future. If you deactivate this, you might want to write down the commands above in case you decide to re-enable printing later.\n\nRecommended answer is âYesâ for servers.\n\nWould you like to install TMPDIR/TMP scripts?\n\nMany programs use the /tmp directory in ways that are dangerous on multi-user systems. Many of those programs will use an alternate directory if one is specified with the TMPDIR or TMP environment variables. We can install scripts that will be run when users log in that safely create suitable temporary directories and set the TMPDIR and TMP environment variables. This depends on your system supporting /etc/profile.d scripts.\n\nRecommended answer is âYesâ if a multi-user system âNoâ if it is not.\n\nWould you like to run the packet filtering script?\n\nUsing the packet filtering script, you will be able to do packet filtering/modification via the Linux kernel. You can use this to block certain types of connections to or from your machine, to turn your machine into a small firewall, and to do Network Address Translation (also known as âIP masqueradingâ), which lets several machines share a single IP address.\n\nIf you install the packet filtering script, it will create firewalling instructions for you. You will be prompted to make various choices (with suggested defaults), but you may need to edit it for your particular site and WILL need to individually activate it.\n\nThis script supports both kernel 2.2 (ipchains) and 2.4 (iptables if available, otherwise ipchains).\n\nRecommended answer is âNoâ but depending on your objectives, it can be âYesâ.\n\nApproving Changes To Be Made\n\nUpon answering all the questions, you will be prompted to ensure that you are done with it. After giving your confirming Bastille will do its job and show you (literally) the credits.\n\nYou can press Enter to return to the Linux shell.\n\nReverting Back Bastilleâs Changes\n\nIf you decide to revert the changes Bastille has made to your system, you can do so by executing the following command:\n\nsudo RevertBastille\n\nThis is going to undo everything and you if you need Bastille again, you be required to go through each step one by one.\n\nNote: Usually operating systems already come with many security options set correctly and for your benefit by default. After having reverted Bastilleâs changes, do not be alarmed if you see that some things havenât changed: thatâs because system defaults.\n\nUsing Bastille for Assessment\n\nAs we have mentioned at the beginning of the article, Bastille is also a great system security assessment tool as it provides you, very simply, an excellent report on certain aspects of possible vulnerabilities.\n\nGenerating the Assessment\n\nIn order to obtain an assessment report, run the following:\n\nsudo bastille --assessnobrowser\n\nAfter completing the tests, Bastille will tell you something similar to:\n\nBastille Hardening Assessment Completed You can find a report in HTML format at: file:///var/log/Bastille/Assessment/assessment-report.html You can find a report in text format at: /var/log/Bastille/Assessment/assessment-report.txt You can find a more machine-parseable report at: /var/log/Bastille/Assessment/assessment-log.txt\n\nViewing the Assessment Results\n\nIn order to view the assessment report, we will open up report in text format using a text editor (nano).\n\n$ cat /var/log/Bastille/Assessment/assessment-report.txt\n\nHere, you will be able to obtain a summary of what the settings are on your system regarding various aspects of security.\n\nAlso by looking at the end of the document you can learn your security level scored by Bastille."
    }
}