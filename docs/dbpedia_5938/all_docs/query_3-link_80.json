{
    "id": "dbpedia_5938_3",
    "rank": 80,
    "data": {
        "url": "https://wiki.pine64.org/wiki/PinePhone_Installation_Instructions",
        "read_more_link": "",
        "language": "en",
        "title": "PinePhone Installation Instructions",
        "top_image": "",
        "meta_img": "",
        "images": [
            "https://wiki.pine64.org/images/e/e0/Pinephone_slots.png",
            "https://wiki.pine64.org/images/c/cd/Etcher1.png",
            "https://wiki.pine64.org/images/4/4b/Etcher3.png",
            "https://wiki.pine64.org/images/e/ee/Etcher4.png",
            "https://wiki.pine64.org/images/1/1a/Jumpdrive.jpg",
            "https://wiki.pine64.org/resources/assets/poweredby_mediawiki_88x31.png"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "",
        "meta_lang": "en",
        "meta_favicon": "/favicon.ico",
        "meta_site_name": "PINE64",
        "canonical_link": "https://wiki.pine64.org/wiki/PinePhone_Installation_Instructions",
        "text": "This section has generic installation instructions.\n\nFor specific installation instructions for each distribution please see the software releases pages:\n\nfor the PinePhone: PinePhone Software Releases\n\nfor the PinePhone Pro: PinePhone Pro Software Releases\n\nBoot priority\n\nPinePhone Pro\n\nFor details regarding the boot priority on the PinePhone Pro see PinePhone Pro#Boot order.\n\nPinePhone\n\nThe PinePhone always boots from the microSD card first. It is therefore recommended to have a microSD card handy. It is not possible to lock themself out of the phone when the installation on the internal storage (the eMMC) fails, as a correctly flashed microSD card will always boot. Note: Booting from USB is not supported by the hardware, a live USB stick will not boot.\n\nThe phone will also try to boot from microSD cards, which were previously flashed with an OS and formatted later, causing the phone to fail to boot. See reuse SD card on how to format the microSD card properly, including wiping the residues of u-boot.\n\nInstallation to the microSD\n\nFor this installation method you need a microSD card, a microSD card reader and a compatible device, such as a computer or a laptop with Linux, iOS, Windows or similar (Note: ChromeOS is not supported).\n\nTo install an image to the microSD card:\n\nDownload your chosen image from PinePhone Software Releases for the regular PinePhone and PinePhone Pro Software Releases for the PinePhone Pro\n\nExtract the compressed file\n\nWrite (\"flash\") the image to your microSD card, see the section Flashing the microSD below\n\nPlug microSD card into phone (make sure to use the top slot, not the bottom slot)\n\nOn the PinePhone Pro: The eMMC might have to be overruled to boot from the microSD card, see PinePhone Pro#Boot order\n\nBoot up the phone\n\nFlashing the microSD\n\nUsing Balena Etcher\n\nUsing the graphical application Balena Etcher to flash the microSD card is recommended for new or inexperienced users.\n\nDownload: https://etcher.balena.io/#download-etcher\n\nInstall the application and start it.\n\nClick the button Flash from file:\n\nSelect the downloaded image and make sure that you downloaded the correct one. Images for the PinePhone and the PinePhone Pro are not compatible with each other. Images for the PinePhone typically have the word \"PinePhone\" in the filename, while images for the PinePhone Pro typically have \"PinePhone Pro\" in their filename.\n\nNote: At this the image file does not have to be extracted from the archive format. Balena Etcher handles the extracting automatically.\n\nThen click on Select target:\n\nNote: Make sure to select the correct target by comparing the name and the disk capacity with the label on the microSD card.\n\nThen click on Flash!:\n\nThat's it! Now follow the further instructions above.\n\nUsing dd\n\nMake sure to select the correct device using lsblk. Then run dd with the selected device:\n\nsudo dd if=IMAGE.img of=/dev/[DEVICE] bs=1M status=progress conv=fsync\n\nNote: The image needs to be written to the whole device, not to partition 1. Make sure you're NOT selecting /dev/sda1 or /dev/mmcblk0p1 as target.\n\nUsing bmaptool\n\nMake sure to select the correct device using lsblk. Then run bmaptool with the correct device:\n\nDownload the IMAGE.xz and the IMAGE.bmap files, then run bmaptool copy --bmap IMAGE.bmap IMAGE.xz /dev/[DEVICE]. This takes around 2.5 minutes to flash a 4 Gb file.\n\nUsing Gnome Disks\n\nGnome Disks can be used to flash the microSD card. To do so, select the correct device in the left device selection, then click on the three dot menu and select Restore Disk Image... and follow the on-screen instructions.\n\nInstallation to the eMMC\n\nAn operating system can also be booted from the internal memory of the PinePhone (\"eMMC\"). There are multiple methods to flash the eMMC as explained below.\n\nFrom the booted microSD OS\n\nFlash an OS to the microSD card (and optionally resize the partition, see below)\n\nInsert microSD card and boot the phone\n\nDownload the desired OS' image on the booted OS or transfer it to the microSD card\n\nExtract the image file if it is archived\n\nFlash the image file to eMMC using dd if=IMAGE.img of=/dev/mmcblkX bs=1M status=progress conv=fsync where X is the number label of the eMMC (of the disk, not the partition!). Use the command lsblk to check your devices: typically with the current kernel the microSD card is /dev/mmcblk0 and the eMMC is /dev/mmcblk2 but as always with dd be extremely cautious to get the devices correct.\n\nTurn off phone, remove microSD card and then turn on the phone.\n\nUsing JumpDrive\n\nNote: This only applies to the regular PinePhone, not the PinePhone Pro.\n\nThe internal eMMC flash storage can be flashed using the Jumpdrive utility by Danct12 and Martijn from postmarketOS. This utility boots from micro SD and exposes the internal eMMC flash storage when the PinePhone is connected to a computer. The process of flashing an OS to the exposed and mounted eMMC is identical to that of any other storage medium - e.g. a microSD card. You can use the dd command or a utility such as Etcher or Gnome Disks, etc.\n\nLatest Jumpdrive can be found here.\n\nDownload and extract the Jumpdrive image\n\nFlash the Jumpdrive image to a microSD card\n\nBoot the PinePhone from the Jumpdrive microSD card\n\nConnect the PinePhone to your computer using USB-A -> USB-C cable\n\nFlash the exposed PinePhone drive (e.g. /dev/mm..., check for the right device in dmesg, GNOME disks, or similar, and make sure it's unmounted) with your chosen OS image\n\nOnce the flashing process is complete, disconnect the PinePhone from your PC, power it down and remove the Jumpdrive microSD card\n\nThe process is now finished, and you can boot from eMMC\n\nThe Jumpdrive image is smaller than 50MB. You can keep an microSD card specifically for using Jumpdrive, and there are 64MB microSD cards sold cheaply that will suffice. Jumpdrive also acts as a rescue image in case if you messed up your installation. To do so, you can telnet to 172.16.42.1, mount rootfs and fix it!\n\nSD to eMMC via installer\n\nAn special installer image booted from the microSD card can be used to flash the eMMC as well. Mobian and postmarketOS installer images booted from microSD card will simply ask the user if they want to install to eMMC. The feature lives in the distribution-agnostic calamares-extensions repository (see calamares-extensions#7), so other distributions might adopt this in the future.\n\nUsing Tow-Boot\n\nTow-Boot is an opinionated distribution of the U-Boot bootloader. It includes an USB Mass Storage Mode, which exposes the flash drive(s) to a computer connected to the phone via USB-C. The Tow-Boot bootloader has to be installed if it is not pre-installed already. For instructions see the following links:\n\nPinePhone: https://tow-boot.org/devices/pine64-pinephoneA64.html\n\nPinePhone Pro: https://tow-boot.org/devices/pine64-pinephonePro.html\n\nIf Tow-Boot is installed the phone can be started into USB Mass Storage Mode by holding the volume up key on startup.\n\nThe steps of flashing an operating system to the phone after booting Tow-Boot's USB Mass Storage Mode and connecting the phone to a computer is identical to that of any other storage medium - e.g. a microSD card. You can use the dd command or a utility such as Etcher or Gnome Disks from the computer the phone is connected to.\n\nResize partition to fit disk space\n\nNote: Many operating systems already include a script, which is resizing the partition on first boot, where this step is not required.\n\nOnce you've flashed the OS to your microSD card or eMMC storage, you may also need to expand the partition to fill all the available space.\n\nResize SD card's partition using a computer\n\nFor microSD cards, insert the microSD card and resize the partitions through the computer. For eMMC, insert the phone cable and use Jumpdrive to access the eMMC directly, and resize the partition after flashing the image. To do the flashing you have two options:\n\nUsing Growpart\n\nInstall growpart and run:\n\ngrowpart /dev/mmcblkX Y resize2fs /dev/mmcblkXpY\n\nwhere X is the storage device and Y is the partition number (viewable from lsblk).\n\nIf you get any errors about missing or unknown commands, use apt-cache search to find and install the needed software. Also don't forget to use sudo.\n\nUsing Parted\n\nParted's interactive mode and resize work well together. Do this before you put your microSD card into the PinePhone for the first time for best results.\n\nsudo parted /dev/<your_sd_card_device> (parted) resizepart 2 100% (parted) quit sudo resize2fs /dev/<the_second_sd_card_PARTITION>\n\nResize from within the PinePhone\n\neMMC: you would need to resize the partition on eMMC (flashed with the operating system) by booting another image from the microSD card: that way, the eMMC will be unmounted. It is not recommended to resize eMMC while booted from eMMC! Resizing a currently mounted partition can have weird results. If you booted from the microSD card, you can follow the above guidelines on how to resize from a computer.\n\nMicroSD card: It is generally not possible to boot from eMMC to partition the unmounted microSD card, because of the boot order - you would have to write the image to the empty microSD card first, then resize partition, all without rebooting. It is also not recommended to resize the microSD card while booted from microSD card! Resizing a currently mounted partition can have weird results.\n\nReuse SD card for data storage on system booting from eMMC\n\nOnce you have installed your release of choice to eMMC, you may wish to use an microSD card for data storage. If you choose to re-use a card you have previously used to boot from, you will find your phone will not boot if you just reformat the card and insert it. This is because the Allwinner firmware in the PinePhone uses some (normally) unused space at the front of the microSD card to store boot software, which you need to clear.\n\nThis can be done as follows on any Linux system:\n\nlsblk\n\nto check the device of your microSD card – as an example lets assume it is /dev/mmcblk0 then\n\nsudo dd if=/dev/zero of=/dev/[DEVICE] bs=8k seek=1 count=4\n\nwill clear the relevant sectors of your card.\n\nSince Danctnix (arch) switched to a gpt partition table from mbr in May of 2022 it installs u-boot at an offset of 128k instead of 8k, which means this command must be used instead\n\nsudo dd if=/dev/zero of=/dev/[DEVICE] bs=32k seek=4 count=1\n\nWeb resources"
    }
}