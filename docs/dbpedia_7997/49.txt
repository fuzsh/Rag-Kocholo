Calif. Gov. Jerry Brown and his predecessor, Arnold Schwarzenegger, stood side by side Tuesday to cheer the extension of one of the most ambitious programs in the U.S. to reduce fossil fuel pollution, while condemning President Donald Trump‘s failure to see climate change as a deadly threat.

Schwarzenegger, a Republican, joined Brown, a Democrat, for a sunny outdoor ceremony overlooking San Francisco, where the governor signed legislation to extend a program limiting emissions of climate-changing carbons that both have urged the world to emulate. Within view of the city’s skyscrapers on Treasure Island, a man-made, low-lying island threatened by rising seas from climate change, the signing was full of open rebukes for President Trump, who withdrew the U.S. from the Paris cilmate accord to cut carbon emissions.

“America is fully in the Paris agreement. There’s only one man that dropped out,” Schwarzenegger said of Trump on Tuesday. “America did not drop out.”

Schwarzenegger also pointed to the bipartisan support that lawmakers in the Democratic-dominated Legislature gave to extending the cap-and-trade program by 10 years. “This is a very important message. A message that we have a functional government in California where Democrats and Republicans work together,” he said.

The program puts a limit on carbon emissions and requires polluters to obtain permits to release greenhouse gases. It had been due to expire in 2020.

Both the current and former governors have hailed the cap and trade as a successful way to reduce emissions that hasn’t taken the steam out of the economy of the nation’s most populous state. Brown on Tuesday repeatedly evoked the darkest of scenarios, calling the rapidly changing climate from the pollution of coal, gas and other fossil fuels second only to nuclear programs as a global threat.

“If we don’t do something about it, it is the end of the world,” said Brown. Cap and trade “is an absolute requirement for the survival and the world,” he later told reporters.

The signing follows a frenetic push by the governor and his legislative allies to craft a plan that businesses and environmentalists would find acceptable.

In the end, the extension was supported by a wide range of groups that said it is the most cost-effective way to combat climate change. But it met fierce opposition from environmental justice groups that said it’s riddled with giveaways to the oil industry, including too many free pollution permits.

Some Republicans and anti-tax activists said it would lead to higher prices for food and energy. “Gov. Brown and his cadre of climate change extremists won’t be happy until California leads the nation in wind, solar and poverty,” Republican state Sen. Ted Gaines said Tuesday in a statement.

Brown’s ceremony echoed one in the same spot 11 years ago, when Schwarzenegger signed the measure that authorized environmental regulators to create the cap-and-trade program. Schwarzenegger pointed to support from eight Republican lawmakers, saying they have shown that the GOP can get behind free-market solutions to climate change.

That measure required the state to reduce its carbon emissions to 1990 levels by 2020 — a target the state is on track to meet. Legislation approved last year set a new, much more aggressive goal to reduce emissions another 40 percent by 2030.

Under the program, some permits to pollute are given away while others are auctioned, generating billions of dollars in revenue for the state. The money is a key funding source for programs that reduce greenhouse gas emissions as well as a planned high-speed train between San Francisco and Los Angeles, one of Brown’s priorities.