{
    "id": "dbpedia_6855_3",
    "rank": 66,
    "data": {
        "url": "https://docs.oracle.com/en/database/oracle/oracle-database/19/gsmug/gdsctl-reference.html",
        "read_more_link": "",
        "language": "en",
        "title": "Global Data Services Control Utility (GDSCTL) Command Reference",
        "top_image": "",
        "meta_img": "",
        "images": [],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            "GDSCTL",
            "reference",
            "commands",
            "add brokerconfig",
            "add cdb",
            "add credential",
            "add database",
            "add file",
            "add gdspool",
            "add gsm",
            "add invitednode (add invitedsubnet)",
            "add region",
            "add service",
            "add shard",
            "add shardgroup",
            "add shardspace",
            "config",
            "config cdb",
            "config chunks",
            "config credential",
            "config database",
            "config file",
            "config gdspool",
            "config gsm",
            "config sdb",
            "config service",
            "config shard",
            "config shardgroup",
            "config shardspace",
            "config table family",
            "config vncr",
            "connect",
            "create catalog",
            "create shard",
            "GDSCTL",
            "create shardcatalog",
            "databases",
            "delete catalog",
            "deploy",
            "disable service",
            "enable service",
            "exit",
            "quit",
            "help",
            "modify catalog",
            "modify cdb",
            "modify credential",
            "modify database",
            "modify file",
            "modify gdspool",
            "modify gsm",
            "modify region",
            "modify service",
            "services",
            "managing",
            "modify shard",
            "modify shardgroup",
            "modify shardspace",
            "move chunk",
            "recover shard",
            "relocate service",
            "remove brokerconfig",
            "remove cdb",
            "remove credential",
            "remove database",
            "remove file",
            "remove gdspool",
            "remove gsm",
            "remove vncr",
            "remove region",
            "remove service",
            "remove shard",
            "remove shardgroup",
            "remove shardspace",
            "status service",
            "set gsm",
            "set inbound_connect_level",
            "set inbound_connect_timeout",
            "set log_level",
            "set log_status",
            "set outbound_connect_level",
            "set outbound_connect_timeout",
            "set trace_level",
            "set trc_level",
            "show ddl",
            "split chunk",
            "sql",
            "start gsm",
            "start observer",
            "start service",
            "status",
            "status database",
            "status gsm",
            "stop gsm",
            "stop service",
            "sync brokerconfig",
            "synchronize brokerconfig",
            "sync database",
            "synchronize database",
            "validate catalog",
            "validate"
        ],
        "tags": null,
        "authors": [
            "Laurence Clarke",
            "David Colello",
            "Mark Dilman",
            "Shahab Hamid",
            "Wei Hu",
            "Bob McGuirk",
            "Joseph Meeks",
            "Leonid Novak",
            "Cris Pedregal-Martin",
            "Nick Wagner"
        ],
        "publish_date": "2019-01-11T21:18:20+00:00",
        "summary": "",
        "meta_description": "",
        "meta_lang": "en",
        "meta_favicon": "/sp_common/book-template/ohc-common/img/favicon.ico",
        "meta_site_name": "Oracle Help Center",
        "canonical_link": null,
        "text": "Usage Notes\n\nDatabase-specific options cannot be set at this level. The modify service command must be used to set database-specific options.\n\nOne of -preferred_all or -preferred must be specified. If -preferred_all is specified, then all databases in the pool are preferred for this global service (databases inserted into the pool will also have this global service added).\n\nIn Oracle Sharding, note that when there is no table_family parameter specified, the service is not associated with any table family, and the value of the property is set to NULL. This is the case for user-defined and composite sharding, where there is always only one table family, and can also be the case when there is only one table family in system-managed sharding. When a table family is deleted (that is, the root table of the table family is dropped) the table_family property of the service is reset to NULL.\n\nUsage Notes\n\nThis command is deprecated in Oracle Database 12c Release 2. Use create gdscatalog or create shardcatalog for your specific environment.\n\nThe create catalog command generates a pair of PKI public and private keys and stores them in the catalog, along with a fixed string \"GSM\" that is encrypted with a private key. It uses the GSMCATUSER password.\n\nYou must have the Global Data Services administrator privileges on the computer where you want to create the Global Data Services catalog.\n\nAuto VNCR is best used in environments with simple private networks where ease of configuration is the most important consideration. To have the highest level of control over which hosts may participate in a GDS configuration, disable Auto VNCR and explicitly add the IP addresses of each database host to the VNCR configuration.\n\nWhen âautovncr is enabled, Oracle attempts to find the host name of the target database when it is validated during add shard or add database execution. This host is then automatically added to the VNCR list in the catalog as an invited node. This mechanism is not compatible with all network configurations and may not work in the following cases:\n\nThe catalog or global service manager host does not know how to translate the host name discovered on the target database host to an real IP address. This can happen if they have different names in the hosts file or DNS on the catalog or global service manager host, or if they just do not exist on those hosts.\n\nThe target database host has multiple public network addresses, and Oracle chooses an address that is different than the address used when the database registers with the global service manager. This can happen if the host has multiple network cards or has configured virtual network interfaces.\n\nThe database is running Oracle RAC, and other Oracle RAC instances run on a different subnet. This is not a recommended configuration for Oracle RAC. Refer to the Oracle RAC documentation for recommended configurations. With Oracle RAC, Oracle Database connects to a single database host to validate the target, and returns a subnet mask that includes the entire subnet that the host is on. If other instances are on a different subnet, they have no valid VNCR entry, and registration is rejected.\n\nWhen âautoVNCR is not enabled, or, if any of the above cases apply, new hosts should be added manually using add invitednode (add invitedsubnet).\n\nUsage Notes\n\nThe create gdscatalog command generates a pair of PKI public and private keys and stores them in the catalog, along with a fixed string \"GSM\" that is encrypted with a private key. It uses the GSMCATUSER password.\n\nYou must have the Global Data Services administrator privileges on the computer where you want to create the Global Data Services catalog.\n\nAuto VNCR is best used in environments with simple private networks where ease of configuration is the most important consideration. To have the highest level of control over which hosts can participate in a GDS configuration, disable Auto VNCR and explicitly add the IP addresses of each database host to the VNCR configuration.\n\nWhen âautovncr is enabled, Oracle attempts to find the host name of the target database when it is validated during add shard or add database execution. This host is then automatically added to the VNCR list in the catalog as an invited node. This mechanism is not compatible with all network configurations and may not work in the following cases:\n\nThe catalog or global service manager host does not know how to translate the host name discovered on the target database host to an real IP address. This can happen if they have different names in the hosts file or DNS on the catalog or global service manager host, or if they just do not exist on those hosts.\n\nThe target database host has multiple public network addresses, and Oracle chooses an address that is different than the address used when the database registers with the global service manager. This can happen if the host has multiple network cards or has configured virtual network interfaces.\n\nThe database is running Oracle RAC, and other Oracle RAC instances run on a different subnet. This is not a recommended configuration for Oracle RAC. Refer to the Oracle RAC documentation for recommended configurations. With Oracle RAC, Oracle Database connects to a single database host to validate the target, and returns a subnet mask that includes the entire subnet that the host is on. If other instances are on a different subnet, they have no valid VNCR entry, and registration is rejected.\n\nWhen âautoVNCR is not enabled, or, if any of the above cases apply, new hosts should be added manually using add invitednode (add invitedsubnet).\n\nUsage Notes\n\nCREATE SHARD causes a new database to be created using DBCA and NETCA.\n\nCREATE SHARD only registers the database with GDS. The database is not created and replication is not configured on a newly create database, and data from other databases is not distributed to it until DEPLOY is executed.\n\nThe âDEPLOY_AS option can only be specified if a shard is being added to a shardspace. If a shard is being added to a shardgroup, its role will determined by the role of the shardgroup. The role is assigned when the shard gets deployed.\n\nIf the âCREDENTIAL option is specified, the credential name must have previously been created with the ADD CREDENTIAL command. If âCREDENTIAL is not specified, then OSACCOUNT and OSPASSWORD (and optionally WINDOWS_DOMAIN) must be specified.\n\nThe value for DBPARAM, DBTEMPLATE, or NETPARAM must be the name of a file object as previously specified in the ADD FILE command. The file content specified by the -netparam or -netparamfile parameter in CREATE SHARD is a NETCA response file. Examples can be found in $ORACLE_HOME/assistants/netca. By default, port 1521 is used with a listener name of LISTENER_shard_name. These values can be changed by modifying a sample response file and specifying it using the -netparam or -netparamfile parameters. The file content specified by the -dbtemplate or -dbtemplatefile parameter in CREATE SHARD is a DBCA template file. Examples of template files can be found in $ORACLE_HOME/assistants/dbca/templates. If not specified, the General_Purpose.dbc file located in the above directory on the shard destination host will be used. The format of the file contents specified in the -dbparam or -dbparamfile command is a space-delimited list of DBCA command line parameters and values on one or more lines. For example, the following is an example of a valid parameter file: -gdbName shard1.example.com -initParams sort_area_size=200000. For a complete list of possible DBCA parameters, run dbca -help -createDatabase.\n\nSee Working with Oracle GoldenGate Sharding in the Fusion Middleware Using the Oracle GoldenGate Microservices Architecture guide for more information about using Oracle GoldenGate with Oracle Sharding.\n\nUsage Notes\n\nIf -database is not specified, the GDS catalog that the current global service manager is associated with will be used. The -catpwd option should be specified in case you need to perform cleanup of databases in the existing catalog that are not found in imported file.\n\nWhen restoring to a new catalog database, catalog must be created first, using the create gdscatalog command.\n\nYou must connect to the catalog database as a user with GDS Administrator privileges before running this command.\n\nThe import procedure can be considered finished only when there are no pending requests after import. Use the config command to get the list of pending requests.\n\nUsage Notes\n\nTo use this command, there must be a least one global service manager running and a connection with the catalog database must have already been established (see the connect command).\n\nYou must connect to the catalog database as a user with the Global Data Services administrator privileges, using the connect command before running this command.\n\nAuto VNCR is best used in environments with simple private networks where ease of configuration is the most important consideration. To have the highest level of control over which hosts may participate in a GDS configuration, disable Auto VNCR and explicitly add the IP address(es) of each database host to the VNCR configuration.\n\nThe GSMCATUSER password should be updated regularly for security reasons. Use the following command to perform this operation.\n\nmodify catalog -oldpwd oldpassword -newpwd newpassword\n\nThis command fetches the encrypted private key and encryption string, decrypts them using the old password, re-encrypts them with the new password and stores them again.\n\nIf the GSMCATUSER password is changed, you must execute MODIFY CATALOG to update catalog security scheme, with -newpwd and -oldpwd specified.\n\nThe PKI keys must be updated regularly, which is done using modify catalog -oldpwd oldpassword -newkeys. This command generates a new PKI key pair and replaces the corresponding fields in the database.\n\nIf you decide to replace the PKI keys, or just after A patchset upgrade on the catalog database, run this command:\n\nmodify catalog -pwd ** -newkeys\n\nAn arbitrary password can be stipulated for remote agent registration. If an agent registration password already exists, it will be overridden with the new password. In order to successfully execute the GDSCTL CREATE SHARD command, an agent password must be set using the CREATE SHARDCATALOG or MODIFY CATALOG command.\n\nSyntax\n\nTo add more preferred or available databases to a global service:\n\nmodify service [-gdspool gdspool_name] -service service_name {-preferred db_name_list | -available db_name_list}\n\nTo modify the attributes of a global service:\n\nmodify service [-gdspool gdspool_name] -service service_name [-locality {ANYWHERE | LOCAL_ONLY}] [-region_failover] [-role {PRIMARY | PHYSICAL_STANDBY [-failover_primary] | LOGICAL_STANDBY | SNAPSHOT_STANDBY}] [-lag {lag_value | ANY}] [-notification {TRUE | FALSE}] [-rlbgoal {SERVICE_TIME | THROUGHPUT}] [-clbgoal {SHORT | LONG}] [-tafpolicy {BASIC | NONE | PRECONNECT}] [-policy policy] [-failovertype {NONE | SESSION | SELECT | TRANSACTION}] [-failovermethod {NONE | BASIC}] [-dtp {TRUE | FALSE}] [-sql_translation_profile stp_name] [-failoverretry failover_retries] [-failoverdelay failover_delay] [-edition edition_name] [-commit_outcome {TRUE | FALSE}] [-retention retention_seconds] [-session_state {DYNAMIC | STATIC}] [-replay_init_time replay_init_time]] [-table_family family]\n\nTo move a global service from one database to another database:\n\nmodify service [-gdspool gdspool_name] -service service_name -old_db db_name -new_db db_name [-force]\n\nTo change an available database to a preferred database for a service:\n\nMODIFY SERVICE [-gdspool gdspool_name] -service service_name -available db_name_list -preferred\n\nTo change databases between preferred and available status:\n\nmodify service [-gdspool gdspool_name] -service service_name {-preferred_all | {-modifyconfig -preferred db_name_list [-available db_name_list]}}\n\nTo modify properties for a global service that are specific to an Oracle RAC database:\n\nmodify service [-gdspool gdspool_name] -service service_name -database db_name [-server_pool server_pool_name | {-add_instances|-modify_instances} -preferred inst_list -available inst_list | -drop_instances inst_list -cardinality {UNIFORM | SINGLETON}\n\nExamples\n\nAdd the database DB3 as a preferred database for the service G_SALES_REPORT in the database pool MYREADERFARM.\n\nGDSCTL> modify service -gdspool myreaderfarm -service g_sales_report -preferred db3\n\nModify the service G_DAILY_SALES_REPT in the database pool MYREADERFARM to change the run-time load balancing goal to THROUGHPUT.\n\nGDSCTL> modify service -gdspool myreaderfarm -service g_daily_sales_rept -rlbgoal THROUGHPUT\n\nMove the service G_SALES_REPORT in the database pool MYREADERFARM from the database DB1 to DB4.\n\nGDSCTL> modify service -gdspool myreaderfarm -service g_sales_report -old_db db1 -new_db db4\n\nUpgrade the DB3 database from an available database to a preferred database for the service G_SALES_REPORT in the database pool READFARM.\n\nGDSCTL> modify service -gdspool readfarm -service g_sales_report -available db3 -preferred\n\nAssume the service G_SALES_REPORT currently has the databases DB1 and DB2 assigned as preferred databases, and the database DB3 assigned as an available database. Exchange the preferred and available databases DB1 and DB3, and remove the DB2 database for the service SALES_REPORT in the database pool READFARM.\n\nGDSCTL> modify service -gdspool readfarm -service g_sales_report -modifyconfig -available db3 -preferred db1\n\nModify the properties of the service G_SALES_REPORT in the database pool READFARM to specify that it should run only in the server pool named SALESPOOL for the policy-managed Oracle RAC database DB1.\n\nGDSCTL> modify service -gdspool readfarm -service g_sales_report -database db1 -server_pool salespool\n\nSupply the preferred and available instances for the given service on the given database.\n\nGDSCTL> modify service –gdspool mypool –service mysvc –database mydb –add_instances –preferred inst1,inst2 –available inst3,inst4\n\nIn a system-managed sharded database, the table family ID parameter is specified as a property of the service.\n\nGDSCTL> modify service –GDSPOOL shdpool –table_family sales.customer -service sales\n\nUsage Notes\n\nUnlike using the modify service command to change the location of a service, this command does not change the underlying configuration. This command temporarily relocates a service to run on another database.\n\nIf -force is not specified, then the global service must have been started on the old database and not running on the new database prior to command execution. If -force is not specified, then sessions already connected to this global service stay connected, but new sessions cannot be established.\n\nIf -override is specified the command will be executed without going to the GDS catalog. Use this option when the GDS catalog is unavailable. It is not recommended for use under normal operation.\n\nIf you attempt to use this command on a service that was previously configured with the -preferred_all option, then GDSCTL returns an error.\n\nYou must connect to the catalog database as a user with the pool administrator privileges, using the command connect before running this command\n\nUsage Notes\n\nThis command can only be executed against a sharded GDS pool. The statements are executed in the GDS catalog database and are then broadcast to all shards in the pool. Since there can be only one sharded pool in a GDS configuration, all SQL statements executed on the catalog database are applied to this pool, if it exists.\n\nDatabase objects created by this command in the catalog database are used as a schema of the sharded database and are not intended to store user data. The only exception is tables duplicated on all shards (reference tables) – they are populated with data in the catalog database.\n\nSELECT statements are not allowed as the parameter.\n\nThe SQL statement or PL/SQL stored procedure to be executed must be enclosed in double quotation marks.\n\nIf the string that GDSCTL passes to PL/SQL contains a filename, then the filename must be enclosed in single quotation marks.\n\nDo not include a semi-colon (;) after the SQL statement to be executed.\n\nUsage Notes\n\nYou must connect to the catalog database as a user with the pool administrator privileges, using the command connect before running this command.\n\nIf -service is not specified, all global services of GDS pool are stopped.\n\nIf -database is not specified, the global services are stopped on all of the databases.\n\nIf -force is specified, all sessions are disconnected, requiring the session using the global service to reconnect (potentially to another instance). If -force is not specified, then sessions already connected to this global service stay connected, but new sessions cannot be established to the global service.\n\nIf -override is specified, the command is executed without connecting to the GDS catalog. Use this option when the GDS catalog is unavailable. It is not recommended for use under normal operation.\n\nUsage Notes\n\nBecause the execution of this command involves accessing all databases in a Global Data Services configuration, the GSMCATUSER password is required run it. The password is stored in the wallet of any global service manager that is part of the Global Data Services configuration. Therefore, if you run the command from the ORACLE_HOME of any of the global service managers, the password is automatically extracted from the wallet and does not have to be provided. Otherwise, you must provide the GSMCATUSER password using the -catpwd command option. Alternatively, if all databases in the Global Data Services configuration have the same GSMUSER password, you can specify the password instead of the GSMCATUSER password by using the -dbpwd option."
    }
}