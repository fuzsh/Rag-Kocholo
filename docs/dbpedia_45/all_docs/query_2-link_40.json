{
    "id": "dbpedia_45_2",
    "rank": 40,
    "data": {
        "url": "https://docs.fedoraproject.org/en-US/quick-docs/troubleshooting-wayland-problems/",
        "read_more_link": "",
        "language": "en",
        "title": "Troubleshooting Wayland Problems",
        "top_image": "https://docs.fedoraproject.org/en-US/_/img/docs_logo.png",
        "meta_img": "https://docs.fedoraproject.org/en-US/_/img/docs_logo.png",
        "images": [
            "https://docs.fedoraproject.org/en-US/_/img/docs_logo_white.png",
            "https://docs.fedoraproject.org/en-US/quick-docs/_images/gdm-pick-wayland.png",
            "https://docs.fedoraproject.org/en-US/_/img/fedora-blue.png",
            "https://docs.fedoraproject.org/en-US/_/img/logo-sponsored-by-red-hat.png"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "Wayland is intended as a simpler replacement for X11. Wayland changes the design of a Linux desktop architecture considerably. Unlike X11, there is no dedicated standalone server in Wayland. Whatâ¦",
        "meta_lang": "en",
        "meta_favicon": "",
        "meta_site_name": "Fedora Docs",
        "canonical_link": "https://docs.fedoraproject.org/en-US/quick-docs/troubleshooting-wayland-problems/",
        "text": "In GNOME, there’s a gear button at the login screen which can be used to either log into a Wayland session (simply called GNOME, it’s the default option), or a legacy X11 session (called GNOME on Xorg). If you have a password-less user account, you won’t see the gear icon, it is displayed only when the password prompt appears. Use the gear button to determine type of session you’re logging into. If you want to start your session in a different way, read the advanced techniques for trying Wayland.\n\nIn KDE, there is support for running a nested Wayland session inside your X11 session. You’ll need to install kwin-wayland package and then follow up with this howto. There doesn’t seem to be out-of-the-box support for running a full Wayland session at the moment.\n\nIt is important to know whether the problematic application is a native Wayland application, or runs through XWayland, which allows legacy applications to still run on top of Xorg server, but display in a Wayland session.\n\nThere are several ways how to identify whether an application is using Wayland or XWayland:\n\nIf you have identified the problem to be in a XWayland application, try to reproduce the issue in a standard X11 session. If it happens as well, it is not related to Wayland, it’s a bug either in that particular application, or Xorg server, see How to debug Xorg problems. If the problem happens only under XWayland but not in an X11 session, it should still be reported against Xorg server ( package), because XWayland is included in it (as xorg-x11-server-Xwayland subpackage).\n\nIf you experience a problem with a Wayland app, it is very useful to know whether the problem is present under just a single compositor (in that case it’s likely a compositor bug) or under multiple compositors (in that case it’s likely an app/toolkit bug).\n\nPlease run your session with the reference Weston compositor and try to reproduce the issue. You can either run Weston as a nested window, or as a full session. First, install package (you can read many useful information in its man page):\n\nThen create a config file which will specify that you want to have XWayland support enabled in your weston sessions. Create ~/.config/weston.ini with this contents:\n\nNow you can start weston either as nested window or as a full session.\n\nIf you can reproduce the issue with Weston, file an issue against the app or its toolkit (gtk+, qt, etc). Otherwise file the issue against the compositor your environment uses (mutter, kwin, etc). If the problem occurs only with XWayland apps but not native Wayland apps, report a bug against Xorg server.\n\nBefore reporting the bug, please make sure you use the latest available software. Make sure there are no system updates waiting:\n\nIf there are (and the available updates look plausibly related to the components you’re seeing issues with), please update the system and verify whether the issue is still present or has been fixed.\n\nIn order to avoid duplicate reports and also wasting your time debugging something someone has maybe already debugged, please search through the existing reports first. The most visible issues or concerns are listed in Known issues, frequent complaints, fundamental changes. If you don’t see it there, you need to search deeper. You can find Wayland related issues most likely in here:\n\nAfter you’ve identified against which component to (most probably) report the issue and found no existing report of it, there are several places where to report it:\n\nWhen reporting the issue, please make your report block our tracker, so that we have a good overall picture of what is broken across many different components. In your bug report, set Blocks:Â WaylandRelated or Blocks:Â KDEWaylandRelated (you might need to toggle showing advanced fields to see the Blocks: field). That will make it block one of these trackers, depending where you reported the bug:\n\nIf gnome-shell gets stuck and unresponsive, it’s very helpful to obtain a backtrace from its process and attach it to the report. If this happens, switch to a different VT if possible (Ctrl+Alt+F3 through F7), or log in using ssh. First install debug symbols:\n\nYou can debug mutter (used in gnome-shell) by setting its environment variables. These need to be set prior to run gnome-shell, so if you want to log into GNOME from GDM, you need to create a wrapper script called from a desktop file in /usr/share/wayland-sessions.\n\nIt is not possible to start graphical apps under the root account from terminal when using su or sudo. Apps which use polkit to request administrator permissions for just certain operations and only when needed are not affected (they are not started as root right away). The discussion is ongoing about the best approach to take, see bug 1274451 and \"On running gui applications as root\" thread in fedora-devel mailing list.\n\nPower users are familiar with a large range of X11-related utilities, like xkill, xrandr, xdotool, xsel. These tools won’t work under Wayland session, or will only work with XWayland applications but not Wayland applications. Some tools might have a replacement which allows to perform similar tasks.\n\nIt is no longer possible for an app to change monitor resolution. Usually this was done by games to increase performance. Wayland-based games will use a different approach - scaling its output. But for X11 games (running through XWayland) this solution is not available. This results in a number of different types of behavior, based on how the game is written - the game might be fixed in the desktop resolution, or rendered as a small centered image with black bars around it, or crash on startup, or something different. See bug 1289714.\n\nFor some games, a possible workaround is to manually set custom monitor resolution before running the game, if you really need it. It will not help always, though.\n\nOne of the features of Wayland is its security design, which helps to guard the user against malicious apps. Apps can no longer see everything on the screen and spy on you. But that also means you cannot run a common application (like shutter or gtk-recordmydesktop) and use it to make a screenshot or a screencast of your desktop - it will see only its own window, but nothing else (or it might crash right away). System (trusted) apps need to be used to perform these actions.\n\nIn GNOME, you can use Screenshot tool (available in overview or as Printscreen hotkey or as gnome-screenshot command) to capture a screenshot of the full desktop or a particular window. You can press Ctrl+Alt+Shift+R keyboard shortcut to start video recording of the whole desktop (stop it by pressing the same shortcut again, there’s an indicator in the upper right corner, or it stops automatically after 30 seconds by default) and find the screencast in ~/Videos. For screencast, you can also use EasyScreenCast gnome-shell extension.\n\nIf your computer is under load, your mouse pointer movement might stop being fluent, but start lagging (get stuck in a place for a short time, then jump to a different place instantly). This is probably more noticeable on slow systems/systems with fewer CPU cores. See bug 745032.\n\nThere is a rare issue when you press a key to type a letter and you’ll see multiple copies of the letter typed in. See bug 757942 and bug 777693.\n\nSome applications forward all input, including system-specific keys/shortcuts like or , to a remote system. This is mostly remote desktop viewers like vncviewer or virtual machine managers like virt-manager or boxes. Under Wayland, some of these shortcuts can’t be intercepted, and therefore are used in the host system, not the remote/guest system. See bug 1285770."
    }
}