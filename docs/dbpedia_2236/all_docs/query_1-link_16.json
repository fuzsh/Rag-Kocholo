{
    "id": "dbpedia_2236_1",
    "rank": 16,
    "data": {
        "url": "https://groups.google.com/g/copasi-user-forum/c/vmzdjsRLUTU",
        "read_more_link": "",
        "language": "en",
        "title": "Grateful for some help!",
        "top_image": "https://www.gstatic.com/images/branding/product/1x/groups_32dp.png",
        "meta_img": "https://www.gstatic.com/images/branding/product/1x/groups_32dp.png",
        "images": [
            "https://fonts.gstatic.com/s/i/productlogos/groups/v9/web-48dp/logo_groups_color_1x_web_48dp.png",
            "https://lh3.googleusercontent.com/a-/ALV-UjU3vq2IBlQqDMtJgQI7br-pSLitM9QXlf4w_9u0RSSOmqVPpw=s40-c",
            "https://lh3.googleusercontent.com/a-/ALV-UjVZEn3hROHuCEkk-jfGNVwIHmUO76tBvDyTxe_xsKJFzf02eQ=s40-c",
            "https://lh3.googleusercontent.com/a-/ALV-UjU3vq2IBlQqDMtJgQI7br-pSLitM9QXlf4w_9u0RSSOmqVPpw=s40-c",
            "https://lh3.googleusercontent.com/a-/ALV-UjVZEn3hROHuCEkk-jfGNVwIHmUO76tBvDyTxe_xsKJFzf02eQ=s40-c",
            "https://lh3.googleusercontent.com/a-/ALV-UjU3vq2IBlQqDMtJgQI7br-pSLitM9QXlf4w_9u0RSSOmqVPpw=s40-c",
            "https://lh3.googleusercontent.com/a-/ALV-UjU3vq2IBlQqDMtJgQI7br-pSLitM9QXlf4w_9u0RSSOmqVPpw=s40-c",
            "https://lh3.googleusercontent.com/a-/ALV-UjVZEn3hROHuCEkk-jfGNVwIHmUO76tBvDyTxe_xsKJFzf02eQ=s40-c"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "",
        "meta_lang": "en",
        "meta_favicon": "//www.gstatic.com/images/branding/product/1x/groups_32dp.png",
        "meta_site_name": "",
        "canonical_link": "https://groups.google.com/g/copasi-user-forum/c/vmzdjsRLUTU",
        "text": "A few suggestions;\n\nDon’t use two compartments, I don’t see how multiple compartments add anything.\n\nJust name your species like; Asolid and A (use the simple name for A in solution)\n\nYour dissolution equilibrium equation is then just Asolid = A\n\nBut the above is a problem since dissolution doesn’t obey that kind of kinetics (By definition the concentration of a solid in a liquid is always 1)\n\nSo your kinetic law has to be based on how far the solution concentration is from the Ksp (the solubility product constant and saturation concertation) AND it has to take into account the odd behavior of the concentration of the undissolved material.\n\nSomething like, track amount of Asolid with Asolid(i) = Asolid(0) – A(i)*volume (and Asolid is an amount not a concentration)\n\nUse an ode to model the change in A (which is a concentration); d(A)/dt = k(Ksp – A) only when Asolid>0\n\nIf COPASI has a sign function the last ode might be; d(A)/dt = k(Ksp – A)*sign(Asolid)\n\nDissolution can show complex kinetics. Besides the simple first order ODE above it can be modelled many other ways. One common modification is to say that the rate of dissolution is proportional to the surface area of the solid and the surface are of the solid is proportional to the 2/3 power of the mass of solid.\n\nThe COPSAI experts might be able to point you to an example.\n\njim\n\n“Compartments” in COPASI (and SBML) are generally used to represent the same species in two different places. For example a drug in the blood (compartment) versus in a cell (compartment). The ODE then represents the rate of transfer of the compound from one compartment to another without changing the compound.\n\nBut, just because that is what compartments were implemented for doesn’t mean you can’t use them for other purposes!\n\nIn your model it might make sense to say that compound A in solution and as a solid are the same thing. To do that requires that they are in separate compartments. That approach can probably work.\n\nI would argue though that while it is true that the compound doesn’t change from the solid to being in solution, the mathematical treatment needs to change because a solid behaves oddly in the mathematical representation of the dissolution “reaction”. You can’t just say that the concentration of the solid is the mass/volume because that representation doesn’t work properly. Therefore, you can’t say that dissolution is just an equilibrium between the solid and the compound in solution.\n\nYou might be able to adequately approximate things without having to “properly” deal with the solubility process;\n\nIf you know the initial amount of solid is always less than the Ksp, then you can safely treat the dissolution process as a first order irreversible process. Asolid -> A and there is always some point in time where Asolid=0 and once that is true it is always true.\n\nIf you know the initial amount of solid is always more than the Ksp, then you can use the simple solubility equation of k(Ksp-A), which is also a first order reaction (in this case with no reactant).\n\nThe tricky case is when you want to be able to properly handle all possible initial amounts of Asolid. Including the special case where Asolid might go to zero and then at a later point in time become >0 again. (A starts to precipitate from solution.) To get this general purpose case to work you need to use the Ksp and not just a simple equilibrium equation.\n\nWhen a chemist sits down and does this type of calculation it always includes an “if”. They calculate amounts and then depending on being above or below Ksp then what the next calculation is changes. So, one approach would be to try to encode the “if” in the SBML/SOPASI model.\n\njim\n\nVic-\n\nDissolution kinetics can get extremely complex. For example, granulated sugar dissolves slower than does powdered sugar, all other things being equal. The increased surface area of the powdered sugar makes it dissolve faster. Stirring increases dissolution rate as does the physical layout of the solid in the solution. A thin layer of solid at the bottom of a large dish dissolves faster than a thick layer at the bottom of a small (but deep) dish. The general problem with the dissolution rate is that while it is related to the amount of undissolved material that relationship is highly complex and cannot adequately be described by just the mass of the undissolved material.\n\nSo that brings up a key point: Do you really care about the dissolution kinetics or are you primarily focused on the steady state behavior of the system? If you just want the steady state(s) then the kinetics might only need to be approximately correct as long as the steady states are correct.\n\nAttached is a rough layout of a dissolution model in Copasi. The attached image is from the time course defined by the Copasi file. I used “ode” instead of the reaction route like you suggested in an earlier email. In the graph (blue=solid, red=in solution); at time 0 there is 1 unit of solid that over a few seconds fully dissolves giving one unit in solution. The Ksp is defined as 2 so there is no solid and the solution is not saturated. At time=4 there is an event that adds an additional 2 units of solid. This will exceed the Ksp. The amount in solution increases to the Ksp (2) and the solid drops to 1 unit remaining. We now have a saturated solution with some solid remaining. At time=8 we (magically) increase the amount in solution to well above the Ksp. The amount in solution decreases back to the Ksp and the amount of solid increases. This was built using a dA = k(Ksp-A) ode, which is first order.\n\nAs far as how to approach the multiple parameters, I would define them all as “Global Quantities”. You can also define globals based on other globals. (I would also visit the “Model” tab and set the units to seconds, mol, liter).\n\nI hope that helps.\n\njim"
    }
}