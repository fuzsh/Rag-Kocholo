{
    "id": "dbpedia_5484_0",
    "rank": 61,
    "data": {
        "url": "https://robpol86.com/bareos_tape_backup.html",
        "read_more_link": "",
        "language": "en",
        "title": "Bareos Tape Backup on a 124T #",
        "top_image": "https://i.imgur.com/7DZQth.jpg",
        "meta_img": "https://i.imgur.com/7DZQth.jpg",
        "images": [
            "https://robpol86.com/_static/logo.svg",
            "https://i.imgur.com/7DZQth.jpg"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": "2022-05-24T00:34:17+00:00",
        "summary": "",
        "meta_description": "I use Bareos(a fork of Bacula) to backup my data at home from a Linux computer to tape. Backing up to tape is a lot more convenient that backing up to DVD-R/BD-R, though itâ€™s probably debatable when compared to backing up to an external hard drive. But having a tape autoloader is so cool! Equipme...",
        "meta_lang": "en",
        "meta_favicon": "/apple-touch-icon.png?v=210604",
        "meta_site_name": "Robpol86.com",
        "canonical_link": "https://robpol86.com/bareos_tape_backup.html",
        "text": "$ sudo mtx -f /dev/sg3 inquiry Product Type: Medium Changer Vendor ID: 'DELL ' Product ID: 'PV-124T ' Revision: '0085' Attached Changer API: No $ sudo btape /dev/nst0 Tape block granularity is 1024 bytes. btape: butil.c:301-0 Using device: \"/dev/nst0\" for writing. btape: btape.c:484-0 open device \"ULTRIUM-TD3\" (/dev/nst0): OK *test === Write, rewind, and re-read test === I'm going to write 10000 records and an EOF then write 10000 records and an EOF, then rewind, and re-read the data to verify that it is correct. This is an *essential* feature ... btape: btape.c:1171-0 Wrote 10000 blocks of 64412 bytes. btape: btape.c:616-0 Wrote 1 EOF to \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:1187-0 Wrote 10000 blocks of 64412 bytes. btape: btape.c:616-0 Wrote 1 EOF to \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:1229-0 Rewind OK. 10000 blocks re-read correctly. Got EOF on tape. 10000 blocks re-read correctly. === Test Succeeded. End Write, rewind, and re-read test === btape: btape.c:1297-0 Block position test btape: btape.c:1309-0 Rewind OK. Reposition to file:block 0:4 Block 5 re-read correctly. Reposition to file:block 0:200 Block 201 re-read correctly. Reposition to file:block 0:9999 Block 10000 re-read correctly. Reposition to file:block 1:0 Block 10001 re-read correctly. Reposition to file:block 1:600 Block 10601 re-read correctly. Reposition to file:block 1:9999 Block 20000 re-read correctly. === Test Succeeded. End Write, rewind, and re-read test === === Append files test === This test is essential to Bareos. I'm going to write one record in file 0, two records in file 1, and three records in file 2 btape: btape.c:586-0 Rewound \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:1928-0 Wrote one record of 64412 bytes. btape: btape.c:1930-0 Wrote block to device. btape: btape.c:616-0 Wrote 1 EOF to \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:1928-0 Wrote one record of 64412 bytes. btape: btape.c:1930-0 Wrote block to device. btape: btape.c:1928-0 Wrote one record of 64412 bytes. btape: btape.c:1930-0 Wrote block to device. btape: btape.c:616-0 Wrote 1 EOF to \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:1928-0 Wrote one record of 64412 bytes. btape: btape.c:1930-0 Wrote block to device. btape: btape.c:1928-0 Wrote one record of 64412 bytes. btape: btape.c:1930-0 Wrote block to device. btape: btape.c:1928-0 Wrote one record of 64412 bytes. btape: btape.c:1930-0 Wrote block to device. btape: btape.c:616-0 Wrote 1 EOF to \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:484-0 open device \"ULTRIUM-TD3\" (/dev/nst0): OK btape: btape.c:586-0 Rewound \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:1441-0 Now moving to end of medium. btape: btape.c:637-0 Moved to end of medium. We should be in file 3. I am at file 3. This is correct! Now the important part, I am going to attempt to append to the tape. btape: btape.c:1928-0 Wrote one record of 64412 bytes. btape: btape.c:1930-0 Wrote block to device. btape: btape.c:616-0 Wrote 1 EOF to \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:586-0 Rewound \"ULTRIUM-TD3\" (/dev/nst0) Done appending, there should be no I/O errors Doing Bareos scan of blocks: 1 block of 64448 bytes in file 1 End of File mark. 2 blocks of 64448 bytes in file 2 End of File mark. 3 blocks of 64448 bytes in file 3 End of File mark. 1 block of 64448 bytes in file 4 End of File mark. Total files=4, blocks=7, bytes = 451,136 End scanning the tape. We should be in file 4. I am at file 4. This is correct! The above Bareos scan should have output identical to what follows. Please double check it ... === Sample correct output === 1 block of 64448 bytes in file 1 End of File mark. 2 blocks of 64448 bytes in file 2 End of File mark. 3 blocks of 64448 bytes in file 3 End of File mark. 1 block of 64448 bytes in file 4 End of File mark. Total files=4, blocks=7, bytes = 451,136 === End sample correct output === If the above scan output is not identical to the sample output, you MUST correct the problem or Bareos will not be able to write multiple Jobs to the tape. === Write, backup, and re-read test === I'm going to write three records and an EOF then backup over the EOF and re-read the last record. Bareos does this after writing the last block on the tape to verify that the block was written correctly. This is not an *essential* feature ... btape: btape.c:586-0 Rewound \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:823-0 Wrote first record of 64412 bytes. btape: btape.c:834-0 Wrote second record of 64412 bytes. btape: btape.c:845-0 Wrote third record of 64412 bytes. btape: btape.c:616-0 Wrote 1 EOF to \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:861-0 Backspaced over EOF OK. btape: btape.c:866-0 Backspace record OK. btape: btape.c:884-0 Block re-read correct. Test succeeded! === End Write, backup, and re-read test === === Forward space files test === This test is essential to Bareos. I'm going to write five files then test forward spacing btape: btape.c:586-0 Rewound \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:1928-0 Wrote one record of 64412 bytes. btape: btape.c:1930-0 Wrote block to device. btape: btape.c:616-0 Wrote 1 EOF to \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:1928-0 Wrote one record of 64412 bytes. btape: btape.c:1930-0 Wrote block to device. btape: btape.c:1928-0 Wrote one record of 64412 bytes. btape: btape.c:1930-0 Wrote block to device. btape: btape.c:616-0 Wrote 1 EOF to \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:1928-0 Wrote one record of 64412 bytes. btape: btape.c:1930-0 Wrote block to device. btape: btape.c:1928-0 Wrote one record of 64412 bytes. btape: btape.c:1930-0 Wrote block to device. btape: btape.c:1928-0 Wrote one record of 64412 bytes. btape: btape.c:1930-0 Wrote block to device. btape: btape.c:616-0 Wrote 1 EOF to \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:1928-0 Wrote one record of 64412 bytes. btape: btape.c:1930-0 Wrote block to device. btape: btape.c:1928-0 Wrote one record of 64412 bytes. btape: btape.c:1930-0 Wrote block to device. btape: btape.c:616-0 Wrote 1 EOF to \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:1928-0 Wrote one record of 64412 bytes. btape: btape.c:1930-0 Wrote block to device. btape: btape.c:616-0 Wrote 1 EOF to \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:586-0 Rewound \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:1655-0 Now forward spacing 1 file. We should be in file 1. I am at file 1. This is correct! btape: btape.c:1667-0 Now forward spacing 2 files. We should be in file 3. I am at file 3. This is correct! btape: btape.c:586-0 Rewound \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:1680-0 Now forward spacing 4 files. We should be in file 4. I am at file 4. This is correct! btape: btape.c:1698-0 Now forward spacing 1 more file. We should be in file 5. I am at file 5. This is correct! === End Forward space files test === Ah, I see you have an autochanger configured. To test the autochanger you must have a blank tape that I can write on in Slot 1. Do you wish to continue with the Autochanger test? (y/n): y === Autochanger test === 3301 Issuing autochanger \"loaded\" command. Slot 1 loaded. I am going to unload it. 3302 Issuing autochanger \"unload 1 0\" command. unload status=OK 0 3303 Issuing autochanger \"load 1 0\" command. 3303 Autochanger \"load 1 0\" status is OK. btape: btape.c:484-0 open device \"ULTRIUM-TD3\" (/dev/nst0): OK btape: btape.c:1585-0 Rewound \"ULTRIUM-TD3\" (/dev/nst0) btape: btape.c:1592-0 Wrote EOF to \"ULTRIUM-TD3\" (/dev/nst0) The test autochanger worked!! *q"
    }
}