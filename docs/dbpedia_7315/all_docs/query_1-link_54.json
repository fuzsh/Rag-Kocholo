{
    "id": "dbpedia_7315_1",
    "rank": 54,
    "data": {
        "url": "https://www.ecutesting.com/categories/ecu-explained/",
        "read_more_link": "",
        "language": "en",
        "title": "ECU (Electronic Control Unit) explained",
        "top_image": "https://www.ecutesting.com/css/ecu.ico",
        "meta_img": "https://www.ecutesting.com/css/ecu.ico",
        "images": [
            "https://www.ecutesting.com/media/54981/ecu__engine_management__bosch_mev17_2_2.jpg"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "Explanation for the term ECU in the automotive context. The term can be used to mean an Engine Control Unit or an Electronic Control Unit, both are control units but one denotes the specific use in an engine system. Also complete explanation for the function of an ECU and its history.",
        "meta_lang": "en",
        "meta_favicon": "/css/ecu.ico",
        "meta_site_name": "",
        "canonical_link": "https://www.ecutesting.com/categories/ecu-explained/",
        "text": "What is an ECU?\n\nThe use of the term ECU may be used to refer to an Engine Control Unit, however ECU also refers to an Electronic Control Unit, which is a component of any automotive mechatronic system, not just for the control of an engine.\n\nIn the Automotive industry, the term ECU often refers to an Engine Control Unit (ECU), or an Engine Control Module (ECM). If this unit controls both an engine and a transmission, it is often described as a Powertrain Control Module (PCM).\n\nFor the purposes of this article, we will discuss the ECU as an Engine Control Unit.\n\nWhat does an ECU do?\n\nFundamentally, the engine ECU controls the injection of the fuel and, in petrol engines, the timing of the spark to ignite it. It determines the position of the engine’s internals using a Crankshaft Position Sensor so that the injectors and ignition system are activated at precisely the correct time. While this sounds like something that can be done mechanically (and was in the past), there’s now a bit more to it than that.\n\nAn internal combustion engine is essentially a big air pump that powers itself using fuel. As the air is sucked in, enough fuel has to be provided to create power to sustain the engine’s operation while having a useful amount left over to propel the car when required. This combination of air and fuel is called a ‘mixture’. Too much mixture and the engine will be full throttle, too little and the engine will not be able to power itself or the car.\n\nNot only is the amount of mixture important, but the ratio of that mixture has to be correct. Too much fuel - too little oxygen, and the combustion is dirty and wasteful. Too little fuel - too much oxygen makes the combustion slow and weak.\n\nEngines used to have this mixture quantity and ratio controlled by an entirely mechanical metering device called a carburetor, which was little more than a collection of fixed diameter holes (jets) through which the engine ‘sucked’ the fuel. With the demands of modern vehicles focusing on fuel efficiency and lower emissions, the mixture must be more tightly controlled.\n\nThe only way to meet these strict requirements is to hand over control of the engine to an ECU, the Engine Control Unit. The ECU has the job of controlling the fuel injection, ignition and ancillaries of the engine using digitally stored equations and numeric tables, rather than by analogue means.\n\nPrecise fuel management\n\nAn ECU has to deal with many variables when deciding the correct mixture ratio.\n\nEngine demand\n\nEngine/Coolant temperature\n\nAir temperature\n\nFuel temperature\n\nFuel quality\n\nVarying filter restriction\n\nAir pressure\n\nEngine pumping efficiency\n\nThese require a number of sensors to measure such variables and apply them to logic in the programming of the ECU to determine how to correctly compensate for them.\n\nAn increase in engine demand (such as accelerating) will require an increase in the overall quantity of mixture. Because of the combustion characteristics of the fuels in use, it also requires a change in the ratio of this mixture. When you press the accelerator pedal, your throttle flap will open to allow more air in to the engine. The increase in airflow to the engine is measured by the Mass Air Flow sensor (MAF) so the ECU can change the amount of fuel that’s injected, keeping the mixture ratio within limits.\n\nIt doesn’t stop there. For best power levels and safe combustion, the ECU must change the ratio of the mixture and inject more fuel under full throttle than it would during cruising – this is called a ‘rich mixture’. Conversely, a fueling strategy or a fault that results in less than a normal quantity of fuel being injected would result in a ‘lean mixture’.\n\nIn addition to calculating the fueling based on driver demand, temperature has a considerable part to play in the equations used. Since petrol is injected as a liquid, evaporation has to occur before it will combust. In a hot engine, this is easy to manage, but in a cold engine the liquid is less likely to vapourise and more fuel must be injected to keep the mixture ratio within the correct range for combustion.\n\nFlashback: Prior to the use of the ECU, this function was managed by a ‘choke’ on the carburetor. This choke was simply a flap that restricted the airflow into the carburetor increasing the vacuum at the jets to promote more fuel flow. This method was often inaccurate, problematic and required regular adjustment. Many were adjusted manually by the driver while driving.\n\nThe temperature of the air also plays a role in combustion quality in much the same way as the varying atmospheric pressure.\n\nPerfecting Combustion\n\nSince a car engine spends most of its time at part throttle, the ECU concentrates on maximum efficiency in this area. The ideal mixture, where all of the injected fuel is combusted and all oxygen is consumed by this combustion, is known as ‘stoichiometric’ or often as ‘Lambda’. At stoichiometric conditions, Lambda = 1.0.\n\nThe Exhaust Gas Oxygen Sensor (Lambda sensor, O2 Sensor, Oxygen Sensor or HEGO) measures the amount of oxygen left over after combustion. This tells the engine whether there is an excess of air in the mixture ratio – and naturally whether there is excessive or insufficient fuel being injected. The ECU will read this measurement, and constantly adjust the fuel quantity injected to keep the mixture as close to Lambda = 1.0 as possible. This is known as ‘closed loop’ operation, and is a major contribution to the advanced efficiency that comes from using engine ECUs.\n\nBecause of the strict emissions regulations now in force, there are many other systems on an engine that help to reduce fuel consumption and/or environmental impact. These include:\n\nExhaust Gas Recirculation (EGR)\n\nCatalytic converter and Selective Catalytic Reduction\n\nExhaust Air Injection Reaction (AIR)\n\nDiesel Particulate Filters (DPF)\n\nFuel Stratification\n\nExhaust Additive Injection (Such as AdBlue)\n\nEvaporative emissions control (EVAP)\n\nTurbocharging and supercharging\n\nHybrid powertrain systems\n\nVariable Valvetrain Control (Such as VTEC or MultiAir)\n\nVariable Intake Control\n\nEach of the above systems affect engine operation in some way and as a consequence need to be under full control of the ECU.\n\nHow does an ECU work?\n\nAn ECU is often referred to as the ‘brain’ of the engine. It is essentially a computer, a switching system and power management system in a very small case. To perform even on a basic level, it has to incorporate 4 different areas of operation.\n\nInput\n\nThis typically includes temperature and pressure sensors, on/off signals and data from other modules within the vehicle and is how an ECU collects the information it needs to make decisions.\n\nAn example of an input would be a Coolant Temperature sensor, or an Accelerator Pedal Position sensor. Requests from the Antilock Brake System (ABS) module may also be considered, such as for the application of traction control.\n\nProcessing\n\nOnce the data has been collected by the ECU, the processor must determine output specifications, such as fuel injector pulse width, as directed by the software stored within the unit.\n\nThe processor not only reads the software to decide the appropriate output, it also records its own information, such as learned mixture adjustments and mileage.\n\nOutput\n\nThe ECU can then perform an action on the engine, allowing the correct amount of power to control actuators precisely.\n\nThese can include controlling fuel injector pulse width, exact timing of the ignition system, opening of an electronic throttle body or the activation of a radiator cooling fan.\n\nPower Management\n\nThe ECU has many internal power requirements for the hundreds of internal components to function correctly. In addition to this, in order for many sensors and actuators to work, the correct voltage has to be supplied by the ECU to components around the car. This could be just a steady 5 Volts for sensors, or over 200 Volts for the fuel injector circuits.\n\nNot only does the voltage have to correct, but some outputs have to handle more than 30 Amps, which naturally creates a lot of heat. Thermal management is a key part of ECU design.\n\nBasic ECU function\n\nThe first stage of ECU operation is in fact power management. This is where various voltages are regulated and the power-up of the ECU is handled. Most ECUs have sophisticated power management due to the variety of components inside, accurately regulating 1.8V, 2.6V, 3.3V, 5V, 30V and upto 250V all from the car’s 10-15V supply. The power management system also allows the ECU to have full control over when it powers itself down – i.e. not necessarily when you turn off the ignition switch.\n\nOnce the correct voltages are supplied, the microprocessors can begin to boot up. Here the main microprocessor reads software from the memory and performs a self-check. It then reads data from the numerous sensors on the engine and converts them into useful information. This information is often transmitted over the CANbus – your car’s internal computer network – to other electronic modules.\n\nOnce the main microprocessor has interpreted this information, it refers to the numeric tables or formulae within the software and activates outputs as required.\n\nExample. Should the Crankshaft Position Sensor show the engine is about to reach maximum compression on one of the cylinders, it will activate a transistor for the relevant ignition coil. The aforementioned formula and tables within the software will cause the activation of this transistor to be delayed or advanced based on throttle position, coolant temperature, air temperature, EGR opening, mixture ratio and previous measurements showing incorrect combustion.\n\nThe operation of the main processor inside the ECU and the activation of many outputs is overseen by a monitoring microprocessor – essentially a second computer that makes sure the main computer is doing everything correctly. If the monitoring microprocessor is not happy with any aspect of the ECU, it has the power to reset the whole system or shut it down completely. The use of the monitoring processor became imperative with the application of drive-by-wire throttle control due to safety concerns should the main microprocessor develop a fault.\n\nDiagnosis of an ECU and peripherals\n\nThe complexity of implementing all of this control, all of these inputs and all of these outputs requires relatively advanced self-diagnosis capability – traditional engine diagnosis becomes obsolete. The inputs and outputs of an ECU are individually monitored by the processor, often dozens of times a second, to ensure they’re within the tolerances set in the software. If a sensor reading falls outside of these tolerances for the pre-determined period of time, a fault is registered and a fault code stored for retrieval by the technician.\n\nFault Codes\n\nWhen a fault code is stored in the memory, it usually results in some of the logic within the software being bypassed with reduced engine efficiency, albeit with the engine still being able to function on a basic level. In some circumstances, the self-diagnosis routine discovers a serious fault that either fundamentally prevents the engine from running, or shuts the engine down in the interest of safety.\n\nWith modern engine management, the first fault diagnosis step for a vehicle technician is to access fault codes from the ECU memory. These are often stored as 5 digit alphanumeric codes beginning with a P, B, C or a U, followed by 4 numbers. Details of these codes and their descriptions can be found here: OBDII Fault Codes\n\nIn addition to these codes, the technician can also view live sensor data through the diagnostic tool while the vehicle is running. This allows them to see a sensor reading that is incorrect, but not out of tolerance by enough of a margin to flag a fault code.\n\nElectronic Throttle Control\n\nMany people question the necessity of drive-by-wire throttle control. Introduced in the 90s, it is now fitted to almost every engine produced today, but what are the advantages over a traditional cable?\n\nUntil the 80s, most throttle/accelerator control was managed with a cable from the pedal to the carburettor. The idle speed was set by simply adjusting a screw to keep the throttle flap open slightly until the engine idled correctly. This simple method required regular adjustment of idle speed and was prone to deviation when an engine was cold or as various parts wore out.\n\nIn the 1980s, with the mainstream introduction of ECUs, electronic Idle Air Control valves were introduced which solved many of these issues, however the ECU was now controlling part of the airflow and yet all of the other components remained.\n\nWith efficiency of engine operation and efficiency in car assembly moving forward, electronic throttle control was introduced. This sped up the manufacture of a car (no stiff throttle cables passing through the firewall), it removed the need for an Idle Air Control valve and it allowed the engine ECU additional control over the engine for improved EGR function, improved control over engine shutdown and improved starting.\n\nOne important advantage of electronic throttle control is that the ECU can adjust the throttle angle during acceleration to compliment the actual airflow through the engine. This improves the speed at which the air passes through the intake and provides gains in torque and drivability. This is known as torque-mapping and is only possible with electronic throttle control.\n\nAdaptations\n\nModern vehicles are built to much tighter tolerances than those of the past, however they are still susceptible to manufacturing variation, mechanical wear and environmental aspects. As such, they are able to adapt to gradual changes in the operation of the engine.\n\nExample. As an air filter gets blocked by dust, the ECU can start the engine running with a slightly reduced fuel injection quantity to compensate. This allows it to perform at peak efficiency from engine startup, rather than starting at factory levels and working towards the optimum mixture on each journey. It does this by storing the Lambda values over previous journeys.\n\nThese adaptations apply not just to blocked air filters, but to many systems on an engine or transmission. As components in hydraulic systems wear, they require changes to the timing of solenoid activation to compensate. Similarly, as the engine wears throughout, the ability to be an air pump deteriorates slightly and the opening angle of the throttle flap will need to change to maintain correct idle speed.\n\nHow to diagnose a faulty ECU with no communications:\n\nDreaded P0606 fault code - is it really caused by your ECU?\n\nBad Camshaft Position Sensor Symptoms - and how to FIX!\n\nFaulty Crankshaft Position Sensor? – How to Test and fix!\n\nThe timeline of the ECU\n\n1970s\n\nECUs started out simply controlling a couple of solenoids on carburetors to make them function more effectively. Some started controlling mixture at idle speeds.\n\n1980s\n\nWith the introduction of fuel injection, the ECU took on a new role of being completely responsible for the fuel and ignition management of petrol engines.\n\nClosed loop Lambda control was soon included and the ECU rapidly began a new era in engine efficiency.\n\n1990s\n\nThe ECU was now handling vehicle security. It was also beginning to appear on Diesel engines, which played no small part in the success of the turbodiesel engine over the next couple of decades.\n\n2000s\n\nThe adoption of Drive-by-Wire throttle control, turbocharger control and numerous emission systems all under the tight control of the ECU.\n\n2010s and beyond\n\nThe ECU now has full control over the combustion of the mixture, the opening of the throttle, the cooling system and emission systems. It can have more than a hundred inputs and outputs and is part of a network of dozens of other Electronic Control Units within the vehicle. Hybrid systems rely on communication with the ECU to function, while Driving Assistance features communicate to take control of engine demand where necessary."
    }
}