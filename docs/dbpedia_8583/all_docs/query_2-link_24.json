{
    "id": "dbpedia_8583_2",
    "rank": 24,
    "data": {
        "url": "https://stackoverflow.com/questions/2701998/automatically-document-all-modules-recursively-with-sphinx-autodoc",
        "read_more_link": "",
        "language": "en",
        "title": "Automatically document all modules recursively with Sphinx autodoc",
        "top_image": "https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded",
        "meta_img": "https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded",
        "images": [
            "https://i.sstatic.net/5Powi.jpg?s=64",
            "https://www.gravatar.com/avatar/be5ff3269172fc33bcb8546fbceae782?s=64&d=identicon&r=PG",
            "https://graph.facebook.com/10207692423548760/picture?type=large",
            "https://www.gravatar.com/avatar/faffc204d966e588cfa4cd8544c18865?s=64&d=identicon&r=PG",
            "https://i.sstatic.net/d4HTC.jpg?s=64",
            "https://www.gravatar.com/avatar/8daac16747c58e2c892e1a398919295c?s=64&d=identicon&r=PG",
            "https://i.sstatic.net/ArowW.jpg?s=64",
            "https://www.gravatar.com/avatar/16a138ff3b9c8f1663f8a0613c47b60a?s=64&d=identicon&r=PG",
            "https://www.gravatar.com/avatar/c2c732bbf13dc96670b210b3c0c1ead5?s=64&d=identicon&r=PG",
            "https://www.gravatar.com/avatar/730df0227780e818df8ce1e19c9a6c48?s=64&d=identicon&r=PG",
            "https://lh3.googleusercontent.com/a-/AOh14GixhA8sU4IfE8csOd85eqiOquvdLOMMspNQRjp9=k-s64",
            "https://stackoverflow.com/posts/2701998/ivc/3e78?prg=54ad84af-0c35-44eb-a380-4788cd934a89",
            "https://stackoverflow.com/js-false.gif"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": "2010-04-23T21:11:53",
        "summary": "",
        "meta_description": "I'm trying to use Sphinx to document a 5,000+ line project in Python. It has about 7 base modules. As far as I know, In order to use autodoc I need to write code like this for each file in my proje...",
        "meta_lang": "en",
        "meta_favicon": "https://cdn.sstatic.net/Sites/stackoverflow/Img/favicon.ico?v=ec617d715196",
        "meta_site_name": "Stack Overflow",
        "canonical_link": "https://stackoverflow.com/questions/2701998/automatically-document-all-modules-recursively-with-sphinx-autodoc",
        "text": "From Sphinx version 3.1 (June 2020), sphinx.ext.autosummary (finally!) has automatic recursion.\n\nSo no need to hard code module names or rely on 3rd party libraries like Sphinx AutoAPI or Sphinx AutoPackageSummary for their automatic package detection any more.\n\nExample Python 3.7 package to document (see code on Github and result on ReadTheDocs):\n\nmytoolbox |-- mypackage | |-- __init__.py | |-- foo.py | |-- mysubpackage | |-- __init__.py | |-- bar.py |-- doc | |-- source | |--index.rst | |--conf.py | |-- _templates | |-- custom-module-template.rst | |-- custom-class-template.rst\n\nconf.py:\n\nimport os import sys sys.path.insert(0, os.path.abspath('../..')) # Source code dir relative to this file extensions = [ 'sphinx.ext.autodoc', # Core library for html generation from docstrings 'sphinx.ext.autosummary', # Create neat summary tables ] autosummary_generate = True # Turn on sphinx.ext.autosummary # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates']\n\nindex.rst (note new :recursive: option):\n\nWelcome to My Toolbox ===================== Some words. .. autosummary:: :toctree: _autosummary :template: custom-module-template.rst :recursive: mypackage\n\nThis is sufficient to automatically summarise every module in the package, however deeply nested. For each module, it then summarises every attribute, function, class and exception in that module.\n\nOddly, though, the default sphinx.ext.autosummary templates don't go on to generate separate documentation pages for each attribute, function, class and exception, and link to them from the summary tables. It's possible to extend the templates to do this, as shown below, but I can't understand why this isn't the default behaviour - surely that's what most people would want..? I've raised it as a feature request.\n\nI had to copy the default templates locally, and then add to them:\n\nCopy site-packages/sphinx/ext/autosummary/templates/autosummary/module.rst to mytoolbox/doc/source/_templates/custom-module-template.rst\n\nCopy site-packages/sphinx/ext/autosummary/templates/autosummary/class.rst to mytoolbox/doc/source/_templates/custom-class-template.rst\n\nThe hook into custom-module-template.rst is in index.rst above, using the :template: option. (Delete that line to see what happens using the default site-packages templates.)\n\ncustom-module-template.rst (additional lines noted on the right):\n\n{{ fullname | escape | underline}} .. automodule:: {{ fullname }} {% block attributes %} {% if attributes %} .. rubric:: Module Attributes .. autosummary:: :toctree: <-- add this line {% for item in attributes %} {{ item }} {%- endfor %} {% endif %} {% endblock %} {% block functions %} {% if functions %} .. rubric:: {{ _('Functions') }} .. autosummary:: :toctree: <-- add this line {% for item in functions %} {{ item }} {%- endfor %} {% endif %} {% endblock %} {% block classes %} {% if classes %} .. rubric:: {{ _('Classes') }} .. autosummary:: :toctree: <-- add this line :template: custom-class-template.rst <-- add this line {% for item in classes %} {{ item }} {%- endfor %} {% endif %} {% endblock %} {% block exceptions %} {% if exceptions %} .. rubric:: {{ _('Exceptions') }} .. autosummary:: :toctree: <-- add this line {% for item in exceptions %} {{ item }} {%- endfor %} {% endif %} {% endblock %} {% block modules %} {% if modules %} .. rubric:: Modules .. autosummary:: :toctree: :template: custom-module-template.rst <-- add this line :recursive: {% for item in modules %} {{ item }} {%- endfor %} {% endif %} {% endblock %}\n\ncustom-class-template.rst (additional lines noted on the right):"
    }
}