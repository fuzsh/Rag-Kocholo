{
    "id": "dbpedia_8406_0",
    "rank": 75,
    "data": {
        "url": "https://forums.gentoo.org/viewtopic-t-555809-start-0.html",
        "read_more_link": "",
        "language": "en",
        "title": "How to set correct timezone (CET) in Embedded Gentoo",
        "top_image": "",
        "meta_img": "",
        "images": [
            "https://forums.gentoo.org/templates/gentoo/images/header_01_top.jpg",
            "https://forums.gentoo.org/templates/gentoo/images/header_01_bottom.jpg",
            "https://forums.gentoo.org/templates/gentoo/images/header_02.jpg",
            "https://forums.gentoo.org/templates/gentoo/images/lang_english/reply.gif",
            "https://forums.gentoo.org/images/forumpointer.gif",
            "https://forums.gentoo.org/images/ranks/rank_rect_0.gif",
            "https://forums.gentoo.org/images/avatars/50847169940e409fdc9034.gif",
            "https://forums.gentoo.org/templates/gentoo/images/icon_minipost.gif",
            "https://forums.gentoo.org/templates/gentoo/images/lang_english/icon_quote.gif",
            "https://forums.gentoo.org/images/smiles/icon_smile.gif",
            "https://forums.gentoo.org/templates/gentoo/images/lang_english/icon_profile.gif",
            "https://forums.gentoo.org/templates/gentoo/images/lang_english/icon_pm.gif",
            "https://forums.gentoo.org/templates/gentoo/images/spacer.gif",
            "https://forums.gentoo.org/images/ranks/rank_rect_0.gif",
            "https://forums.gentoo.org/images/avatars/gallery/Funny_Figure/klo.gif",
            "https://forums.gentoo.org/templates/gentoo/images/icon_minipost.gif",
            "https://forums.gentoo.org/templates/gentoo/images/lang_english/icon_quote.gif",
            "https://forums.gentoo.org/templates/gentoo/images/lang_english/icon_profile.gif",
            "https://forums.gentoo.org/templates/gentoo/images/lang_english/icon_pm.gif",
            "https://forums.gentoo.org/templates/gentoo/images/spacer.gif",
            "https://forums.gentoo.org/images/ranks/rank_rect_0.gif",
            "https://forums.gentoo.org/images/avatars/50847169940e409fdc9034.gif",
            "https://forums.gentoo.org/templates/gentoo/images/icon_minipost.gif",
            "https://forums.gentoo.org/templates/gentoo/images/lang_english/icon_quote.gif",
            "https://forums.gentoo.org/images/smiles/icon_smile.gif",
            "https://forums.gentoo.org/templates/gentoo/images/lang_english/icon_profile.gif",
            "https://forums.gentoo.org/templates/gentoo/images/lang_english/icon_pm.gif",
            "https://forums.gentoo.org/templates/gentoo/images/spacer.gif",
            "https://forums.gentoo.org/templates/gentoo/images/lang_english/reply.gif",
            "https://forums.gentoo.org/images/forumpointer.gif"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": null,
        "summary": "",
        "meta_description": "",
        "meta_lang": "",
        "meta_favicon": "",
        "meta_site_name": "",
        "canonical_link": null,
        "text": "Hi!\n\nI'm using Embedded Gentoo on some machines that must be synchronized in time.\n\nSo I thought on installing NTP to maintain the same time in each machine using the same NTP servers.\n\nOne of the main problems i've got after trying tons of things to get the same time in all the machines is the timezone.\n\nI'm in Barcelona (Spain), so the timezone is GMT+1 and GMT+2 for Daylight Saving Time, also I can use CET or Europe/Madrid for this purpose. I'd prefer using CET or Europe/Madrid because when the time changes in DST i shouldn't care of it, and the machine (or NTP) itself changes the time.\n\nThe main problem is that it seems that in Embedded Gentoo the timezones are not the same as on the usual Gentoo distro, so if i set /etc/TZ to CET or to Europe/Madrid it doesn't recognizes it and uses the default (that is UTC).\n\nAlso setting in bash the variable TZ to any of the options doesn't work.\n\nWhat works is setting TZ to GMT-2, and then i can see the correct time and date. The strange thing is that it should be GMT+2, but GMT+2 puts the clock to 4 hours before the actual time.\n\nI tried to copy /usr/share/zoneinfo/Europe/Madrid to /etc/localtime and it seems it doesn't take it into account when setting the system clock.\n\nI also read the init scripts of Gentoo searching for something using /etc/localtime setting the timezone and didn't find anything.\n\nIs there a way to set the timezone to CET or using /etc/localtime in Embedded Gentoo? I wouldn't like to use GMT-2 since maybe the date isn't changed according to DST.\n\nI'm not using the usual init scripts of gentoo (i'm using baselayout-lite) so i have made some scripts controlling different applications that must be installed in these computers.\n\nHere is an small part of my modified inittab regarding ntp stuff:\n\nCode:\n\n::sysinit:/usr/sbin/ntpdate -s -b hora.rediris.es ns.dns.pt ntp.unice.fr\n\n::sysinit:/usr/sbin/ntpd -g\n\n... blah blah ...\n\n::shutdown:/sbin/hwclock --systohc -u\n\n::shutdown:/bin/killall -9 ntpd\n\nAnd the relevant part of my ntp.conf :\n\nCode:\n\ndriftfile /var/lib/ntp/ntp.drift\n\nserver hora.rediris.es prefer\n\nserver ns.dns.pt\n\nserver ntp.unice.fr\n\nrestrict default nomodify nopeer\n\nrestrict 127.0.0.1\n\nThanks in advance"
    }
}