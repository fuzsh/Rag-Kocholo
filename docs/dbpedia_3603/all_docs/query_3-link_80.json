{
    "id": "dbpedia_3603_3",
    "rank": 80,
    "data": {
        "url": "https://forums.ni.com/t5/NI-TestStand/Seq-context-in-multiple-executions/td-p/839744",
        "read_more_link": "",
        "language": "en",
        "title": "Solved: Seq context in multiple executions",
        "top_image": "https://www.ni.com/favicon.ico?v=1",
        "meta_img": "https://www.ni.com/favicon.ico?v=1",
        "images": [
            "https://ni.scene7.com/is/image/ni/02_patrick_robinson_0043_255x95",
            "https://ni.scene7.com/is/image/ni/AdobeStock_538838391_249x112",
            "https://ni.scene7.com/is/image/ni/LabVIEW?$ni-icon-pm$",
            "https://ni.scene7.com/is/image/ni/Multisim_BG?$ni-icon-pm$",
            "https://ni.scene7.com/is/image/ni/sw_suites_bundles?$ni-icon-pm$",
            "https://forums.ni.com/t5/image/serverpage/avatar-name/environment-clouds/avatar-theme/classic/avatar-collection/environment/avatar-display-size/message/version/2?xdesc=1.0",
            "https://forums.ni.com/ni/i/rank_icons/trusted_regular.gif",
            "https://forums.ni.com/t5/image/serverpage/image-id/174687iDE4744BE191748E7/image-dimensions/40x40/constrain-image/false?v=v2",
            "https://forums.ni.com/ni/i/rank_icons/322.gif",
            "https://forums.ni.com/html/@B79F40613AE69B6C69D0D28AEC05CA1A/rank_icons/LV_Champ_Badge.png",
            "https://forums.ni.com/t5/image/serverpage/avatar-name/magichelmet/avatar-theme/classic/avatar-collection/symbols/avatar-display-size/message/version/2?xdesc=1.0",
            "https://forums.ni.com/ni/i/rank_icons/312.gif",
            "https://forums.ni.com/t5/image/serverpage/avatar-name/environment-clouds/avatar-theme/classic/avatar-collection/environment/avatar-display-size/message/version/2?xdesc=1.0",
            "https://forums.ni.com/ni/i/rank_icons/trusted_regular.gif",
            "https://forums.ni.com/t5/image/serverpage/avatar-name/magichelmet/avatar-theme/classic/avatar-collection/symbols/avatar-display-size/message/version/2?xdesc=1.0",
            "https://forums.ni.com/ni/i/rank_icons/312.gif",
            "https://forums.ni.com/t5/image/serverpage/avatar-name/environment-clouds/avatar-theme/classic/avatar-collection/environment/avatar-display-size/message/version/2?xdesc=1.0",
            "https://forums.ni.com/ni/i/rank_icons/trusted_regular.gif",
            "https://forums.ni.com/t5/image/serverpage/image-id/136520iD950AFC0CF90B5F8/image-dimensions/40x40/constrain-image/false?v=v2",
            "https://forums.ni.com/ni/i/rank_icons/employee/333.gif",
            "https://forums.ni.com/t5/image/serverpage/avatar-name/environment-clouds/avatar-theme/classic/avatar-collection/environment/avatar-display-size/message/version/2?xdesc=1.0",
            "https://forums.ni.com/t5/image/serverpage/avatar-name/environment-clouds/avatar-theme/classic/avatar-collection/environment/avatar-display-size/message/version/2?xdesc=1.0",
            "https://forums.ni.com/ni/i/rank_icons/trusted_regular.gif",
            "https://forums.ni.com/t5/image/serverpage/avatar-name/environment-clouds/avatar-theme/classic/avatar-collection/environment/avatar-display-size/message/version/2?xdesc=1.0",
            "https://forums.ni.com/skins/images/C038C60E5375198C445D89942B348854/responsive_peak/images/powered_by_khoros.svg",
            "https://www.ni.com/content/dam/web/scene7/images/logo_2020_white.svg",
            "https://www.ni.com/content/dam/web/scene7/images/logo_2020_white.svg",
            "https://ni.scene7.com/is/image/ni/emerson_footer_white?fmt=png-alpha"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [
            "forums.ni.com",
            "user-id"
        ],
        "publish_date": "2009-01-22T11:26:14.317000+00:00",
        "summary": "",
        "meta_description": "Solved: Hi, I have to modify the values of some TS local variables from LV without passing directly the sequence context. I mean, I have a VI that is",
        "meta_lang": "en",
        "meta_favicon": "https://www.ni.com/apple-touch-icon.png",
        "meta_site_name": "",
        "canonical_link": "https://forums.ni.com/t5/NI-TestStand/Seq-context-in-multiple-executions/td-p/839744",
        "text": "Hi, I have to modify the values of some TS local variables from LV without passing directly the sequence context. I mean, I have a VI that is running stand alone, it is not called by TS. Then I should only use the TS APIs. Using these APIs I can access to the station global as you can see in the attached file. I am using a batch/parallel model, then I need to have the sequence context of each execution.\n\nAnybody can help me?\n\nI discovered a work around using the TS PostUImessage, but it is not working properly.\n\nThanks\n\nSo are you saying you can access the globals this way? How will you know there is even a TS execution running? You need a handle to it somehow.\n\nHonestly the best way is to use the UIMessages. This is the proper way to access data in a sequence. What issues are you having with the UIMessages?\n\nRegards,\n\njigg\n\nCTA, CLA\n\ntesteract.com\n\n~Will work for kudos and/or BBQ~\n\nHi,\n\nI agree with jigg's best way.\n\nBut there is an other solution to modfiy your variables.\n\n1.) Create a in your running executions a named TS-Queue which is\n\nis acessible over the maschine.\n\n2.) then put your current execution in it. Now you can access this on all processes on your maschine !!\n\n3.) Open the TS Engine in your vi .\n\n4.) Open the queue in your vi. (well you have to now the name)\n\n5.) Access the execution in the Queue.\n\nHere is link and also an example to this crazy stuff.\n\nhttp://forums.ni.com/ni/board/message?board.id=330&message.id=18737&query.id=164454#M18737\n\nHope this helps and was not too confusing\n\nJuergen\n\n--just click on the star button a see what happens --\n\n--Signature--\n\nSessions NI-Week 2017 2016\n\nFeedback or kudos are welcome\n\nBasically, I have not really understand yet how Sequence context works. I use in this way: Process Models create new executions. At the beginnig of each entry points I sent a UImsg to LV. LV gets the SequenceContext and store it in shift register. When I need SeqContext I get it from the shift register and I use it, but I have an error; something related to the variable that does not exist. Unfortunately today I cannot do any try.\n\nIs this the correct approach?\n\nEach execution has its own sequence context and no more? I mean, sequence context is only related to the execution or also to the sequence that is running (i.e. if an execution call dynamically some different subsequence, the sequence context is the same. Isn't?)\n\nDoes it change continuously during the execution?\n\nAnd for Parallel threads of the same execution?\n\nQueues ara a solution, I know, but I would like go deeper with sequence context.\n\nThanks.\n\nHi Logatto,\n\nHere is a screenshot from the TS-Help:\n\nSequence Context\n\nA sequence context is an object in the TestStand API that represents the execution state of a sequence. For each active sequence, TestStand maintains a sequence context you can use to access all the objects, variables, and properties that relate to the execution of the sequence\n\nThat means a Batch/Paralell Model contains one or more Executions. A Running Execution can Contain one more Threads. Each Threat contains\n\nsequences in a stack (SubSequenceCalls)--> Every Sequnence has one Context\n\nHope this helps\n\nJuergen\n\n--just click on the star button a see what happens --\n\n--Signature--\n\nSessions NI-Week 2017 2016\n\nFeedback or kudos are welcome\n\nOk, then each running sequence or subsequence has its own sequence context. Another import issue is that each sequence context changes during the execution. Then store the Seq context into a shift register (or global) seems to be senseless, becouse when you need it, it has been already changed. Then using the UImessage is not the solution. Am I wrong?\n\nAll these \"sequence context\" should be in a stack. Then the unique solution could be accessing to this stack. Is it possible to do it using TS APIs? It should be possible using the \"Execution Classes\" but I was not able to do it yet.\n\nAny ideas?\n\nThanks.\n\nlogatto,\n\nWhat exactly are you trying to do? I'm not sure that sequence context's are really the right thing for you to be using. It's unsafe to access the sequence context from a separate thread while the execution is still running. The reason is that the sequence context changes as the execution runs and thus there are inherent race conditions in accessing the data if you are not accessing it from the execution's thread itself. If you just want to share data with or synchronize with the executions then there is likely a better way. Please explain what you are trying to do and perhaps I can suggest some alternatives.\n\n-Doug\n\nMessage Edited by dug9000 on 10:30 AM\n\nYou can get the station globals directly from the engine (i.e. Engine.Globals). You don't need to use TS_SetPropertyValue. That is meant for VIs that are called from a sequence. You can use the TestStand PropertyObject API directly on the Globals object you get from the engine (TS_SetPropertyValue just uses this underneath - I think you can open the SetPropertyValue VI to see how it's implemented if you'd like).\n\nIn general you shouldn't be accessing a sequence context from a different thread than the one that owns it (i.e. the one running in the execution) because you have no way of knowing/synchronizing whether or not it's still in use or active. Sequence contexts represent a particular sequence call on the callstack, once the sequence is done executing much of the information in them is cleared. There are ways you could synchronize that information for example you could add steps to the process model sequence to tell the UI to save and free them. There are many ways such steps could communicate with the UI (e.g. synchronous UI Messages, queues, LabVIEW specific shared data and synchronization, etc.). But if you do so, it would probably be better to pass just the data you need to the UI, not the whole sequence context. Why do you need to set Parameters.TestSocket.ContinueTesting from your UI directly? Isn't this normally set in the process model? Perhaps you could remove the need for having the sequence contexts in the UI by returning this information back to the process model and let the process model set ContinueTesting. That's probably closer to how the model works by default too.\n\nHope this information is helpful. Let me know if you need more details.\n\n-Doug"
    }
}