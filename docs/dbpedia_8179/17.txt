Jim Allen, the writer and socialist, has died at his home in Manchester aged 72, after a long illness. Perdition, the play he wrote for the Royal Court Theatre in London on Holocaust themes, was famously banned in 1987 after a long controversy. One of the pleasures of his last days was its current successful revival at the Gate Theatre, Notting Hill.

He first wrote for Coronation Street in the early 1960s, but was then commissioned by producer Tony Garnett to write for the Wednesday Play, the pioneering BBC TV drama series. His first success was The Lump, about building labourers, directed by Jack Gold. The Big Flame soon followed, a story of a workers' occupation in the Liverpool docks, which pre-dated the events of 1968.

Days of Hope was his most important work of those times: a sequence of four films which told the story of three people from the Great War to the General Strike. It contained the elements that were to concern him all his life - the endless cunning of the ruling class, the energy and idealism of youth, the manipulation of Labour leaders, and their betrayal of workers' struggles.

Jim was born in Collyhurst, a working-class suburb of Manchester. After riotous behaviour outside a chip shop during his time as a soldier, he was put in prison. At the time, his CO wrote that he was "rebellious and needed constant suppressing".

Prison was the start of his education. A fellow con introduced him to books - Dickens, Steinbeck, Jack London, Gorky - and Jim was launched on his lifetime's quest to understand and capture in words the eternal struggle between those who labour, those who exploit them, and those who betray them.

He worked on building sites, on the docks and in the mines. He learned his politics from the harsh life of the casual labourers. Work if your face fits. He met men schooled in revolutionary politics, self-taught, like himself. He rejected the social democrats in the Labour party and the Stalinists in the Communist party. He started a newspaper during his time in the pits, The Miner, in which he castigated the Labour and union leaders of the time.

Tony Garnett was able to make space for this extraordinary writer at the BBC. Complaints would follow a pattern: details would be challenged to undermine the substance of the film. At the time of the first world war, soldiers should have marched in fours not threes, for example.

The late 1970s and 1980s were hard times. A script about Ireland was rejected by Channel 4 for being too like a Peckinpah movie. Even the British Film Institute turned him down because "people don't talk like that any more". This from a bunch of arty bureaucrats who would need a translator north of Euston.

He was devastated by his wife Clare's death at this time, but he is survived by three daughters and two sons.

The play Perdition was about the deal done by some Zionists in Hungary in 1944 with the Nazis, in which a certain number of Jews would be allowed to escape to Palestine in return for silence about the destination of those bound for the concentration camps.

Previous attacks were as nothing compared to the Zionist fury unleashed when the play was being rehearsed. To Jim's disgust, and to the shame of the Royal Court, the play was withdrawn. Crude charges of anti-semitism were discounted by critics when the play was heard in public at the Edinburgh Festival.

Finally, the 90s saw his mature work. I directed his scripts for the films Hidden Agenda and Raining Stones, a tough but affectionate portrait of his home town, and Land and Freedom. The Spanish Civil War was an event he had long wanted to explore: the fight against fascism, volunteers from many lands, a people's army, collectives and workers' cooperatives - socialism in action. And then the betrayal by Stalin and by social democrats. They preferred Franco to the possibility of a workers' state. This was at the heart of Jim's writing and belief.

At its best, Jim Allen's writing had a visceral power unmatched by his contemporaries. He caught the rhythms, the vivid use of imagery, the jokes and phrasing of everyday speech. He could turn a political argument into a full-blooded passionate struggle. He had a great sense of humour and would write scenes of visual power and wit. He was at his best when imagining the struggles of the past - the Tan war in Ireland, the lock-outs of the 1920s, and the heroism of the Spanish volunteers.

His presence at cinema functions was a delight. Rightly suspicious of media folk, he always knew the time of the next train back to Manchester and kept what he needed for the day in a carrier bag. Even Cannes was treated to the sight of Jim marching along the Croisette, plastic bag at the ready. Everyone who knew him had a Jim Allen story.

He aroused an affection in those who worked with him that he would have found surprising. He could be prickly and unforgiving of real or perceived personal injustices. This meant that, sadly, some friendships did not last. He found it difficult to reassess a misunderstanding, even when, as occasion ally happened, he was in the wrong.

However, nothing can detract from his raw talent, his unbending integrity and his strength of purpose. That he was often ignored in favour of writers with less ability but better self-promotion did not surprise him, but should sadden us. He quoted William Morris as an epitaph to the volunteer in Land and Freedom. It could equally serve as his own:

Join in the battle

Wherein no man can fail

For who so fadeth and dieth

Yet his deeds shall all still prevail.