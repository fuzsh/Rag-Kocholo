{
    "id": "correct_foundationPlace_00033_1",
    "rank": 84,
    "data": {
        "url": "https://stackoverflow.com/questions/45241124/using-xdmpplan-in-marklogic",
        "read_more_link": "",
        "language": "en",
        "title": "Using xdmp:plan in MarkLogic",
        "top_image": "https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded",
        "meta_img": "https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded",
        "images": [
            "https://i.sstatic.net/J6pYX.png?s=64",
            "https://www.gravatar.com/avatar/6cf3c25436a6b28cec78ede71f140df0?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://www.gravatar.com/avatar/a35a1b505714a75a51178d42c16a8db8?s=64&d=identicon&r=PG&f=y&so-version=2",
            "https://stackoverflow.com/posts/45241124/ivc/e7cd?prg=19ebce13-02c7-44a5-9d3d-093080ed0839"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [],
        "publish_date": "2017-07-21T15:12:40",
        "summary": "",
        "meta_description": "I wanted to compare two queries:\n\n1)\n\nxdmp:plan(fn:distinct-values(/ts:top-song/ts:genres/ts:genre/text(), \"http://marklogic.com/collation/en/S1/AS/T00BB\"))\r\n2)\n\ndeclare variable $options :=\n&lt;op...",
        "meta_lang": "en",
        "meta_favicon": "https://cdn.sstatic.net/Sites/stackoverflow/Img/favicon.ico?v=ec617d715196",
        "meta_site_name": "Stack Overflow",
        "canonical_link": "https://stackoverflow.com/questions/45241124/using-xdmpplan-in-marklogic",
        "text": "xdmp:plan does not take an arbitrary expression as its operand: it looks like a function but it really is not. (If you think about it, that must be the case, because if it were a function it would evaluate its arguments first, so it would have no basis for creating the plan.) It is not designed to give you a comparison of two general XQuery expressions, but of the index operations involved in a search or path.\n\nYou can only give it either an XPath or a cts:search expression.\n\nSo: xdmp:plan(ts:top-song/ts:genres/ts:genre/text())"
    }
}