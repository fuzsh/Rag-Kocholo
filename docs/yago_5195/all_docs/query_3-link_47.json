{
    "id": "yago_5195_3",
    "rank": 47,
    "data": {
        "url": "https://stackoverflow.com/questions/78165521/why-is-my-rust-program-producing-a-segfault",
        "read_more_link": "",
        "language": "en",
        "title": "Why is my rust program producing a Segfault",
        "top_image": "https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded",
        "meta_img": "https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded",
        "images": [
            "https://lh3.googleusercontent.com/a-/ACNPEu_XqfLI59CSKnJFkFX86Q31MlVUOgAL_XTxBbyOAg=k-s64",
            "https://stackoverflow.com/posts/78165521/ivc/58ea?prg=5c54440e-d250-41c4-8617-161da452d833"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [
            "Tage Danielsson"
        ],
        "publish_date": "2024-03-15T08:22:31",
        "summary": "",
        "meta_description": "I'm creating a particle-life simulation in rust and i'm using Nannou for rendering graphics. Everything seems to work when i run &quot;cargo run&quot; but when i tried doing a &quot;cargo run --rel...",
        "meta_lang": "en",
        "meta_favicon": "https://cdn.sstatic.net/Sites/stackoverflow/Img/favicon.ico?v=ec617d715196",
        "meta_site_name": "Stack Overflow",
        "canonical_link": "https://stackoverflow.com/questions/78165521/why-is-my-rust-program-producing-a-segfault",
        "text": "I'm creating a particle-life simulation in rust and i'm using Nannou for rendering graphics. Everything seems to work when i run \"cargo run\" but when i tried doing a \"cargo run --release\" it sometimes produces a segfault, sometimes a blank screen and one time it worked. How is this possible?\n\nCode to reproduce:\n\nuse nannou::prelude::*; struct Model { _window: window::Id, } fn main() { nannou::app(model).update(update).run(); } fn update(app: &App, model: &mut Model, _update: Update) {} fn model(app: &App) -> Model { let _window = app .new_window() .view(view) .build() .expect(\"COULDN'T BUILD WINDOW!\"); Model { _window } } fn view(app: &App, model: &Model, frame: Frame) { let draw = app.draw(); draw.background().color(BLACK); draw.to_frame(app, &frame).expect(\"Couldn't build frame\"); }\n\nHaven't got to refactoring yet.\n\nI'm running the code on wsl2 Ubuntu.\n\nI have tried running gdb on the binary produced but I realised that i had no idea what i were doing and it didn't help at all.\n\nMy graphics is running through wslg, I dont know if it uses x11 or wayland.\n\nRunning the repruduced example through gdb gives me:"
    }
}