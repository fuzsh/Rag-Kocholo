{
    "id": "dbpedia_6856_1",
    "rank": 91,
    "data": {
        "url": "https://discuss.ardupilot.org/t/raw-420-rtl-yaw-spin-crash/107603",
        "read_more_link": "",
        "language": "en",
        "title": "RAW 420 RTL Yaw Spin Crash",
        "top_image": "https://discuss.ardupilot.org/uploads/default/original/3X/1/2/124d808d75e0540221dbf84ff28a11db2bc991fb.png",
        "meta_img": "https://discuss.ardupilot.org/uploads/default/original/3X/1/2/124d808d75e0540221dbf84ff28a11db2bc991fb.png",
        "images": [
            "https://discuss.ardupilot.org/uploads/default/optimized/3X/9/4/942235f10bf60d70695af668754a5c2bd8f8b595_2_666x500.jpeg",
            "https://discuss.ardupilot.org/uploads/default/optimized/3X/d/7/d74ffd6e03b20f09fb1920d14f376831e8715947_2_666x500.jpeg",
            "https://discuss.ardupilot.org/uploads/default/optimized/3X/9/6/9672d59e7faf915063a1801b467a29578b83326f_2_690x383.png",
            "https://discuss.ardupilot.org/uploads/default/optimized/3X/a/b/ab43afdc4a0e716ef53b27ae50a48b913e41ae36_2_690x381.png",
            "https://discuss.ardupilot.org/uploads/default/optimized/3X/9/3/93e3befac369ed6877514200da22e759e858fb93_2_690x437.png",
            "https://discuss.ardupilot.org/uploads/default/optimized/3X/9/a/9a09edc13dd645f4370447989391429baa6fdfdf_2_690x419.png",
            "https://discuss.ardupilot.org/letter_avatar_proxy/v4/letter/l/7c8e57/48.png",
            "https://discuss.ardupilot.org/letter_avatar_proxy/v4/letter/l/7c8e57/48.png",
            "https://discuss.ardupilot.org/user_avatar/discuss.ardupilot.org/allister/48/44600_2.png",
            "https://discuss.ardupilot.org/user_avatar/discuss.ardupilot.org/allister/48/44600_2.png",
            "https://discuss.ardupilot.org/uploads/default/optimized/3X/6/0/60cacd9544e1e8d1edc2ee6e6f373934818a6b9a_2_517x336.jpeg",
            "https://discuss.ardupilot.org/user_avatar/discuss.ardupilot.org/allister/48/44600_2.png",
            "https://discuss.ardupilot.org/uploads/default/optimized/3X/c/9/c94d80c000f5e0b9674842495cdd739d19b2a90f_2_690x119.jpeg",
            "https://discuss.ardupilot.org/uploads/default/optimized/3X/c/a/cae10125676683aa16cce197bb84f28fbb23b633_2_690x119.jpeg",
            "https://discuss.ardupilot.org/letter_avatar_proxy/v4/letter/l/7c8e57/48.png",
            "https://discuss.ardupilot.org/letter_avatar_proxy/v4/letter/l/7c8e57/48.png",
            "https://discuss.ardupilot.org/uploads/default/optimized/3X/3/3/334afaf34803ed3a434d3f546e2f5ed81600cdde_2_375x500.jpeg",
            "https://discuss.ardupilot.org/uploads/default/optimized/3X/3/a/3ae743cfafe2cedd81ab4c04a3edc7a1dc6adda2_2_231x500.jpeg",
            "https://discuss.ardupilot.org/uploads/default/optimized/3X/0/5/05a93c9384ec2aa0475d1b512aa678db832fc6d8_2_666x500.jpeg",
            "https://discuss.ardupilot.org/uploads/default/optimized/3X/e/4/e49da36397c40021c84aa276c1852fb4752bd0a8_2_690x349.jpeg",
            "https://discuss.ardupilot.org/uploads/default/optimized/3X/e/a/eacc9dae5f495f307647b8dcb7dc6d8af47f3eb6_2_690x350.png",
            "https://discuss.ardupilot.org/user_avatar/discuss.ardupilot.org/allister/48/44600_2.png",
            "https://discuss.ardupilot.org/uploads/default/optimized/3X/d/3/d315d16b4f601a6bcc7be066fd958a02cd8ada12_2_690x431.jpeg",
            "https://discuss.ardupilot.org/uploads/default/optimized/3X/1/2/12536d12493b60bd557a51ec021367be2b1d20e9_2_690x301.png"
        ],
        "movies": [],
        "keywords": [],
        "meta_keywords": [
            ""
        ],
        "tags": null,
        "authors": [
            "bnsgeyer (Bill Geyer)",
            "LinkRaymond (Raymond Link)",
            "Allister (Allister Schreiber)",
            "Ferrosan (Ferruccio Vicari)",
            "Peter_Glukhovsky (Peter Glukhovsky)"
        ],
        "publish_date": "2023-10-11T04:31:21+00:00",
        "summary": "",
        "meta_description": "Hey everyone! I’m new to this, and I’m leading a senior design team at my university using autonomous helicopters. \nWe had a crash that was pretty interesting last week: our Goblin RAW 420 was flying fine in stabilize mo&hellip;",
        "meta_lang": "en",
        "meta_favicon": "https://discuss.ardupilot.org/uploads/default/optimized/3X/3/7/3716f7fdcf94bb36d1bb4ab1717ba0501a52b6b7_2_32x32.png",
        "meta_site_name": "ArduPilot Discourse",
        "canonical_link": "https://discuss.ardupilot.org/t/raw-420-rtl-yaw-spin-crash/107603",
        "text": "Hey everyone! I’m new to this, and I’m leading a senior design team at my university using autonomous helicopters.\n\nWe had a crash that was pretty interesting last week: our Goblin RAW 420 was flying fine in stabilize mode, then we got a compass variance error, EKF error, and yaw imbalance 32% error.\n\nWe put it in return to home and all of a sudden it started spinning very fast about the yaw axis. In the gdrive is the bin file, a video of the crash, and the current settings on Mission Planner for the Helo (too big to attach here).\n\nI’m stuck trying to figure out what’s wrong, and don’t have the money to be able to fly again until we have the answer to what in the software is making it spin so weirdly. My best guess is that there is possible magnetic interference from the direct drive motor causing compass variance issues? But that shouldn’t make it spin like this, right?\n\nAny help that you guys could give me would be much appreciated!\n\nhttps://drive.google.com/drive/folders/1fpCPrr4UyO1okB3qc_rsUTU_Gfh230RY?usp=sharing\n\nVibrations are a big issue. Enough that the IMUs are clipping. I would say it’s a balance problem given the axis (X&Y), but it could also be related to how the FC is mounted to the airframe. This can cause the EKF errors. This is a mechanical issue and would need to be addressed before getting too far into any firmware problems.\n\nThe compass is suffering from interference. This could be cleaned up with a MagFit calibration once you’re flying again. This interference can cause the variance errors. The heli has current monitoring so this calibration will take current levels into account for the compass values.\n\nThere are some oscillations in the pitch and roll, but I’m new the Trad Heli side of the fence so I’ll let the smarter people make suggestions there.\n\n@Allister,\n\nThank you so much for your response! This is incredibly helpful.\n\nAs for the FC placement, where else on a Helo this small would be a good place for it? Is the issue that it is directly under the motor?\n\nWhat else should I look into to fix the mechanical vibrations? Would this be something that’s done with a notch filter in setup, or is it more of a mechanical balance thing than that?\n\nIs it possible that the compass is too close to the motor, or is that distance alright?\n\nAs for the vibration letting go right before the spin, are you saying that it was probably a mechanical failure that caused it rather than a software issue? We made sure everything was tensioned well before the flight and that there were no obvious issues with that system in preflight. Do you have any idea what may have caused it (i.e. belt slipping etc.)? The tail rotor is belt driven from the main drive motor. Could this be a calibration issue, or does a spin like that need to be more of a mechanical issue? Also, does it make sense that the current would drop 5A if the tail rotor is driven by the same motor as the main rotor?\n\nAlso, what software are you using to graph those datapoints, it looks really nice!\n\nSorry for all of the questions, I’m really new to this and don’t want to assume anything incorrectly!\n\nThank you for all of your help!\n\nIt may not be as much the issue of where, but how. You might need to look into a soft mount or damping for the FC. Directly under the motor might be an issue, but on this airframe there might not be a ton of choice. Hopefully somebody who knows the platform specifically can provide some suggestions.\n\nYou will need to look at the rotor head, the main blades, drive shaft, belt, tail rotor, etc. anything that’s moving. Have you statically balanced the blades? The notch filter will help address some noise to the IMU but mechanical vibrations can’t be cleaned up in software. Coming from a manned helicopter background, I’ll say that vibrations will lead to premature failure of components. The sudden drop in vibrations and current suggest to me that something stopped moving, but didn’t bind up. It could be a failure of the motor wiring (one phase let go), or maybe a belt failed and removed the electrical load on the motor.\n\nIt may help to try and figure out what direction the helicopter was spinning. Was it torque or anti-torque? I’m going to guess (and this is really a guess) that it was spinning with torque and that would suggest a failure to the tail rotor system.\n\nI use MavExplorer to look at log files. It’s part of Mavproxy. It’s very powerful but not as user friendly as the Mission Planner log tools. But because I jump between Windows, Mac, and Linux, it about the one program I use that is consistent between all the platforms.\n\n@Allister,\n\nI’ll look into how we have the FC mounted currently and see if that’s an issue and hopefully someone can give some suggestions.\n\nWe had a couple hard landings over the course of the helo’s setup that may have jostled some of our components. I don’t think we rebalanced or did another calibration after those besides the normal preflight ardupilot does.\n\nI looked into this a bit more and you are totally right. In the video the helicopter started spinning with torque. I looked a bit closer and you can see something fly off of the tail rotor assembly just before it started spinning:\n\nI wonder if something in that assembly (looks like maybe a blade that came off) had a vibration that we didn’t notice due to one of the hard landings.\n\nWould a tail rotor coming off reduce the pull on the motor this significantly? Enough to drop the amps on the motor by half?\n\nThank you so much for all of your insight – I’m feeling like we’re finally figuring this out.\n\nFirst, I am sorry to hear of your crash. Are you based in the U.S.?\n\nDid you inspect the aircraft to determine what came off? If you can see it in the video then it has to be something you could determine through inspection.\n\nOne thing to point out about helicopters, be sure that you use thread lock on all your bolts that aren’t being screwed into a self locking nut. If you built it from a kit, I’m sure they showed where to apply thread lock. With a new heli, it is good to check them after the first few flights to ensure nothing is coming loose.\n\nYes, because since the body is now spinning with the rotor system, there is significantly less torque to keep the rotor spinning.\n\n@bnsgeyer,\n\nThank you for your reply! Yes, we are at a University in Texas!\n\nWe did inspect post-crash; unfortunately, a lot of parts were strewn about our field after impact. I believe we tracked everything down except one of the tail rotor blades (I believe it is what came off) and now that we see it in video, I want to go look for it.\n\nWe did use thread locker, and even after the crash all of the bolts on the rotor assembly look intact, but the tail rotor itself was beaten pretty badly as it struck the ground first.\n\nHere’s an image of the full assembly:\n\nWe were having so many software issues and are so new to ardupilot that I guess we didn’t think it was mechanical! But, we are going to do a much more thorough inspection now that we know it was an issue related to the physical assembly. I mentioned we had a few hard landings and autorotation’s due to the motor shutting off on us due to a failsafe we hadn’t set up correctly, and I’m thinking we must have damaged the tail rotor assembly and just didn’t notice it upon preflight.\n\nIs there anything else we should look for or any other checks we should implement to make sure that this doesn’t happen again? I’m going to look at getting live graphing using MavProxy to hopefully diagnose any vibrations before it turns into this… Do you know if mission planner has a live plot feature that would allow us to do this easily?\n\nThank you so much for your time and insight!\n\nThere are a few options for live data in Mission planner. On the HUD you should see the word Vibe. If you click on that you’ll get a display of the current vibration levels in a popup window. EKF will do the same kind of pop up. On the bottom of the map tile there is a check box beside Tuning. If you select that the map will cut in half and you’ll get a dynamic graph. You can double click on the graph and a window will appear with all the possible data points you can graph. Tip: don’t try to graph too much here at one time. It just gets ugly.\n\nThe status tab also has the live vibe numbers, but that’s pretty hard to read during flight.\n\nJust keep in mind they only update at your telemetry rate, so they won’t be as detailed as the graphs from the .bin logs.\n\n@bnsgeyer @Allister,\n\nWe just did an inspection of the crashed tail rotor assembly, and after taking what we could find apart, the center shaft that contains the thrust bearings and holds the gripper arms for the tail blades looks like it was our failed part. There are two screws on either side that hold it on the tail slider shaft. One screw is missing (somewhere in the field), and the other was still intact within the blade grip (shown above). After taking this part off and inspecting the center shaft that holds the blades, one side looks like it was thread locked, and the other has no signs of thread locking at all. I believe when our team was assembling this, we must have forgot to thread lock that side and it worked itself out over time.\n\n**blue screws indicate to use loctite\n\nThank you all for your help and advice. I’m really excited to be a part of this community!"
    }
}